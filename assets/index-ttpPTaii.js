(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function Ko(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Wm(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var n=i.default;if(typeof n=="function"){var a=function l(){var o=!1;try{o=this instanceof l}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};a.prototype=n.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(i).forEach(function(l){var o=Object.getOwnPropertyDescriptor(i,l);Object.defineProperty(a,l,o.get?o:{enumerable:!0,get:function(){return i[l]}})}),a}var vo={exports:{}},Tn={},bo={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function qm(){if(rh)return ce;rh=1;var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function j(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function R(P,E,ee){this.props=P,this.context=E,this.refs=k,this.updater=ee||N}R.prototype.isReactComponent={},R.prototype.setState=function(P,E){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,E,"setState")},R.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function O(){}O.prototype=R.prototype;function H(P,E,ee){this.props=P,this.context=E,this.refs=k,this.updater=ee||N}var $=H.prototype=new O;$.constructor=H,_($,R.prototype),$.isPureReactComponent=!0;var B=Array.isArray,Z=Object.prototype.hasOwnProperty,W={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function fe(P,E,ee){var te,le={},de=null,xe=null;if(E!=null)for(te in E.ref!==void 0&&(xe=E.ref),E.key!==void 0&&(de=""+E.key),E)Z.call(E,te)&&!q.hasOwnProperty(te)&&(le[te]=E[te]);var ge=arguments.length-2;if(ge===1)le.children=ee;else if(1<ge){for(var be=Array(ge),me=0;me<ge;me++)be[me]=arguments[me+2];le.children=be}if(P&&P.defaultProps)for(te in ge=P.defaultProps,ge)le[te]===void 0&&(le[te]=ge[te]);return{$$typeof:i,type:P,key:de,ref:xe,props:le,_owner:W.current}}function ye(P,E){return{$$typeof:i,type:P.type,key:E,ref:P.ref,props:P.props,_owner:P._owner}}function Ne(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function Me(P){var E={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ee){return E[ee]})}var Ie=/\/+/g;function Ae(P,E){return typeof P=="object"&&P!==null&&P.key!=null?Me(""+P.key):E.toString(36)}function Se(P,E,ee,te,le){var de=typeof P;(de==="undefined"||de==="boolean")&&(P=null);var xe=!1;if(P===null)xe=!0;else switch(de){case"string":case"number":xe=!0;break;case"object":switch(P.$$typeof){case i:case n:xe=!0}}if(xe)return xe=P,le=le(xe),P=te===""?"."+Ae(xe,0):te,B(le)?(ee="",P!=null&&(ee=P.replace(Ie,"$&/")+"/"),Se(le,E,ee,"",function(me){return me})):le!=null&&(Ne(le)&&(le=ye(le,ee+(!le.key||xe&&xe.key===le.key?"":(""+le.key).replace(Ie,"$&/")+"/")+P)),E.push(le)),1;if(xe=0,te=te===""?".":te+":",B(P))for(var ge=0;ge<P.length;ge++){de=P[ge];var be=te+Ae(de,ge);xe+=Se(de,E,ee,be,le)}else if(be=j(P),typeof be=="function")for(P=be.call(P),ge=0;!(de=P.next()).done;)de=de.value,be=te+Ae(de,ge++),xe+=Se(de,E,ee,be,le);else if(de==="object")throw E=String(P),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.");return xe}function Re(P,E,ee){if(P==null)return P;var te=[],le=0;return Se(P,te,"","",function(de){return E.call(ee,de,le++)}),te}function Ce(P){if(P._status===-1){var E=P._result;E=E(),E.then(function(ee){(P._status===0||P._status===-1)&&(P._status=1,P._result=ee)},function(ee){(P._status===0||P._status===-1)&&(P._status=2,P._result=ee)}),P._status===-1&&(P._status=0,P._result=E)}if(P._status===1)return P._result.default;throw P._result}var oe={current:null},T={transition:null},K={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:T,ReactCurrentOwner:W};function F(){throw Error("act(...) is not supported in production builds of React.")}return ce.Children={map:Re,forEach:function(P,E,ee){Re(P,function(){E.apply(this,arguments)},ee)},count:function(P){var E=0;return Re(P,function(){E++}),E},toArray:function(P){return Re(P,function(E){return E})||[]},only:function(P){if(!Ne(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ce.Component=R,ce.Fragment=a,ce.Profiler=o,ce.PureComponent=H,ce.StrictMode=l,ce.Suspense=p,ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,ce.act=F,ce.cloneElement=function(P,E,ee){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var te=_({},P.props),le=P.key,de=P.ref,xe=P._owner;if(E!=null){if(E.ref!==void 0&&(de=E.ref,xe=W.current),E.key!==void 0&&(le=""+E.key),P.type&&P.type.defaultProps)var ge=P.type.defaultProps;for(be in E)Z.call(E,be)&&!q.hasOwnProperty(be)&&(te[be]=E[be]===void 0&&ge!==void 0?ge[be]:E[be])}var be=arguments.length-2;if(be===1)te.children=ee;else if(1<be){ge=Array(be);for(var me=0;me<be;me++)ge[me]=arguments[me+2];te.children=ge}return{$$typeof:i,type:P.type,key:le,ref:de,props:te,_owner:xe}},ce.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:u,_context:P},P.Consumer=P},ce.createElement=fe,ce.createFactory=function(P){var E=fe.bind(null,P);return E.type=P,E},ce.createRef=function(){return{current:null}},ce.forwardRef=function(P){return{$$typeof:m,render:P}},ce.isValidElement=Ne,ce.lazy=function(P){return{$$typeof:x,_payload:{_status:-1,_result:P},_init:Ce}},ce.memo=function(P,E){return{$$typeof:g,type:P,compare:E===void 0?null:E}},ce.startTransition=function(P){var E=T.transition;T.transition={};try{P()}finally{T.transition=E}},ce.unstable_act=F,ce.useCallback=function(P,E){return oe.current.useCallback(P,E)},ce.useContext=function(P){return oe.current.useContext(P)},ce.useDebugValue=function(){},ce.useDeferredValue=function(P){return oe.current.useDeferredValue(P)},ce.useEffect=function(P,E){return oe.current.useEffect(P,E)},ce.useId=function(){return oe.current.useId()},ce.useImperativeHandle=function(P,E,ee){return oe.current.useImperativeHandle(P,E,ee)},ce.useInsertionEffect=function(P,E){return oe.current.useInsertionEffect(P,E)},ce.useLayoutEffect=function(P,E){return oe.current.useLayoutEffect(P,E)},ce.useMemo=function(P,E){return oe.current.useMemo(P,E)},ce.useReducer=function(P,E,ee){return oe.current.useReducer(P,E,ee)},ce.useRef=function(P){return oe.current.useRef(P)},ce.useState=function(P){return oe.current.useState(P)},ce.useSyncExternalStore=function(P,E,ee){return oe.current.useSyncExternalStore(P,E,ee)},ce.useTransition=function(){return oe.current.useTransition()},ce.version="18.3.1",ce}var sh;function Go(){return sh||(sh=1,bo.exports=qm()),bo.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function Vm(){if(nh)return Tn;nh=1;var i=Go(),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,p,g){var x,v={},j=null,N=null;g!==void 0&&(j=""+g),p.key!==void 0&&(j=""+p.key),p.ref!==void 0&&(N=p.ref);for(x in p)l.call(p,x)&&!u.hasOwnProperty(x)&&(v[x]=p[x]);if(m&&m.defaultProps)for(x in p=m.defaultProps,p)v[x]===void 0&&(v[x]=p[x]);return{$$typeof:n,type:m,key:j,ref:N,props:v,_owner:o.current}}return Tn.Fragment=a,Tn.jsx=h,Tn.jsxs=h,Tn}var ah;function Hm(){return ah||(ah=1,vo.exports=Vm()),vo.exports}var r=Hm(),w=Go();const Fn=Ko(w);var li={},wo={exports:{}},ct={},jo={exports:{}},No={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih;function Km(){return ih||(ih=1,function(i){function n(T,K){var F=T.length;T.push(K);e:for(;0<F;){var P=F-1>>>1,E=T[P];if(0<o(E,K))T[P]=K,T[F]=E,F=P;else break e}}function a(T){return T.length===0?null:T[0]}function l(T){if(T.length===0)return null;var K=T[0],F=T.pop();if(F!==K){T[0]=F;e:for(var P=0,E=T.length,ee=E>>>1;P<ee;){var te=2*(P+1)-1,le=T[te],de=te+1,xe=T[de];if(0>o(le,F))de<E&&0>o(xe,le)?(T[P]=xe,T[de]=F,P=de):(T[P]=le,T[te]=F,P=te);else if(de<E&&0>o(xe,F))T[P]=xe,T[de]=F,P=de;else break e}}return K}function o(T,K){var F=T.sortIndex-K.sortIndex;return F!==0?F:T.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],x=1,v=null,j=3,N=!1,_=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(T){for(var K=a(g);K!==null;){if(K.callback===null)l(g);else if(K.startTime<=T)l(g),K.sortIndex=K.expirationTime,n(p,K);else break;K=a(g)}}function B(T){if(k=!1,$(T),!_)if(a(p)!==null)_=!0,Ce(Z);else{var K=a(g);K!==null&&oe(B,K.startTime-T)}}function Z(T,K){_=!1,k&&(k=!1,O(fe),fe=-1),N=!0;var F=j;try{for($(K),v=a(p);v!==null&&(!(v.expirationTime>K)||T&&!Me());){var P=v.callback;if(typeof P=="function"){v.callback=null,j=v.priorityLevel;var E=P(v.expirationTime<=K);K=i.unstable_now(),typeof E=="function"?v.callback=E:v===a(p)&&l(p),$(K)}else l(p);v=a(p)}if(v!==null)var ee=!0;else{var te=a(g);te!==null&&oe(B,te.startTime-K),ee=!1}return ee}finally{v=null,j=F,N=!1}}var W=!1,q=null,fe=-1,ye=5,Ne=-1;function Me(){return!(i.unstable_now()-Ne<ye)}function Ie(){if(q!==null){var T=i.unstable_now();Ne=T;var K=!0;try{K=q(!0,T)}finally{K?Ae():(W=!1,q=null)}}else W=!1}var Ae;if(typeof H=="function")Ae=function(){H(Ie)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Re=Se.port2;Se.port1.onmessage=Ie,Ae=function(){Re.postMessage(null)}}else Ae=function(){R(Ie,0)};function Ce(T){q=T,W||(W=!0,Ae())}function oe(T,K){fe=R(function(){T(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(T){T.callback=null},i.unstable_continueExecution=function(){_||N||(_=!0,Ce(Z))},i.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<T?Math.floor(1e3/T):5},i.unstable_getCurrentPriorityLevel=function(){return j},i.unstable_getFirstCallbackNode=function(){return a(p)},i.unstable_next=function(T){switch(j){case 1:case 2:case 3:var K=3;break;default:K=j}var F=j;j=K;try{return T()}finally{j=F}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(T,K){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var F=j;j=T;try{return K()}finally{j=F}},i.unstable_scheduleCallback=function(T,K,F){var P=i.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?P+F:P):F=P,T){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=F+E,T={id:x++,callback:K,priorityLevel:T,startTime:F,expirationTime:E,sortIndex:-1},F>P?(T.sortIndex=F,n(g,T),a(p)===null&&T===a(g)&&(k?(O(fe),fe=-1):k=!0,oe(B,F-P))):(T.sortIndex=E,n(p,T),_||N||(_=!0,Ce(Z))),T},i.unstable_shouldYield=Me,i.unstable_wrapCallback=function(T){var K=j;return function(){var F=j;j=K;try{return T.apply(this,arguments)}finally{j=F}}}}(No)),No}var lh;function Gm(){return lh||(lh=1,jo.exports=Km()),jo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh;function Jm(){if(oh)return ct;oh=1;var i=Go(),n=Gm();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,o={};function u(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(o[e]=t,e=0;e<t.length;e++)l.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},v={};function j(e){return p.call(v,e)?!0:p.call(x,e)?!1:g.test(e)?v[e]=!0:(x[e]=!0,!1)}function N(e,t,s,c){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return c?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _(e,t,s,c){if(t===null||typeof t>"u"||N(e,t,s,c))return!0;if(c)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function k(e,t,s,c,d,f,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=y}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){R[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];R[t]=new k(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){R[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){R[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){R[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){R[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){R[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){R[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){R[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function H(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(O,H);R[t]=new k(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(O,H);R[t]=new k(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(O,H);R[t]=new k(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){R[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),R.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){R[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,t,s,c){var d=R.hasOwnProperty(t)?R[t]:null;(d!==null?d.type!==0:c||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_(t,s,d,c)&&(s=null),c||d===null?j(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):d.mustUseProperty?e[d.propertyName]=s===null?d.type===3?!1:"":s:(t=d.attributeName,c=d.attributeNamespace,s===null?e.removeAttribute(t):(d=d.type,s=d===3||d===4&&s===!0?"":""+s,c?e.setAttributeNS(c,t,s):e.setAttribute(t,s))))}var B=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),W=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),Me=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),T=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=T&&e[T]||e["@@iterator"],typeof e=="function"?e:null)}var F=Object.assign,P;function E(e){if(P===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return`
`+P+e}var ee=!1;function te(e,t){if(!e||ee)return"";ee=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(I){var c=I}Reflect.construct(e,[],t)}else{try{t.call()}catch(I){c=I}e.call(t.prototype)}else{try{throw Error()}catch(I){c=I}e()}}catch(I){if(I&&c&&typeof I.stack=="string"){for(var d=I.stack.split(`
`),f=c.stack.split(`
`),y=d.length-1,b=f.length-1;1<=y&&0<=b&&d[y]!==f[b];)b--;for(;1<=y&&0<=b;y--,b--)if(d[y]!==f[b]){if(y!==1||b!==1)do if(y--,b--,0>b||d[y]!==f[b]){var S=`
`+d[y].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=y&&0<=b);break}}}finally{ee=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?E(e):""}function le(e){switch(e.tag){case 5:return E(e.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 2:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function de(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case W:return"Portal";case ye:return"Profiler";case fe:return"StrictMode";case Ae:return"Suspense";case Se:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Me:return(e.displayName||"Context")+".Consumer";case Ne:return(e._context.displayName||"Context")+".Provider";case Ie:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Re:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case Ce:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}function xe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(t);case 8:return t===fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ge(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function me(e){var t=be(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),c=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,f=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(y){c=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(y){c=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sr(e){e._valueTracker||(e._valueTracker=me(e))}function Yr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),c="";return e&&(c=be(e)?e.checked?"true":"false":e.value),e=c,e!==s?(t.setValue(e),!0):!1}function Bt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xr(e,t){var s=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function cc(e,t){var s=t.defaultValue==null?"":t.defaultValue,c=t.checked!=null?t.checked:t.defaultChecked;s=ge(t.value!=null?t.value:s),e._wrapperState={initialChecked:c,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uc(e,t){t=t.checked,t!=null&&$(e,"checked",t,!1)}function Si(e,t){uc(e,t);var s=ge(t.value),c=t.type;if(s!=null)c==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ci(e,t.type,s):t.hasOwnProperty("defaultValue")&&Ci(e,t.type,ge(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dc(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var c=t.type;if(!(c!=="submit"&&c!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Ci(e,t,s){(t!=="number"||Bt(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var qs=Array.isArray;function Zr(e,t,s,c){if(e=e.options,t){t={};for(var d=0;d<s.length;d++)t["$"+s[d]]=!0;for(s=0;s<e.length;s++)d=t.hasOwnProperty("$"+e[s].value),e[s].selected!==d&&(e[s].selected=d),d&&c&&(e[s].defaultSelected=!0)}else{for(s=""+ge(s),t=null,d=0;d<e.length;d++){if(e[d].value===s){e[d].selected=!0,c&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function Ei(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hc(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(a(92));if(qs(s)){if(1<s.length)throw Error(a(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:ge(s)}}function fc(e,t){var s=ge(t.value),c=ge(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),c!=null&&(e.defaultValue=""+c)}function mc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zn,xc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,c,d){MSApp.execUnsafeLocalFunction(function(){return e(t,s,c,d)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vs(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kf=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(e){Kf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hs[t]=Hs[e]})});function gc(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Hs.hasOwnProperty(e)&&Hs[e]?(""+t).trim():t+"px"}function yc(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var c=s.indexOf("--")===0,d=gc(s,t[s],c);s==="float"&&(s="cssFloat"),c?e.setProperty(s,d):e[s]=d}}var Gf=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ti(e,t){if(t){if(Gf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function Ai(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ri=null;function Li(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ii=null,es=null,ts=null;function vc(e){if(e=pn(e)){if(typeof Ii!="function")throw Error(a(280));var t=e.stateNode;t&&(t=ja(t),Ii(e.stateNode,e.type,t))}}function bc(e){es?ts?ts.push(e):ts=[e]:es=e}function wc(){if(es){var e=es,t=ts;if(ts=es=null,vc(e),t)for(e=0;e<t.length;e++)vc(t[e])}}function jc(e,t){return e(t)}function Nc(){}var Oi=!1;function kc(e,t,s){if(Oi)return e(t,s);Oi=!0;try{return jc(e,t,s)}finally{Oi=!1,(es!==null||ts!==null)&&(Nc(),wc())}}function Ks(e,t){var s=e.stateNode;if(s===null)return null;var c=ja(s);if(c===null)return null;s=c[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,t,typeof s));return s}var $i=!1;if(m)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){$i=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{$i=!1}function Jf(e,t,s,c,d,f,y,b,S){var I=Array.prototype.slice.call(arguments,3);try{t.apply(s,I)}catch(D){this.onError(D)}}var Js=!1,ea=null,ta=!1,Mi=null,Qf={onError:function(e){Js=!0,ea=e}};function Yf(e,t,s,c,d,f,y,b,S){Js=!1,ea=null,Jf.apply(Qf,arguments)}function Xf(e,t,s,c,d,f,y,b,S){if(Yf.apply(this,arguments),Js){if(Js){var I=ea;Js=!1,ea=null}else throw Error(a(198));ta||(ta=!0,Mi=I)}}function Tr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function _c(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sc(e){if(Tr(e)!==e)throw Error(a(188))}function Zf(e){var t=e.alternate;if(!t){if(t=Tr(e),t===null)throw Error(a(188));return t!==e?null:e}for(var s=e,c=t;;){var d=s.return;if(d===null)break;var f=d.alternate;if(f===null){if(c=d.return,c!==null){s=c;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===s)return Sc(d),e;if(f===c)return Sc(d),t;f=f.sibling}throw Error(a(188))}if(s.return!==c.return)s=d,c=f;else{for(var y=!1,b=d.child;b;){if(b===s){y=!0,s=d,c=f;break}if(b===c){y=!0,c=d,s=f;break}b=b.sibling}if(!y){for(b=f.child;b;){if(b===s){y=!0,s=f,c=d;break}if(b===c){y=!0,c=f,s=d;break}b=b.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==c)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:t}function Cc(e){return e=Zf(e),e!==null?Ec(e):null}function Ec(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ec(e);if(t!==null)return t;e=e.sibling}return null}var Pc=n.unstable_scheduleCallback,Tc=n.unstable_cancelCallback,e0=n.unstable_shouldYield,t0=n.unstable_requestPaint,Oe=n.unstable_now,r0=n.unstable_getCurrentPriorityLevel,Di=n.unstable_ImmediatePriority,Ac=n.unstable_UserBlockingPriority,ra=n.unstable_NormalPriority,s0=n.unstable_LowPriority,Rc=n.unstable_IdlePriority,sa=null,It=null;function n0(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(sa,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:l0,a0=Math.log,i0=Math.LN2;function l0(e){return e>>>=0,e===0?32:31-(a0(e)/i0|0)|0}var na=64,aa=4194304;function Qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ia(e,t){var s=e.pendingLanes;if(s===0)return 0;var c=0,d=e.suspendedLanes,f=e.pingedLanes,y=s&268435455;if(y!==0){var b=y&~d;b!==0?c=Qs(b):(f&=y,f!==0&&(c=Qs(f)))}else y=s&~d,y!==0?c=Qs(y):f!==0&&(c=Qs(f));if(c===0)return 0;if(t!==0&&t!==c&&(t&d)===0&&(d=c&-c,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((c&4)!==0&&(c|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=c;0<t;)s=31-jt(t),d=1<<s,c|=e[s],t&=~d;return c}function o0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c0(e,t){for(var s=e.suspendedLanes,c=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var y=31-jt(f),b=1<<y,S=d[y];S===-1?((b&s)===0||(b&c)!==0)&&(d[y]=o0(b,t)):S<=t&&(e.expiredLanes|=b),f&=~b}}function Ui(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lc(){var e=na;return na<<=1,(na&4194240)===0&&(na=64),e}function Fi(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Ys(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=s}function u0(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<s;){var d=31-jt(s),f=1<<d;t[d]=0,c[d]=-1,e[d]=-1,s&=~f}}function zi(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var c=31-jt(s),d=1<<c;d&t|e[c]&t&&(e[c]|=t),s&=~d}}var ve=0;function Ic(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Oc,Bi,$c,Mc,Dc,Wi=!1,la=[],nr=null,ar=null,ir=null,Xs=new Map,Zs=new Map,lr=[],d0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uc(e,t){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(t.pointerId)}}function en(e,t,s,c,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:s,eventSystemFlags:c,nativeEvent:f,targetContainers:[d]},t!==null&&(t=pn(t),t!==null&&Bi(t)),e):(e.eventSystemFlags|=c,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function h0(e,t,s,c,d){switch(t){case"focusin":return nr=en(nr,e,t,s,c,d),!0;case"dragenter":return ar=en(ar,e,t,s,c,d),!0;case"mouseover":return ir=en(ir,e,t,s,c,d),!0;case"pointerover":var f=d.pointerId;return Xs.set(f,en(Xs.get(f)||null,e,t,s,c,d)),!0;case"gotpointercapture":return f=d.pointerId,Zs.set(f,en(Zs.get(f)||null,e,t,s,c,d)),!0}return!1}function Fc(e){var t=Ar(e.target);if(t!==null){var s=Tr(t);if(s!==null){if(t=s.tag,t===13){if(t=_c(s),t!==null){e.blockedOn=t,Dc(e.priority,function(){$c(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Vi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var c=new s.constructor(s.type,s);Ri=c,s.target.dispatchEvent(c),Ri=null}else return t=pn(s),t!==null&&Bi(t),e.blockedOn=s,!1;t.shift()}return!0}function zc(e,t,s){oa(e)&&s.delete(t)}function f0(){Wi=!1,nr!==null&&oa(nr)&&(nr=null),ar!==null&&oa(ar)&&(ar=null),ir!==null&&oa(ir)&&(ir=null),Xs.forEach(zc),Zs.forEach(zc)}function tn(e,t){e.blockedOn===t&&(e.blockedOn=null,Wi||(Wi=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,f0)))}function rn(e){function t(d){return tn(d,e)}if(0<la.length){tn(la[0],e);for(var s=1;s<la.length;s++){var c=la[s];c.blockedOn===e&&(c.blockedOn=null)}}for(nr!==null&&tn(nr,e),ar!==null&&tn(ar,e),ir!==null&&tn(ir,e),Xs.forEach(t),Zs.forEach(t),s=0;s<lr.length;s++)c=lr[s],c.blockedOn===e&&(c.blockedOn=null);for(;0<lr.length&&(s=lr[0],s.blockedOn===null);)Fc(s),s.blockedOn===null&&lr.shift()}var rs=B.ReactCurrentBatchConfig,ca=!0;function m0(e,t,s,c){var d=ve,f=rs.transition;rs.transition=null;try{ve=1,qi(e,t,s,c)}finally{ve=d,rs.transition=f}}function p0(e,t,s,c){var d=ve,f=rs.transition;rs.transition=null;try{ve=4,qi(e,t,s,c)}finally{ve=d,rs.transition=f}}function qi(e,t,s,c){if(ca){var d=Vi(e,t,s,c);if(d===null)ol(e,t,c,ua,s),Uc(e,c);else if(h0(d,e,t,s,c))c.stopPropagation();else if(Uc(e,c),t&4&&-1<d0.indexOf(e)){for(;d!==null;){var f=pn(d);if(f!==null&&Oc(f),f=Vi(e,t,s,c),f===null&&ol(e,t,c,ua,s),f===d)break;d=f}d!==null&&c.stopPropagation()}else ol(e,t,c,null,s)}}var ua=null;function Vi(e,t,s,c){if(ua=null,e=Li(c),e=Ar(e),e!==null)if(t=Tr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=_c(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ua=e,null}function Bc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r0()){case Di:return 1;case Ac:return 4;case ra:case s0:return 16;case Rc:return 536870912;default:return 16}default:return 16}}var or=null,Hi=null,da=null;function Wc(){if(da)return da;var e,t=Hi,s=t.length,c,d="value"in or?or.value:or.textContent,f=d.length;for(e=0;e<s&&t[e]===d[e];e++);var y=s-e;for(c=1;c<=y&&t[s-c]===d[f-c];c++);return da=d.slice(e,1<c?1-c:void 0)}function ha(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fa(){return!0}function qc(){return!1}function ht(e){function t(s,c,d,f,y){this._reactName=s,this._targetInst=d,this.type=c,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?fa:qc,this.isPropagationStopped=qc,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),t}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=ht(ss),sn=F({},ss,{view:0,detail:0}),x0=ht(sn),Gi,Ji,nn,ma=F({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&e.type==="mousemove"?(Gi=e.screenX-nn.screenX,Ji=e.screenY-nn.screenY):Ji=Gi=0,nn=e),Gi)},movementY:function(e){return"movementY"in e?e.movementY:Ji}}),Vc=ht(ma),g0=F({},ma,{dataTransfer:0}),y0=ht(g0),v0=F({},sn,{relatedTarget:0}),Qi=ht(v0),b0=F({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),w0=ht(b0),j0=F({},ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),N0=ht(j0),k0=F({},ss,{data:0}),Hc=ht(k0),_0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=C0[e])?!!t[e]:!1}function Yi(){return E0}var P0=F({},sn,{key:function(e){if(e.key){var t=_0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ha(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?S0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yi,charCode:function(e){return e.type==="keypress"?ha(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ha(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),T0=ht(P0),A0=F({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=ht(A0),R0=F({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yi}),L0=ht(R0),I0=F({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),O0=ht(I0),$0=F({},ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M0=ht($0),D0=[9,13,27,32],Xi=m&&"CompositionEvent"in window,an=null;m&&"documentMode"in document&&(an=document.documentMode);var U0=m&&"TextEvent"in window&&!an,Gc=m&&(!Xi||an&&8<an&&11>=an),Jc=" ",Qc=!1;function Yc(e,t){switch(e){case"keyup":return D0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function F0(e,t){switch(e){case"compositionend":return Xc(t);case"keypress":return t.which!==32?null:(Qc=!0,Jc);case"textInput":return e=t.data,e===Jc&&Qc?null:e;default:return null}}function z0(e,t){if(ns)return e==="compositionend"||!Xi&&Yc(e,t)?(e=Wc(),da=Hi=or=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gc&&t.locale!=="ko"?null:t.data;default:return null}}var B0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B0[e.type]:t==="textarea"}function eu(e,t,s,c){bc(c),t=va(t,"onChange"),0<t.length&&(s=new Ki("onChange","change",null,s,c),e.push({event:s,listeners:t}))}var ln=null,on=null;function W0(e){yu(e,0)}function pa(e){var t=cs(e);if(Yr(t))return e}function q0(e,t){if(e==="change")return t}var tu=!1;if(m){var Zi;if(m){var el="oninput"in document;if(!el){var ru=document.createElement("div");ru.setAttribute("oninput","return;"),el=typeof ru.oninput=="function"}Zi=el}else Zi=!1;tu=Zi&&(!document.documentMode||9<document.documentMode)}function su(){ln&&(ln.detachEvent("onpropertychange",nu),on=ln=null)}function nu(e){if(e.propertyName==="value"&&pa(on)){var t=[];eu(t,on,e,Li(e)),kc(W0,t)}}function V0(e,t,s){e==="focusin"?(su(),ln=t,on=s,ln.attachEvent("onpropertychange",nu)):e==="focusout"&&su()}function H0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pa(on)}function K0(e,t){if(e==="click")return pa(t)}function G0(e,t){if(e==="input"||e==="change")return pa(t)}function J0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:J0;function cn(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),c=Object.keys(t);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var d=s[c];if(!p.call(t,d)||!Nt(e[d],t[d]))return!1}return!0}function au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iu(e,t){var s=au(e);e=0;for(var c;s;){if(s.nodeType===3){if(c=e+s.textContent.length,e<=t&&c>=t)return{node:s,offset:t-e};e=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=au(s)}}function lu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ou(){for(var e=window,t=Bt();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Bt(e.document)}return t}function tl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Q0(e){var t=ou(),s=e.focusedElem,c=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&lu(s.ownerDocument.documentElement,s)){if(c!==null&&tl(s)){if(t=c.start,e=c.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=s.textContent.length,f=Math.min(c.start,d);c=c.end===void 0?f:Math.min(c.end,d),!e.extend&&f>c&&(d=c,c=f,f=d),d=iu(s,f);var y=iu(s,c);d&&y&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>c?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Y0=m&&"documentMode"in document&&11>=document.documentMode,as=null,rl=null,un=null,sl=!1;function cu(e,t,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;sl||as==null||as!==Bt(c)||(c=as,"selectionStart"in c&&tl(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),un&&cn(un,c)||(un=c,c=va(rl,"onSelect"),0<c.length&&(t=new Ki("onSelect","select",null,t,s),e.push({event:t,listeners:c}),t.target=as)))}function xa(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var is={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionend:xa("Transition","TransitionEnd")},nl={},uu={};m&&(uu=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function ga(e){if(nl[e])return nl[e];if(!is[e])return e;var t=is[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in uu)return nl[e]=t[s];return e}var du=ga("animationend"),hu=ga("animationiteration"),fu=ga("animationstart"),mu=ga("transitionend"),pu=new Map,xu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){pu.set(e,t),u(t,[e])}for(var al=0;al<xu.length;al++){var il=xu[al],X0=il.toLowerCase(),Z0=il[0].toUpperCase()+il.slice(1);cr(X0,"on"+Z0)}cr(du,"onAnimationEnd"),cr(hu,"onAnimationIteration"),cr(fu,"onAnimationStart"),cr("dblclick","onDoubleClick"),cr("focusin","onFocus"),cr("focusout","onBlur"),cr(mu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),em=new Set("cancel close invalid load scroll toggle".split(" ").concat(dn));function gu(e,t,s){var c=e.type||"unknown-event";e.currentTarget=s,Xf(c,t,void 0,e),e.currentTarget=null}function yu(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var c=e[s],d=c.event;c=c.listeners;e:{var f=void 0;if(t)for(var y=c.length-1;0<=y;y--){var b=c[y],S=b.instance,I=b.currentTarget;if(b=b.listener,S!==f&&d.isPropagationStopped())break e;gu(d,b,I),f=S}else for(y=0;y<c.length;y++){if(b=c[y],S=b.instance,I=b.currentTarget,b=b.listener,S!==f&&d.isPropagationStopped())break e;gu(d,b,I),f=S}}}if(ta)throw e=Mi,ta=!1,Mi=null,e}function ke(e,t){var s=t[ml];s===void 0&&(s=t[ml]=new Set);var c=e+"__bubble";s.has(c)||(vu(t,e,2,!1),s.add(c))}function ll(e,t,s){var c=0;t&&(c|=4),vu(s,e,c,t)}var ya="_reactListening"+Math.random().toString(36).slice(2);function hn(e){if(!e[ya]){e[ya]=!0,l.forEach(function(s){s!=="selectionchange"&&(em.has(s)||ll(s,!1,e),ll(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ya]||(t[ya]=!0,ll("selectionchange",!1,t))}}function vu(e,t,s,c){switch(Bc(t)){case 1:var d=m0;break;case 4:d=p0;break;default:d=qi}s=d.bind(null,t,s,e),d=void 0,!$i||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),c?d!==void 0?e.addEventListener(t,s,{capture:!0,passive:d}):e.addEventListener(t,s,!0):d!==void 0?e.addEventListener(t,s,{passive:d}):e.addEventListener(t,s,!1)}function ol(e,t,s,c,d){var f=c;if((t&1)===0&&(t&2)===0&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var b=c.stateNode.containerInfo;if(b===d||b.nodeType===8&&b.parentNode===d)break;if(y===4)for(y=c.return;y!==null;){var S=y.tag;if((S===3||S===4)&&(S=y.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;y=y.return}for(;b!==null;){if(y=Ar(b),y===null)return;if(S=y.tag,S===5||S===6){c=f=y;continue e}b=b.parentNode}}c=c.return}kc(function(){var I=f,D=Li(s),U=[];e:{var M=pu.get(e);if(M!==void 0){var V=Ki,J=e;switch(e){case"keypress":if(ha(s)===0)break e;case"keydown":case"keyup":V=T0;break;case"focusin":J="focus",V=Qi;break;case"focusout":J="blur",V=Qi;break;case"beforeblur":case"afterblur":V=Qi;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=L0;break;case du:case hu:case fu:V=w0;break;case mu:V=O0;break;case"scroll":V=x0;break;case"wheel":V=M0;break;case"copy":case"cut":case"paste":V=N0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Kc}var Q=(t&4)!==0,$e=!Q&&e==="scroll",A=Q?M!==null?M+"Capture":null:M;Q=[];for(var C=I,L;C!==null;){L=C;var z=L.stateNode;if(L.tag===5&&z!==null&&(L=z,A!==null&&(z=Ks(C,A),z!=null&&Q.push(fn(C,z,L)))),$e)break;C=C.return}0<Q.length&&(M=new V(M,J,null,s,D),U.push({event:M,listeners:Q}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",M&&s!==Ri&&(J=s.relatedTarget||s.fromElement)&&(Ar(J)||J[Wt]))break e;if((V||M)&&(M=D.window===D?D:(M=D.ownerDocument)?M.defaultView||M.parentWindow:window,V?(J=s.relatedTarget||s.toElement,V=I,J=J?Ar(J):null,J!==null&&($e=Tr(J),J!==$e||J.tag!==5&&J.tag!==6)&&(J=null)):(V=null,J=I),V!==J)){if(Q=Vc,z="onMouseLeave",A="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(Q=Kc,z="onPointerLeave",A="onPointerEnter",C="pointer"),$e=V==null?M:cs(V),L=J==null?M:cs(J),M=new Q(z,C+"leave",V,s,D),M.target=$e,M.relatedTarget=L,z=null,Ar(D)===I&&(Q=new Q(A,C+"enter",J,s,D),Q.target=L,Q.relatedTarget=$e,z=Q),$e=z,V&&J)t:{for(Q=V,A=J,C=0,L=Q;L;L=ls(L))C++;for(L=0,z=A;z;z=ls(z))L++;for(;0<C-L;)Q=ls(Q),C--;for(;0<L-C;)A=ls(A),L--;for(;C--;){if(Q===A||A!==null&&Q===A.alternate)break t;Q=ls(Q),A=ls(A)}Q=null}else Q=null;V!==null&&bu(U,M,V,Q,!1),J!==null&&$e!==null&&bu(U,$e,J,Q,!0)}}e:{if(M=I?cs(I):window,V=M.nodeName&&M.nodeName.toLowerCase(),V==="select"||V==="input"&&M.type==="file")var Y=q0;else if(Zc(M))if(tu)Y=G0;else{Y=H0;var re=V0}else(V=M.nodeName)&&V.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(Y=K0);if(Y&&(Y=Y(e,I))){eu(U,Y,s,D);break e}re&&re(e,M,I),e==="focusout"&&(re=M._wrapperState)&&re.controlled&&M.type==="number"&&Ci(M,"number",M.value)}switch(re=I?cs(I):window,e){case"focusin":(Zc(re)||re.contentEditable==="true")&&(as=re,rl=I,un=null);break;case"focusout":un=rl=as=null;break;case"mousedown":sl=!0;break;case"contextmenu":case"mouseup":case"dragend":sl=!1,cu(U,s,D);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":cu(U,s,D)}var se;if(Xi)e:{switch(e){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else ns?Yc(e,s)&&(ae="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ae="onCompositionStart");ae&&(Gc&&s.locale!=="ko"&&(ns||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&ns&&(se=Wc()):(or=D,Hi="value"in or?or.value:or.textContent,ns=!0)),re=va(I,ae),0<re.length&&(ae=new Hc(ae,e,null,s,D),U.push({event:ae,listeners:re}),se?ae.data=se:(se=Xc(s),se!==null&&(ae.data=se)))),(se=U0?F0(e,s):z0(e,s))&&(I=va(I,"onBeforeInput"),0<I.length&&(D=new Hc("onBeforeInput","beforeinput",null,s,D),U.push({event:D,listeners:I}),D.data=se))}yu(U,t)})}function fn(e,t,s){return{instance:e,listener:t,currentTarget:s}}function va(e,t){for(var s=t+"Capture",c=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Ks(e,s),f!=null&&c.unshift(fn(e,f,d)),f=Ks(e,t),f!=null&&c.push(fn(e,f,d))),e=e.return}return c}function ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bu(e,t,s,c,d){for(var f=t._reactName,y=[];s!==null&&s!==c;){var b=s,S=b.alternate,I=b.stateNode;if(S!==null&&S===c)break;b.tag===5&&I!==null&&(b=I,d?(S=Ks(s,f),S!=null&&y.unshift(fn(s,S,b))):d||(S=Ks(s,f),S!=null&&y.push(fn(s,S,b)))),s=s.return}y.length!==0&&e.push({event:t,listeners:y})}var tm=/\r\n?/g,rm=/\u0000|\uFFFD/g;function wu(e){return(typeof e=="string"?e:""+e).replace(tm,`
`).replace(rm,"")}function ba(e,t,s){if(t=wu(t),wu(e)!==t&&s)throw Error(a(425))}function wa(){}var cl=null,ul=null;function dl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hl=typeof setTimeout=="function"?setTimeout:void 0,sm=typeof clearTimeout=="function"?clearTimeout:void 0,ju=typeof Promise=="function"?Promise:void 0,nm=typeof queueMicrotask=="function"?queueMicrotask:typeof ju<"u"?function(e){return ju.resolve(null).then(e).catch(am)}:hl;function am(e){setTimeout(function(){throw e})}function fl(e,t){var s=t,c=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(c===0){e.removeChild(d),rn(t);return}c--}else s!=="$"&&s!=="$?"&&s!=="$!"||c++;s=d}while(s);rn(t)}function ur(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var os=Math.random().toString(36).slice(2),Ot="__reactFiber$"+os,mn="__reactProps$"+os,Wt="__reactContainer$"+os,ml="__reactEvents$"+os,im="__reactListeners$"+os,lm="__reactHandles$"+os;function Ar(e){var t=e[Ot];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Wt]||s[Ot]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Nu(e);e!==null;){if(s=e[Ot])return s;e=Nu(e)}return t}e=s,s=e.parentNode}return null}function pn(e){return e=e[Ot]||e[Wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function ja(e){return e[mn]||null}var pl=[],us=-1;function dr(e){return{current:e}}function _e(e){0>us||(e.current=pl[us],pl[us]=null,us--)}function we(e,t){us++,pl[us]=e.current,e.current=t}var hr={},Ye=dr(hr),nt=dr(!1),Rr=hr;function ds(e,t){var s=e.type.contextTypes;if(!s)return hr;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===t)return c.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in s)d[f]=t[f];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function at(e){return e=e.childContextTypes,e!=null}function Na(){_e(nt),_e(Ye)}function ku(e,t,s){if(Ye.current!==hr)throw Error(a(168));we(Ye,t),we(nt,s)}function _u(e,t,s){var c=e.stateNode;if(t=t.childContextTypes,typeof c.getChildContext!="function")return s;c=c.getChildContext();for(var d in c)if(!(d in t))throw Error(a(108,xe(e)||"Unknown",d));return F({},s,c)}function ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hr,Rr=Ye.current,we(Ye,e),we(nt,nt.current),!0}function Su(e,t,s){var c=e.stateNode;if(!c)throw Error(a(169));s?(e=_u(e,t,Rr),c.__reactInternalMemoizedMergedChildContext=e,_e(nt),_e(Ye),we(Ye,e)):_e(nt),we(nt,s)}var qt=null,_a=!1,xl=!1;function Cu(e){qt===null?qt=[e]:qt.push(e)}function om(e){_a=!0,Cu(e)}function fr(){if(!xl&&qt!==null){xl=!0;var e=0,t=ve;try{var s=qt;for(ve=1;e<s.length;e++){var c=s[e];do c=c(!0);while(c!==null)}qt=null,_a=!1}catch(d){throw qt!==null&&(qt=qt.slice(e+1)),Pc(Di,fr),d}finally{ve=t,xl=!1}}return null}var hs=[],fs=0,Sa=null,Ca=0,xt=[],gt=0,Lr=null,Vt=1,Ht="";function Ir(e,t){hs[fs++]=Ca,hs[fs++]=Sa,Sa=e,Ca=t}function Eu(e,t,s){xt[gt++]=Vt,xt[gt++]=Ht,xt[gt++]=Lr,Lr=e;var c=Vt;e=Ht;var d=32-jt(c)-1;c&=~(1<<d),s+=1;var f=32-jt(t)+d;if(30<f){var y=d-d%5;f=(c&(1<<y)-1).toString(32),c>>=y,d-=y,Vt=1<<32-jt(t)+d|s<<d|c,Ht=f+e}else Vt=1<<f|s<<d|c,Ht=e}function gl(e){e.return!==null&&(Ir(e,1),Eu(e,1,0))}function yl(e){for(;e===Sa;)Sa=hs[--fs],hs[fs]=null,Ca=hs[--fs],hs[fs]=null;for(;e===Lr;)Lr=xt[--gt],xt[gt]=null,Ht=xt[--gt],xt[gt]=null,Vt=xt[--gt],xt[gt]=null}var ft=null,mt=null,Ee=!1,kt=null;function Pu(e,t){var s=wt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Tu(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,mt=ur(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Lr!==null?{id:Vt,overflow:Ht}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=wt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,ft=e,mt=null,!0):!1;default:return!1}}function vl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bl(e){if(Ee){var t=mt;if(t){var s=t;if(!Tu(e,t)){if(vl(e))throw Error(a(418));t=ur(s.nextSibling);var c=ft;t&&Tu(e,t)?Pu(c,s):(e.flags=e.flags&-4097|2,Ee=!1,ft=e)}}else{if(vl(e))throw Error(a(418));e.flags=e.flags&-4097|2,Ee=!1,ft=e}}}function Au(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function Ea(e){if(e!==ft)return!1;if(!Ee)return Au(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dl(e.type,e.memoizedProps)),t&&(t=mt)){if(vl(e))throw Ru(),Error(a(418));for(;t;)Pu(e,t),t=ur(t.nextSibling)}if(Au(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){mt=ur(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=ft?ur(e.stateNode.nextSibling):null;return!0}function Ru(){for(var e=mt;e;)e=ur(e.nextSibling)}function ms(){mt=ft=null,Ee=!1}function wl(e){kt===null?kt=[e]:kt.push(e)}var cm=B.ReactCurrentBatchConfig;function xn(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(a(309));var c=s.stateNode}if(!c)throw Error(a(147,e));var d=c,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(y){var b=d.refs;y===null?delete b[f]:b[f]=y},t._stringRef=f,t)}if(typeof e!="string")throw Error(a(284));if(!s._owner)throw Error(a(290,e))}return e}function Pa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lu(e){var t=e._init;return t(e._payload)}function Iu(e){function t(A,C){if(e){var L=A.deletions;L===null?(A.deletions=[C],A.flags|=16):L.push(C)}}function s(A,C){if(!e)return null;for(;C!==null;)t(A,C),C=C.sibling;return null}function c(A,C){for(A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function d(A,C){return A=wr(A,C),A.index=0,A.sibling=null,A}function f(A,C,L){return A.index=L,e?(L=A.alternate,L!==null?(L=L.index,L<C?(A.flags|=2,C):L):(A.flags|=2,C)):(A.flags|=1048576,C)}function y(A){return e&&A.alternate===null&&(A.flags|=2),A}function b(A,C,L,z){return C===null||C.tag!==6?(C=fo(L,A.mode,z),C.return=A,C):(C=d(C,L),C.return=A,C)}function S(A,C,L,z){var Y=L.type;return Y===q?D(A,C,L.props.children,z,L.key):C!==null&&(C.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Ce&&Lu(Y)===C.type)?(z=d(C,L.props),z.ref=xn(A,C,L),z.return=A,z):(z=Za(L.type,L.key,L.props,null,A.mode,z),z.ref=xn(A,C,L),z.return=A,z)}function I(A,C,L,z){return C===null||C.tag!==4||C.stateNode.containerInfo!==L.containerInfo||C.stateNode.implementation!==L.implementation?(C=mo(L,A.mode,z),C.return=A,C):(C=d(C,L.children||[]),C.return=A,C)}function D(A,C,L,z,Y){return C===null||C.tag!==7?(C=Br(L,A.mode,z,Y),C.return=A,C):(C=d(C,L),C.return=A,C)}function U(A,C,L){if(typeof C=="string"&&C!==""||typeof C=="number")return C=fo(""+C,A.mode,L),C.return=A,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Z:return L=Za(C.type,C.key,C.props,null,A.mode,L),L.ref=xn(A,null,C),L.return=A,L;case W:return C=mo(C,A.mode,L),C.return=A,C;case Ce:var z=C._init;return U(A,z(C._payload),L)}if(qs(C)||K(C))return C=Br(C,A.mode,L,null),C.return=A,C;Pa(A,C)}return null}function M(A,C,L,z){var Y=C!==null?C.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return Y!==null?null:b(A,C,""+L,z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Z:return L.key===Y?S(A,C,L,z):null;case W:return L.key===Y?I(A,C,L,z):null;case Ce:return Y=L._init,M(A,C,Y(L._payload),z)}if(qs(L)||K(L))return Y!==null?null:D(A,C,L,z,null);Pa(A,L)}return null}function V(A,C,L,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number")return A=A.get(L)||null,b(C,A,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Z:return A=A.get(z.key===null?L:z.key)||null,S(C,A,z,Y);case W:return A=A.get(z.key===null?L:z.key)||null,I(C,A,z,Y);case Ce:var re=z._init;return V(A,C,L,re(z._payload),Y)}if(qs(z)||K(z))return A=A.get(L)||null,D(C,A,z,Y,null);Pa(C,z)}return null}function J(A,C,L,z){for(var Y=null,re=null,se=C,ae=C=0,Ve=null;se!==null&&ae<L.length;ae++){se.index>ae?(Ve=se,se=null):Ve=se.sibling;var pe=M(A,se,L[ae],z);if(pe===null){se===null&&(se=Ve);break}e&&se&&pe.alternate===null&&t(A,se),C=f(pe,C,ae),re===null?Y=pe:re.sibling=pe,re=pe,se=Ve}if(ae===L.length)return s(A,se),Ee&&Ir(A,ae),Y;if(se===null){for(;ae<L.length;ae++)se=U(A,L[ae],z),se!==null&&(C=f(se,C,ae),re===null?Y=se:re.sibling=se,re=se);return Ee&&Ir(A,ae),Y}for(se=c(A,se);ae<L.length;ae++)Ve=V(se,A,ae,L[ae],z),Ve!==null&&(e&&Ve.alternate!==null&&se.delete(Ve.key===null?ae:Ve.key),C=f(Ve,C,ae),re===null?Y=Ve:re.sibling=Ve,re=Ve);return e&&se.forEach(function(jr){return t(A,jr)}),Ee&&Ir(A,ae),Y}function Q(A,C,L,z){var Y=K(L);if(typeof Y!="function")throw Error(a(150));if(L=Y.call(L),L==null)throw Error(a(151));for(var re=Y=null,se=C,ae=C=0,Ve=null,pe=L.next();se!==null&&!pe.done;ae++,pe=L.next()){se.index>ae?(Ve=se,se=null):Ve=se.sibling;var jr=M(A,se,pe.value,z);if(jr===null){se===null&&(se=Ve);break}e&&se&&jr.alternate===null&&t(A,se),C=f(jr,C,ae),re===null?Y=jr:re.sibling=jr,re=jr,se=Ve}if(pe.done)return s(A,se),Ee&&Ir(A,ae),Y;if(se===null){for(;!pe.done;ae++,pe=L.next())pe=U(A,pe.value,z),pe!==null&&(C=f(pe,C,ae),re===null?Y=pe:re.sibling=pe,re=pe);return Ee&&Ir(A,ae),Y}for(se=c(A,se);!pe.done;ae++,pe=L.next())pe=V(se,A,ae,pe.value,z),pe!==null&&(e&&pe.alternate!==null&&se.delete(pe.key===null?ae:pe.key),C=f(pe,C,ae),re===null?Y=pe:re.sibling=pe,re=pe);return e&&se.forEach(function(Bm){return t(A,Bm)}),Ee&&Ir(A,ae),Y}function $e(A,C,L,z){if(typeof L=="object"&&L!==null&&L.type===q&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Z:e:{for(var Y=L.key,re=C;re!==null;){if(re.key===Y){if(Y=L.type,Y===q){if(re.tag===7){s(A,re.sibling),C=d(re,L.props.children),C.return=A,A=C;break e}}else if(re.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Ce&&Lu(Y)===re.type){s(A,re.sibling),C=d(re,L.props),C.ref=xn(A,re,L),C.return=A,A=C;break e}s(A,re);break}else t(A,re);re=re.sibling}L.type===q?(C=Br(L.props.children,A.mode,z,L.key),C.return=A,A=C):(z=Za(L.type,L.key,L.props,null,A.mode,z),z.ref=xn(A,C,L),z.return=A,A=z)}return y(A);case W:e:{for(re=L.key;C!==null;){if(C.key===re)if(C.tag===4&&C.stateNode.containerInfo===L.containerInfo&&C.stateNode.implementation===L.implementation){s(A,C.sibling),C=d(C,L.children||[]),C.return=A,A=C;break e}else{s(A,C);break}else t(A,C);C=C.sibling}C=mo(L,A.mode,z),C.return=A,A=C}return y(A);case Ce:return re=L._init,$e(A,C,re(L._payload),z)}if(qs(L))return J(A,C,L,z);if(K(L))return Q(A,C,L,z);Pa(A,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,C!==null&&C.tag===6?(s(A,C.sibling),C=d(C,L),C.return=A,A=C):(s(A,C),C=fo(L,A.mode,z),C.return=A,A=C),y(A)):s(A,C)}return $e}var ps=Iu(!0),Ou=Iu(!1),Ta=dr(null),Aa=null,xs=null,jl=null;function Nl(){jl=xs=Aa=null}function kl(e){var t=Ta.current;_e(Ta),e._currentValue=t}function _l(e,t,s){for(;e!==null;){var c=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,c!==null&&(c.childLanes|=t)):c!==null&&(c.childLanes&t)!==t&&(c.childLanes|=t),e===s)break;e=e.return}}function gs(e,t){Aa=e,jl=xs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(it=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(jl!==e)if(e={context:e,memoizedValue:t,next:null},xs===null){if(Aa===null)throw Error(a(308));xs=e,Aa.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var Or=null;function Sl(e){Or===null?Or=[e]:Or.push(e)}function $u(e,t,s,c){var d=t.interleaved;return d===null?(s.next=s,Sl(t)):(s.next=d.next,d.next=s),t.interleaved=s,Kt(e,c)}function Kt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var mr=!1;function Cl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pr(e,t,s){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(he&2)!==0){var d=c.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),c.pending=t,Kt(e,s)}return d=c.interleaved,d===null?(t.next=t,Sl(c)):(t.next=d.next,d.next=t),c.interleaved=t,Kt(e,s)}function Ra(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var c=t.lanes;c&=e.pendingLanes,s|=c,t.lanes=s,zi(e,s)}}function Du(e,t){var s=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var d=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?d=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?d=f=t:f=f.next=t}else d=f=t;s={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:c.shared,effects:c.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function La(e,t,s,c){var d=e.updateQueue;mr=!1;var f=d.firstBaseUpdate,y=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var S=b,I=S.next;S.next=null,y===null?f=I:y.next=I,y=S;var D=e.alternate;D!==null&&(D=D.updateQueue,b=D.lastBaseUpdate,b!==y&&(b===null?D.firstBaseUpdate=I:b.next=I,D.lastBaseUpdate=S))}if(f!==null){var U=d.baseState;y=0,D=I=S=null,b=f;do{var M=b.lane,V=b.eventTime;if((c&M)===M){D!==null&&(D=D.next={eventTime:V,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var J=e,Q=b;switch(M=t,V=s,Q.tag){case 1:if(J=Q.payload,typeof J=="function"){U=J.call(V,U,M);break e}U=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=Q.payload,M=typeof J=="function"?J.call(V,U,M):J,M==null)break e;U=F({},U,M);break e;case 2:mr=!0}}b.callback!==null&&b.lane!==0&&(e.flags|=64,M=d.effects,M===null?d.effects=[b]:M.push(b))}else V={eventTime:V,lane:M,tag:b.tag,payload:b.payload,callback:b.callback,next:null},D===null?(I=D=V,S=U):D=D.next=V,y|=M;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;M=b,b=M.next,M.next=null,d.lastBaseUpdate=M,d.shared.pending=null}}while(!0);if(D===null&&(S=U),d.baseState=S,d.firstBaseUpdate=I,d.lastBaseUpdate=D,t=d.shared.interleaved,t!==null){d=t;do y|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);Dr|=y,e.lanes=y,e.memoizedState=U}}function Uu(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var c=e[t],d=c.callback;if(d!==null){if(c.callback=null,c=s,typeof d!="function")throw Error(a(191,d));d.call(c)}}}var gn={},$t=dr(gn),yn=dr(gn),vn=dr(gn);function $r(e){if(e===gn)throw Error(a(174));return e}function El(e,t){switch(we(vn,t),we(yn,e),we($t,gn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pi(t,e)}_e($t),we($t,t)}function ys(){_e($t),_e(yn),_e(vn)}function Fu(e){$r(vn.current);var t=$r($t.current),s=Pi(t,e.type);t!==s&&(we(yn,e),we($t,s))}function Pl(e){yn.current===e&&(_e($t),_e(yn))}var Pe=dr(0);function Ia(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tl=[];function Al(){for(var e=0;e<Tl.length;e++)Tl[e]._workInProgressVersionPrimary=null;Tl.length=0}var Oa=B.ReactCurrentDispatcher,Rl=B.ReactCurrentBatchConfig,Mr=0,Te=null,Fe=null,We=null,$a=!1,bn=!1,wn=0,um=0;function Xe(){throw Error(a(321))}function Ll(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Nt(e[s],t[s]))return!1;return!0}function Il(e,t,s,c,d,f){if(Mr=f,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oa.current=e===null||e.memoizedState===null?mm:pm,e=s(c,d),bn){f=0;do{if(bn=!1,wn=0,25<=f)throw Error(a(301));f+=1,We=Fe=null,t.updateQueue=null,Oa.current=xm,e=s(c,d)}while(bn)}if(Oa.current=Ua,t=Fe!==null&&Fe.next!==null,Mr=0,We=Fe=Te=null,$a=!1,t)throw Error(a(300));return e}function Ol(){var e=wn!==0;return wn=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Te.memoizedState=We=e:We=We.next=e,We}function vt(){if(Fe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=We===null?Te.memoizedState:We.next;if(t!==null)We=t,Fe=e;else{if(e===null)throw Error(a(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},We===null?Te.memoizedState=We=e:We=We.next=e}return We}function jn(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=vt(),s=t.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var c=Fe,d=c.baseQueue,f=s.pending;if(f!==null){if(d!==null){var y=d.next;d.next=f.next,f.next=y}c.baseQueue=d=f,s.pending=null}if(d!==null){f=d.next,c=c.baseState;var b=y=null,S=null,I=f;do{var D=I.lane;if((Mr&D)===D)S!==null&&(S=S.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),c=I.hasEagerState?I.eagerState:e(c,I.action);else{var U={lane:D,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};S===null?(b=S=U,y=c):S=S.next=U,Te.lanes|=D,Dr|=D}I=I.next}while(I!==null&&I!==f);S===null?y=c:S.next=b,Nt(c,t.memoizedState)||(it=!0),t.memoizedState=c,t.baseState=y,t.baseQueue=S,s.lastRenderedState=c}if(e=s.interleaved,e!==null){d=e;do f=d.lane,Te.lanes|=f,Dr|=f,d=d.next;while(d!==e)}else d===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Ml(e){var t=vt(),s=t.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var c=s.dispatch,d=s.pending,f=t.memoizedState;if(d!==null){s.pending=null;var y=d=d.next;do f=e(f,y.action),y=y.next;while(y!==d);Nt(f,t.memoizedState)||(it=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),s.lastRenderedState=f}return[f,c]}function zu(){}function Bu(e,t){var s=Te,c=vt(),d=t(),f=!Nt(c.memoizedState,d);if(f&&(c.memoizedState=d,it=!0),c=c.queue,Dl(Vu.bind(null,s,c,e),[e]),c.getSnapshot!==t||f||We!==null&&We.memoizedState.tag&1){if(s.flags|=2048,Nn(9,qu.bind(null,s,c,d,t),void 0,null),qe===null)throw Error(a(349));(Mr&30)!==0||Wu(s,t,d)}return d}function Wu(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function qu(e,t,s,c){t.value=s,t.getSnapshot=c,Hu(t)&&Ku(e)}function Vu(e,t,s){return s(function(){Hu(t)&&Ku(e)})}function Hu(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Nt(e,s)}catch{return!0}}function Ku(e){var t=Kt(e,1);t!==null&&Et(t,e,1,-1)}function Gu(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:e},t.queue=e,e=e.dispatch=fm.bind(null,Te,e),[t.memoizedState,e]}function Nn(e,t,s,c){return e={tag:e,create:t,destroy:s,deps:c,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(c=s.next,s.next=e,e.next=c,t.lastEffect=e)),e}function Ju(){return vt().memoizedState}function Ma(e,t,s,c){var d=Mt();Te.flags|=e,d.memoizedState=Nn(1|t,s,void 0,c===void 0?null:c)}function Da(e,t,s,c){var d=vt();c=c===void 0?null:c;var f=void 0;if(Fe!==null){var y=Fe.memoizedState;if(f=y.destroy,c!==null&&Ll(c,y.deps)){d.memoizedState=Nn(t,s,f,c);return}}Te.flags|=e,d.memoizedState=Nn(1|t,s,f,c)}function Qu(e,t){return Ma(8390656,8,e,t)}function Dl(e,t){return Da(2048,8,e,t)}function Yu(e,t){return Da(4,2,e,t)}function Xu(e,t){return Da(4,4,e,t)}function Zu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ed(e,t,s){return s=s!=null?s.concat([e]):null,Da(4,4,Zu.bind(null,t,e),s)}function Ul(){}function td(e,t){var s=vt();t=t===void 0?null:t;var c=s.memoizedState;return c!==null&&t!==null&&Ll(t,c[1])?c[0]:(s.memoizedState=[e,t],e)}function rd(e,t){var s=vt();t=t===void 0?null:t;var c=s.memoizedState;return c!==null&&t!==null&&Ll(t,c[1])?c[0]:(e=e(),s.memoizedState=[e,t],e)}function sd(e,t,s){return(Mr&21)===0?(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=s):(Nt(s,t)||(s=Lc(),Te.lanes|=s,Dr|=s,e.baseState=!0),t)}function dm(e,t){var s=ve;ve=s!==0&&4>s?s:4,e(!0);var c=Rl.transition;Rl.transition={};try{e(!1),t()}finally{ve=s,Rl.transition=c}}function nd(){return vt().memoizedState}function hm(e,t,s){var c=vr(e);if(s={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null},ad(e))id(t,s);else if(s=$u(e,t,s,c),s!==null){var d=st();Et(s,e,c,d),ld(s,t,c)}}function fm(e,t,s){var c=vr(e),d={lane:c,action:s,hasEagerState:!1,eagerState:null,next:null};if(ad(e))id(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,b=f(y,s);if(d.hasEagerState=!0,d.eagerState=b,Nt(b,y)){var S=t.interleaved;S===null?(d.next=d,Sl(t)):(d.next=S.next,S.next=d),t.interleaved=d;return}}catch{}finally{}s=$u(e,t,d,c),s!==null&&(d=st(),Et(s,e,c,d),ld(s,t,c))}}function ad(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function id(e,t){bn=$a=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function ld(e,t,s){if((s&4194240)!==0){var c=t.lanes;c&=e.pendingLanes,s|=c,t.lanes=s,zi(e,s)}}var Ua={readContext:yt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},mm={readContext:yt,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:Qu,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Ma(4194308,4,Zu.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var s=Mt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var c=Mt();return t=s!==void 0?s(t):t,c.memoizedState=c.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},c.queue=e,e=e.dispatch=hm.bind(null,Te,e),[c.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:Gu,useDebugValue:Ul,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=Gu(!1),t=e[0];return e=dm.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var c=Te,d=Mt();if(Ee){if(s===void 0)throw Error(a(407));s=s()}else{if(s=t(),qe===null)throw Error(a(349));(Mr&30)!==0||Wu(c,t,s)}d.memoizedState=s;var f={value:s,getSnapshot:t};return d.queue=f,Qu(Vu.bind(null,c,f,e),[e]),c.flags|=2048,Nn(9,qu.bind(null,c,f,s,t),void 0,null),s},useId:function(){var e=Mt(),t=qe.identifierPrefix;if(Ee){var s=Ht,c=Vt;s=(c&~(1<<32-jt(c)-1)).toString(32)+s,t=":"+t+"R"+s,s=wn++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=um++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pm={readContext:yt,useCallback:td,useContext:yt,useEffect:Dl,useImperativeHandle:ed,useInsertionEffect:Yu,useLayoutEffect:Xu,useMemo:rd,useReducer:$l,useRef:Ju,useState:function(){return $l(jn)},useDebugValue:Ul,useDeferredValue:function(e){var t=vt();return sd(t,Fe.memoizedState,e)},useTransition:function(){var e=$l(jn)[0],t=vt().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Bu,useId:nd,unstable_isNewReconciler:!1},xm={readContext:yt,useCallback:td,useContext:yt,useEffect:Dl,useImperativeHandle:ed,useInsertionEffect:Yu,useLayoutEffect:Xu,useMemo:rd,useReducer:Ml,useRef:Ju,useState:function(){return Ml(jn)},useDebugValue:Ul,useDeferredValue:function(e){var t=vt();return Fe===null?t.memoizedState=e:sd(t,Fe.memoizedState,e)},useTransition:function(){var e=Ml(jn)[0],t=vt().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Bu,useId:nd,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=F({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Fl(e,t,s,c){t=e.memoizedState,s=s(c,t),s=s==null?t:F({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Fa={isMounted:function(e){return(e=e._reactInternals)?Tr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var c=st(),d=vr(e),f=Gt(c,d);f.payload=t,s!=null&&(f.callback=s),t=pr(e,f,d),t!==null&&(Et(t,e,d,c),Ra(t,e,d))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var c=st(),d=vr(e),f=Gt(c,d);f.tag=1,f.payload=t,s!=null&&(f.callback=s),t=pr(e,f,d),t!==null&&(Et(t,e,d,c),Ra(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=st(),c=vr(e),d=Gt(s,c);d.tag=2,t!=null&&(d.callback=t),t=pr(e,d,c),t!==null&&(Et(t,e,c,s),Ra(t,e,c))}};function od(e,t,s,c,d,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,f,y):t.prototype&&t.prototype.isPureReactComponent?!cn(s,c)||!cn(d,f):!0}function cd(e,t,s){var c=!1,d=hr,f=t.contextType;return typeof f=="object"&&f!==null?f=yt(f):(d=at(t)?Rr:Ye.current,c=t.contextTypes,f=(c=c!=null)?ds(e,d):hr),t=new t(s,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fa,e.stateNode=t,t._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function ud(e,t,s,c){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,c),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,c),t.state!==e&&Fa.enqueueReplaceState(t,t.state,null)}function zl(e,t,s,c){var d=e.stateNode;d.props=s,d.state=e.memoizedState,d.refs={},Cl(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=yt(f):(f=at(t)?Rr:Ye.current,d.context=ds(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Fl(e,t,f,s),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Fa.enqueueReplaceState(d,d.state,null),La(e,s,d,c),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function vs(e,t){try{var s="",c=t;do s+=le(c),c=c.return;while(c);var d=s}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function Bl(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Wl(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var gm=typeof WeakMap=="function"?WeakMap:Map;function dd(e,t,s){s=Gt(-1,s),s.tag=3,s.payload={element:null};var c=t.value;return s.callback=function(){Ka||(Ka=!0,no=c),Wl(e,t)},s}function hd(e,t,s){s=Gt(-1,s),s.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var d=t.value;s.payload=function(){return c(d)},s.callback=function(){Wl(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){Wl(e,t),typeof c!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),s}function fd(e,t,s){var c=e.pingCache;if(c===null){c=e.pingCache=new gm;var d=new Set;c.set(t,d)}else d=c.get(t),d===void 0&&(d=new Set,c.set(t,d));d.has(s)||(d.add(s),e=Am.bind(null,e,t,s),t.then(e,e))}function md(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pd(e,t,s,c,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Gt(-1,1),t.tag=2,pr(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var ym=B.ReactCurrentOwner,it=!1;function rt(e,t,s,c){t.child=e===null?Ou(t,null,s,c):ps(t,e.child,s,c)}function xd(e,t,s,c,d){s=s.render;var f=t.ref;return gs(t,d),c=Il(e,t,s,c,f,d),s=Ol(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Jt(e,t,d)):(Ee&&s&&gl(t),t.flags|=1,rt(e,t,c,d),t.child)}function gd(e,t,s,c,d){if(e===null){var f=s.type;return typeof f=="function"&&!ho(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=f,yd(e,t,f,c,d)):(e=Za(s.type,null,c,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:cn,s(y,c)&&e.ref===t.ref)return Jt(e,t,d)}return t.flags|=1,e=wr(f,c),e.ref=t.ref,e.return=t,t.child=e}function yd(e,t,s,c,d){if(e!==null){var f=e.memoizedProps;if(cn(f,c)&&e.ref===t.ref)if(it=!1,t.pendingProps=c=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,Jt(e,t,d)}return ql(e,t,s,c,d)}function vd(e,t,s){var c=t.pendingProps,d=c.children,f=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(ws,pt),pt|=s;else{if((s&1073741824)===0)return e=f!==null?f.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(ws,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=f!==null?f.baseLanes:s,we(ws,pt),pt|=c}else f!==null?(c=f.baseLanes|s,t.memoizedState=null):c=s,we(ws,pt),pt|=c;return rt(e,t,d,s),t.child}function bd(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function ql(e,t,s,c,d){var f=at(s)?Rr:Ye.current;return f=ds(t,f),gs(t,d),s=Il(e,t,s,c,f,d),c=Ol(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Jt(e,t,d)):(Ee&&c&&gl(t),t.flags|=1,rt(e,t,s,d),t.child)}function wd(e,t,s,c,d){if(at(s)){var f=!0;ka(t)}else f=!1;if(gs(t,d),t.stateNode===null)Ba(e,t),cd(t,s,c),zl(t,s,c,d),c=!0;else if(e===null){var y=t.stateNode,b=t.memoizedProps;y.props=b;var S=y.context,I=s.contextType;typeof I=="object"&&I!==null?I=yt(I):(I=at(s)?Rr:Ye.current,I=ds(t,I));var D=s.getDerivedStateFromProps,U=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function";U||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b!==c||S!==I)&&ud(t,y,c,I),mr=!1;var M=t.memoizedState;y.state=M,La(t,c,y,d),S=t.memoizedState,b!==c||M!==S||nt.current||mr?(typeof D=="function"&&(Fl(t,s,D,c),S=t.memoizedState),(b=mr||od(t,s,b,c,M,S,I))?(U||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=c,t.memoizedState=S),y.props=c,y.state=S,y.context=I,c=b):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),c=!1)}else{y=t.stateNode,Mu(e,t),b=t.memoizedProps,I=t.type===t.elementType?b:_t(t.type,b),y.props=I,U=t.pendingProps,M=y.context,S=s.contextType,typeof S=="object"&&S!==null?S=yt(S):(S=at(s)?Rr:Ye.current,S=ds(t,S));var V=s.getDerivedStateFromProps;(D=typeof V=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b!==U||M!==S)&&ud(t,y,c,S),mr=!1,M=t.memoizedState,y.state=M,La(t,c,y,d);var J=t.memoizedState;b!==U||M!==J||nt.current||mr?(typeof V=="function"&&(Fl(t,s,V,c),J=t.memoizedState),(I=mr||od(t,s,I,c,M,J,S)||!1)?(D||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,J,S),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,J,S)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||b===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=c,t.memoizedState=J),y.props=c,y.state=J,y.context=S,c=I):(typeof y.componentDidUpdate!="function"||b===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),c=!1)}return Vl(e,t,s,c,f,d)}function Vl(e,t,s,c,d,f){bd(e,t);var y=(t.flags&128)!==0;if(!c&&!y)return d&&Su(t,s,!1),Jt(e,t,f);c=t.stateNode,ym.current=t;var b=y&&typeof s.getDerivedStateFromError!="function"?null:c.render();return t.flags|=1,e!==null&&y?(t.child=ps(t,e.child,null,f),t.child=ps(t,null,b,f)):rt(e,t,b,f),t.memoizedState=c.state,d&&Su(t,s,!0),t.child}function jd(e){var t=e.stateNode;t.pendingContext?ku(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ku(e,t.context,!1),El(e,t.containerInfo)}function Nd(e,t,s,c,d){return ms(),wl(d),t.flags|=256,rt(e,t,s,c),t.child}var Hl={dehydrated:null,treeContext:null,retryLane:0};function Kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function kd(e,t,s){var c=t.pendingProps,d=Pe.current,f=!1,y=(t.flags&128)!==0,b;if((b=y)||(b=e!==null&&e.memoizedState===null?!1:(d&2)!==0),b?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),we(Pe,d&1),e===null)return bl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(y=c.children,e=c.fallback,f?(c=t.mode,f=t.child,y={mode:"hidden",children:y},(c&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=y):f=ei(y,c,0,null),e=Br(e,c,s,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Kl(s),t.memoizedState=Hl,e):Gl(t,y));if(d=e.memoizedState,d!==null&&(b=d.dehydrated,b!==null))return vm(e,t,y,c,b,d,s);if(f){f=c.fallback,y=t.mode,d=e.child,b=d.sibling;var S={mode:"hidden",children:c.children};return(y&1)===0&&t.child!==d?(c=t.child,c.childLanes=0,c.pendingProps=S,t.deletions=null):(c=wr(d,S),c.subtreeFlags=d.subtreeFlags&14680064),b!==null?f=wr(b,f):(f=Br(f,y,s,null),f.flags|=2),f.return=t,c.return=t,c.sibling=f,t.child=c,c=f,f=t.child,y=e.child.memoizedState,y=y===null?Kl(s):{baseLanes:y.baseLanes|s,cachePool:null,transitions:y.transitions},f.memoizedState=y,f.childLanes=e.childLanes&~s,t.memoizedState=Hl,c}return f=e.child,e=f.sibling,c=wr(f,{mode:"visible",children:c.children}),(t.mode&1)===0&&(c.lanes=s),c.return=t,c.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=c,t.memoizedState=null,c}function Gl(e,t){return t=ei({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function za(e,t,s,c){return c!==null&&wl(c),ps(t,e.child,null,s),e=Gl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vm(e,t,s,c,d,f,y){if(s)return t.flags&256?(t.flags&=-257,c=Bl(Error(a(422))),za(e,t,y,c)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=c.fallback,d=t.mode,c=ei({mode:"visible",children:c.children},d,0,null),f=Br(f,d,y,null),f.flags|=2,c.return=t,f.return=t,c.sibling=f,t.child=c,(t.mode&1)!==0&&ps(t,e.child,null,y),t.child.memoizedState=Kl(y),t.memoizedState=Hl,f);if((t.mode&1)===0)return za(e,t,y,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var b=c.dgst;return c=b,f=Error(a(419)),c=Bl(f,c,void 0),za(e,t,y,c)}if(b=(y&e.childLanes)!==0,it||b){if(c=qe,c!==null){switch(y&-y){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|y))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,Kt(e,d),Et(c,e,d,-1))}return uo(),c=Bl(Error(a(421))),za(e,t,y,c)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=Rm.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,mt=ur(d.nextSibling),ft=t,Ee=!0,kt=null,e!==null&&(xt[gt++]=Vt,xt[gt++]=Ht,xt[gt++]=Lr,Vt=e.id,Ht=e.overflow,Lr=t),t=Gl(t,c.children),t.flags|=4096,t)}function _d(e,t,s){e.lanes|=t;var c=e.alternate;c!==null&&(c.lanes|=t),_l(e.return,t,s)}function Jl(e,t,s,c,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=c,f.tail=s,f.tailMode=d)}function Sd(e,t,s){var c=t.pendingProps,d=c.revealOrder,f=c.tail;if(rt(e,t,c.children,s),c=Pe.current,(c&2)!==0)c=c&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_d(e,s,t);else if(e.tag===19)_d(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(we(Pe,c),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(s=t.child,d=null;s!==null;)e=s.alternate,e!==null&&Ia(e)===null&&(d=s),s=s.sibling;s=d,s===null?(d=t.child,t.child=null):(d=s.sibling,s.sibling=null),Jl(t,!1,d,s,f);break;case"backwards":for(s=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Ia(e)===null){t.child=d;break}e=d.sibling,d.sibling=s,s=d,d=e}Jl(t,!0,s,null,f);break;case"together":Jl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ba(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Dr|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,s=wr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=wr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function bm(e,t,s){switch(t.tag){case 3:jd(t),ms();break;case 5:Fu(t);break;case 1:at(t.type)&&ka(t);break;case 4:El(t,t.stateNode.containerInfo);break;case 10:var c=t.type._context,d=t.memoizedProps.value;we(Ta,c._currentValue),c._currentValue=d;break;case 13:if(c=t.memoizedState,c!==null)return c.dehydrated!==null?(we(Pe,Pe.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?kd(e,t,s):(we(Pe,Pe.current&1),e=Jt(e,t,s),e!==null?e.sibling:null);we(Pe,Pe.current&1);break;case 19:if(c=(s&t.childLanes)!==0,(e.flags&128)!==0){if(c)return Sd(e,t,s);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),we(Pe,Pe.current),c)break;return null;case 22:case 23:return t.lanes=0,vd(e,t,s)}return Jt(e,t,s)}var Cd,Ql,Ed,Pd;Cd=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Ql=function(){},Ed=function(e,t,s,c){var d=e.memoizedProps;if(d!==c){e=t.stateNode,$r($t.current);var f=null;switch(s){case"input":d=Xr(e,d),c=Xr(e,c),f=[];break;case"select":d=F({},d,{value:void 0}),c=F({},c,{value:void 0}),f=[];break;case"textarea":d=Ei(e,d),c=Ei(e,c),f=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=wa)}Ti(s,c);var y;s=null;for(I in d)if(!c.hasOwnProperty(I)&&d.hasOwnProperty(I)&&d[I]!=null)if(I==="style"){var b=d[I];for(y in b)b.hasOwnProperty(y)&&(s||(s={}),s[y]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(o.hasOwnProperty(I)?f||(f=[]):(f=f||[]).push(I,null));for(I in c){var S=c[I];if(b=d?.[I],c.hasOwnProperty(I)&&S!==b&&(S!=null||b!=null))if(I==="style")if(b){for(y in b)!b.hasOwnProperty(y)||S&&S.hasOwnProperty(y)||(s||(s={}),s[y]="");for(y in S)S.hasOwnProperty(y)&&b[y]!==S[y]&&(s||(s={}),s[y]=S[y])}else s||(f||(f=[]),f.push(I,s)),s=S;else I==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,b=b?b.__html:void 0,S!=null&&b!==S&&(f=f||[]).push(I,S)):I==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(I,""+S):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(o.hasOwnProperty(I)?(S!=null&&I==="onScroll"&&ke("scroll",e),f||b===S||(f=[])):(f=f||[]).push(I,S))}s&&(f=f||[]).push("style",s);var I=f;(t.updateQueue=I)&&(t.flags|=4)}},Pd=function(e,t,s,c){s!==c&&(t.flags|=4)};function kn(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,c=0;if(t)for(var d=e.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)s|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=c,e.childLanes=s,t}function wm(e,t,s){var c=t.pendingProps;switch(yl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return at(t.type)&&Na(),Ze(t),null;case 3:return c=t.stateNode,ys(),_e(nt),_e(Ye),Al(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Ea(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,kt!==null&&(lo(kt),kt=null))),Ql(e,t),Ze(t),null;case 5:Pl(t);var d=$r(vn.current);if(s=t.type,e!==null&&t.stateNode!=null)Ed(e,t,s,c,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!c){if(t.stateNode===null)throw Error(a(166));return Ze(t),null}if(e=$r($t.current),Ea(t)){c=t.stateNode,s=t.type;var f=t.memoizedProps;switch(c[Ot]=t,c[mn]=f,e=(t.mode&1)!==0,s){case"dialog":ke("cancel",c),ke("close",c);break;case"iframe":case"object":case"embed":ke("load",c);break;case"video":case"audio":for(d=0;d<dn.length;d++)ke(dn[d],c);break;case"source":ke("error",c);break;case"img":case"image":case"link":ke("error",c),ke("load",c);break;case"details":ke("toggle",c);break;case"input":cc(c,f),ke("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!f.multiple},ke("invalid",c);break;case"textarea":hc(c,f),ke("invalid",c)}Ti(s,f),d=null;for(var y in f)if(f.hasOwnProperty(y)){var b=f[y];y==="children"?typeof b=="string"?c.textContent!==b&&(f.suppressHydrationWarning!==!0&&ba(c.textContent,b,e),d=["children",b]):typeof b=="number"&&c.textContent!==""+b&&(f.suppressHydrationWarning!==!0&&ba(c.textContent,b,e),d=["children",""+b]):o.hasOwnProperty(y)&&b!=null&&y==="onScroll"&&ke("scroll",c)}switch(s){case"input":sr(c),dc(c,f,!0);break;case"textarea":sr(c),mc(c);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(c.onclick=wa)}c=d,t.updateQueue=c,c!==null&&(t.flags|=4)}else{y=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=y.createElement(s,{is:c.is}):(e=y.createElement(s),s==="select"&&(y=e,c.multiple?y.multiple=!0:c.size&&(y.size=c.size))):e=y.createElementNS(e,s),e[Ot]=t,e[mn]=c,Cd(e,t,!1,!1),t.stateNode=e;e:{switch(y=Ai(s,c),s){case"dialog":ke("cancel",e),ke("close",e),d=c;break;case"iframe":case"object":case"embed":ke("load",e),d=c;break;case"video":case"audio":for(d=0;d<dn.length;d++)ke(dn[d],e);d=c;break;case"source":ke("error",e),d=c;break;case"img":case"image":case"link":ke("error",e),ke("load",e),d=c;break;case"details":ke("toggle",e),d=c;break;case"input":cc(e,c),d=Xr(e,c),ke("invalid",e);break;case"option":d=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},d=F({},c,{value:void 0}),ke("invalid",e);break;case"textarea":hc(e,c),d=Ei(e,c),ke("invalid",e);break;default:d=c}Ti(s,d),b=d;for(f in b)if(b.hasOwnProperty(f)){var S=b[f];f==="style"?yc(e,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&xc(e,S)):f==="children"?typeof S=="string"?(s!=="textarea"||S!=="")&&Vs(e,S):typeof S=="number"&&Vs(e,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?S!=null&&f==="onScroll"&&ke("scroll",e):S!=null&&$(e,f,S,y))}switch(s){case"input":sr(e),dc(e,c,!1);break;case"textarea":sr(e),mc(e);break;case"option":c.value!=null&&e.setAttribute("value",""+ge(c.value));break;case"select":e.multiple=!!c.multiple,f=c.value,f!=null?Zr(e,!!c.multiple,f,!1):c.defaultValue!=null&&Zr(e,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=wa)}switch(s){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)Pd(e,t,e.memoizedProps,c);else{if(typeof c!="string"&&t.stateNode===null)throw Error(a(166));if(s=$r(vn.current),$r($t.current),Ea(t)){if(c=t.stateNode,s=t.memoizedProps,c[Ot]=t,(f=c.nodeValue!==s)&&(e=ft,e!==null))switch(e.tag){case 3:ba(c.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ba(c.nodeValue,s,(e.mode&1)!==0)}f&&(t.flags|=4)}else c=(s.nodeType===9?s:s.ownerDocument).createTextNode(c),c[Ot]=t,t.stateNode=c}return Ze(t),null;case 13:if(_e(Pe),c=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&mt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ru(),ms(),t.flags|=98560,f=!1;else if(f=Ea(t),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ot]=t}else ms(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ze(t),f=!1}else kt!==null&&(lo(kt),kt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Pe.current&1)!==0?ze===0&&(ze=3):uo())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return ys(),Ql(e,t),e===null&&hn(t.stateNode.containerInfo),Ze(t),null;case 10:return kl(t.type._context),Ze(t),null;case 17:return at(t.type)&&Na(),Ze(t),null;case 19:if(_e(Pe),f=t.memoizedState,f===null)return Ze(t),null;if(c=(t.flags&128)!==0,y=f.rendering,y===null)if(c)kn(f,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=Ia(e),y!==null){for(t.flags|=128,kn(f,!1),c=y.updateQueue,c!==null&&(t.updateQueue=c,t.flags|=4),t.subtreeFlags=0,c=s,s=t.child;s!==null;)f=s,e=c,f.flags&=14680066,y=f.alternate,y===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=y.childLanes,f.lanes=y.lanes,f.child=y.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=y.memoizedProps,f.memoizedState=y.memoizedState,f.updateQueue=y.updateQueue,f.type=y.type,e=y.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return we(Pe,Pe.current&1|2),t.child}e=e.sibling}f.tail!==null&&Oe()>js&&(t.flags|=128,c=!0,kn(f,!1),t.lanes=4194304)}else{if(!c)if(e=Ia(y),e!==null){if(t.flags|=128,c=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),kn(f,!0),f.tail===null&&f.tailMode==="hidden"&&!y.alternate&&!Ee)return Ze(t),null}else 2*Oe()-f.renderingStartTime>js&&s!==1073741824&&(t.flags|=128,c=!0,kn(f,!1),t.lanes=4194304);f.isBackwards?(y.sibling=t.child,t.child=y):(s=f.last,s!==null?s.sibling=y:t.child=y,f.last=y)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Oe(),t.sibling=null,s=Pe.current,we(Pe,c?s&1|2:s&1),t):(Ze(t),null);case 22:case 23:return co(),c=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(t.flags|=8192),c&&(t.mode&1)!==0?(pt&1073741824)!==0&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function jm(e,t){switch(yl(t),t.tag){case 1:return at(t.type)&&Na(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ys(),_e(nt),_e(Ye),Al(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Pl(t),null;case 13:if(_e(Pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));ms()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Pe),null;case 4:return ys(),null;case 10:return kl(t.type._context),null;case 22:case 23:return co(),null;case 24:return null;default:return null}}var Wa=!1,et=!1,Nm=typeof WeakSet=="function"?WeakSet:Set,G=null;function bs(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(c){Le(e,t,c)}else s.current=null}function Yl(e,t,s){try{s()}catch(c){Le(e,t,c)}}var Td=!1;function km(e,t){if(cl=ca,e=ou(),tl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var d=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var y=0,b=-1,S=-1,I=0,D=0,U=e,M=null;t:for(;;){for(var V;U!==s||d!==0&&U.nodeType!==3||(b=y+d),U!==f||c!==0&&U.nodeType!==3||(S=y+c),U.nodeType===3&&(y+=U.nodeValue.length),(V=U.firstChild)!==null;)M=U,U=V;for(;;){if(U===e)break t;if(M===s&&++I===d&&(b=y),M===f&&++D===c&&(S=y),(V=U.nextSibling)!==null)break;U=M,M=U.parentNode}U=V}s=b===-1||S===-1?null:{start:b,end:S}}else s=null}s=s||{start:0,end:0}}else s=null;for(ul={focusedElem:e,selectionRange:s},ca=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var J=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var Q=J.memoizedProps,$e=J.memoizedState,A=t.stateNode,C=A.getSnapshotBeforeUpdate(t.elementType===t.type?Q:_t(t.type,Q),$e);A.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(z){Le(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return J=Td,Td=!1,J}function _n(e,t,s){var c=t.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&Yl(t,s,f)}d=d.next}while(d!==c)}}function qa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var c=s.create;s.destroy=c()}s=s.next}while(s!==t)}}function Xl(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Ad(e){var t=e.alternate;t!==null&&(e.alternate=null,Ad(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[mn],delete t[ml],delete t[im],delete t[lm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rd(e){return e.tag===5||e.tag===3||e.tag===4}function Ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zl(e,t,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=wa));else if(c!==4&&(e=e.child,e!==null))for(Zl(e,t,s),e=e.sibling;e!==null;)Zl(e,t,s),e=e.sibling}function eo(e,t,s){var c=e.tag;if(c===5||c===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(eo(e,t,s),e=e.sibling;e!==null;)eo(e,t,s),e=e.sibling}var Ge=null,St=!1;function xr(e,t,s){for(s=s.child;s!==null;)Id(e,t,s),s=s.sibling}function Id(e,t,s){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(sa,s)}catch{}switch(s.tag){case 5:et||bs(s,t);case 6:var c=Ge,d=St;Ge=null,xr(e,t,s),Ge=c,St=d,Ge!==null&&(St?(e=Ge,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ge.removeChild(s.stateNode));break;case 18:Ge!==null&&(St?(e=Ge,s=s.stateNode,e.nodeType===8?fl(e.parentNode,s):e.nodeType===1&&fl(e,s),rn(e)):fl(Ge,s.stateNode));break;case 4:c=Ge,d=St,Ge=s.stateNode.containerInfo,St=!0,xr(e,t,s),Ge=c,St=d;break;case 0:case 11:case 14:case 15:if(!et&&(c=s.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var f=d,y=f.destroy;f=f.tag,y!==void 0&&((f&2)!==0||(f&4)!==0)&&Yl(s,t,y),d=d.next}while(d!==c)}xr(e,t,s);break;case 1:if(!et&&(bs(s,t),c=s.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=s.memoizedProps,c.state=s.memoizedState,c.componentWillUnmount()}catch(b){Le(s,t,b)}xr(e,t,s);break;case 21:xr(e,t,s);break;case 22:s.mode&1?(et=(c=et)||s.memoizedState!==null,xr(e,t,s),et=c):xr(e,t,s);break;default:xr(e,t,s)}}function Od(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Nm),t.forEach(function(c){var d=Lm.bind(null,e,c);s.has(c)||(s.add(c),c.then(d,d))})}}function Ct(e,t){var s=t.deletions;if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];try{var f=e,y=t,b=y;e:for(;b!==null;){switch(b.tag){case 5:Ge=b.stateNode,St=!1;break e;case 3:Ge=b.stateNode.containerInfo,St=!0;break e;case 4:Ge=b.stateNode.containerInfo,St=!0;break e}b=b.return}if(Ge===null)throw Error(a(160));Id(f,y,d),Ge=null,St=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(I){Le(d,t,I)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$d(t,e),t=t.sibling}function $d(e,t){var s=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),Dt(e),c&4){try{_n(3,e,e.return),qa(3,e)}catch(Q){Le(e,e.return,Q)}try{_n(5,e,e.return)}catch(Q){Le(e,e.return,Q)}}break;case 1:Ct(t,e),Dt(e),c&512&&s!==null&&bs(s,s.return);break;case 5:if(Ct(t,e),Dt(e),c&512&&s!==null&&bs(s,s.return),e.flags&32){var d=e.stateNode;try{Vs(d,"")}catch(Q){Le(e,e.return,Q)}}if(c&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,y=s!==null?s.memoizedProps:f,b=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{b==="input"&&f.type==="radio"&&f.name!=null&&uc(d,f),Ai(b,y);var I=Ai(b,f);for(y=0;y<S.length;y+=2){var D=S[y],U=S[y+1];D==="style"?yc(d,U):D==="dangerouslySetInnerHTML"?xc(d,U):D==="children"?Vs(d,U):$(d,D,U,I)}switch(b){case"input":Si(d,f);break;case"textarea":fc(d,f);break;case"select":var M=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var V=f.value;V!=null?Zr(d,!!f.multiple,V,!1):M!==!!f.multiple&&(f.defaultValue!=null?Zr(d,!!f.multiple,f.defaultValue,!0):Zr(d,!!f.multiple,f.multiple?[]:"",!1))}d[mn]=f}catch(Q){Le(e,e.return,Q)}}break;case 6:if(Ct(t,e),Dt(e),c&4){if(e.stateNode===null)throw Error(a(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(Q){Le(e,e.return,Q)}}break;case 3:if(Ct(t,e),Dt(e),c&4&&s!==null&&s.memoizedState.isDehydrated)try{rn(t.containerInfo)}catch(Q){Le(e,e.return,Q)}break;case 4:Ct(t,e),Dt(e);break;case 13:Ct(t,e),Dt(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(so=Oe())),c&4&&Od(e);break;case 22:if(D=s!==null&&s.memoizedState!==null,e.mode&1?(et=(I=et)||D,Ct(t,e),et=I):Ct(t,e),Dt(e),c&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!D&&(e.mode&1)!==0)for(G=e,D=e.child;D!==null;){for(U=G=D;G!==null;){switch(M=G,V=M.child,M.tag){case 0:case 11:case 14:case 15:_n(4,M,M.return);break;case 1:bs(M,M.return);var J=M.stateNode;if(typeof J.componentWillUnmount=="function"){c=M,s=M.return;try{t=c,J.props=t.memoizedProps,J.state=t.memoizedState,J.componentWillUnmount()}catch(Q){Le(c,s,Q)}}break;case 5:bs(M,M.return);break;case 22:if(M.memoizedState!==null){Ud(U);continue}}V!==null?(V.return=M,G=V):Ud(U)}D=D.sibling}e:for(D=null,U=e;;){if(U.tag===5){if(D===null){D=U;try{d=U.stateNode,I?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(b=U.stateNode,S=U.memoizedProps.style,y=S!=null&&S.hasOwnProperty("display")?S.display:null,b.style.display=gc("display",y))}catch(Q){Le(e,e.return,Q)}}}else if(U.tag===6){if(D===null)try{U.stateNode.nodeValue=I?"":U.memoizedProps}catch(Q){Le(e,e.return,Q)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===e)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===e)break e;for(;U.sibling===null;){if(U.return===null||U.return===e)break e;D===U&&(D=null),U=U.return}D===U&&(D=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:Ct(t,e),Dt(e),c&4&&Od(e);break;case 21:break;default:Ct(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Rd(s)){var c=s;break e}s=s.return}throw Error(a(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Vs(d,""),c.flags&=-33);var f=Ld(e);eo(e,f,d);break;case 3:case 4:var y=c.stateNode.containerInfo,b=Ld(e);Zl(e,b,y);break;default:throw Error(a(161))}}catch(S){Le(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _m(e,t,s){G=e,Md(e)}function Md(e,t,s){for(var c=(e.mode&1)!==0;G!==null;){var d=G,f=d.child;if(d.tag===22&&c){var y=d.memoizedState!==null||Wa;if(!y){var b=d.alternate,S=b!==null&&b.memoizedState!==null||et;b=Wa;var I=et;if(Wa=y,(et=S)&&!I)for(G=d;G!==null;)y=G,S=y.child,y.tag===22&&y.memoizedState!==null?Fd(d):S!==null?(S.return=y,G=S):Fd(d);for(;f!==null;)G=f,Md(f),f=f.sibling;G=d,Wa=b,et=I}Dd(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,G=f):Dd(e)}}function Dd(e){for(;G!==null;){var t=G;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:et||qa(5,t);break;case 1:var c=t.stateNode;if(t.flags&4&&!et)if(s===null)c.componentDidMount();else{var d=t.elementType===t.type?s.memoizedProps:_t(t.type,s.memoizedProps);c.componentDidUpdate(d,s.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Uu(t,f,c);break;case 3:var y=t.updateQueue;if(y!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Uu(t,y,s)}break;case 5:var b=t.stateNode;if(s===null&&t.flags&4){s=b;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&s.focus();break;case"img":S.src&&(s.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var I=t.alternate;if(I!==null){var D=I.memoizedState;if(D!==null){var U=D.dehydrated;U!==null&&rn(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}et||t.flags&512&&Xl(t)}catch(M){Le(t,t.return,M)}}if(t===e){G=null;break}if(s=t.sibling,s!==null){s.return=t.return,G=s;break}G=t.return}}function Ud(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var s=t.sibling;if(s!==null){s.return=t.return,G=s;break}G=t.return}}function Fd(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{qa(4,t)}catch(S){Le(t,s,S)}break;case 1:var c=t.stateNode;if(typeof c.componentDidMount=="function"){var d=t.return;try{c.componentDidMount()}catch(S){Le(t,d,S)}}var f=t.return;try{Xl(t)}catch(S){Le(t,f,S)}break;case 5:var y=t.return;try{Xl(t)}catch(S){Le(t,y,S)}}}catch(S){Le(t,t.return,S)}if(t===e){G=null;break}var b=t.sibling;if(b!==null){b.return=t.return,G=b;break}G=t.return}}var Sm=Math.ceil,Va=B.ReactCurrentDispatcher,to=B.ReactCurrentOwner,bt=B.ReactCurrentBatchConfig,he=0,qe=null,De=null,Je=0,pt=0,ws=dr(0),ze=0,Sn=null,Dr=0,Ha=0,ro=0,Cn=null,lt=null,so=0,js=1/0,Qt=null,Ka=!1,no=null,gr=null,Ga=!1,yr=null,Ja=0,En=0,ao=null,Qa=-1,Ya=0;function st(){return(he&6)!==0?Oe():Qa!==-1?Qa:Qa=Oe()}function vr(e){return(e.mode&1)===0?1:(he&2)!==0&&Je!==0?Je&-Je:cm.transition!==null?(Ya===0&&(Ya=Lc()),Ya):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Bc(e.type)),e)}function Et(e,t,s,c){if(50<En)throw En=0,ao=null,Error(a(185));Ys(e,s,c),((he&2)===0||e!==qe)&&(e===qe&&((he&2)===0&&(Ha|=s),ze===4&&br(e,Je)),ot(e,c),s===1&&he===0&&(t.mode&1)===0&&(js=Oe()+500,_a&&fr()))}function ot(e,t){var s=e.callbackNode;c0(e,t);var c=ia(e,e===qe?Je:0);if(c===0)s!==null&&Tc(s),e.callbackNode=null,e.callbackPriority=0;else if(t=c&-c,e.callbackPriority!==t){if(s!=null&&Tc(s),t===1)e.tag===0?om(Bd.bind(null,e)):Cu(Bd.bind(null,e)),nm(function(){(he&6)===0&&fr()}),s=null;else{switch(Ic(c)){case 1:s=Di;break;case 4:s=Ac;break;case 16:s=ra;break;case 536870912:s=Rc;break;default:s=ra}s=Qd(s,zd.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function zd(e,t){if(Qa=-1,Ya=0,(he&6)!==0)throw Error(a(327));var s=e.callbackNode;if(Ns()&&e.callbackNode!==s)return null;var c=ia(e,e===qe?Je:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||t)t=Xa(e,c);else{t=c;var d=he;he|=2;var f=qd();(qe!==e||Je!==t)&&(Qt=null,js=Oe()+500,Fr(e,t));do try{Pm();break}catch(b){Wd(e,b)}while(!0);Nl(),Va.current=f,he=d,De!==null?t=0:(qe=null,Je=0,t=ze)}if(t!==0){if(t===2&&(d=Ui(e),d!==0&&(c=d,t=io(e,d))),t===1)throw s=Sn,Fr(e,0),br(e,c),ot(e,Oe()),s;if(t===6)br(e,c);else{if(d=e.current.alternate,(c&30)===0&&!Cm(d)&&(t=Xa(e,c),t===2&&(f=Ui(e),f!==0&&(c=f,t=io(e,f))),t===1))throw s=Sn,Fr(e,0),br(e,c),ot(e,Oe()),s;switch(e.finishedWork=d,e.finishedLanes=c,t){case 0:case 1:throw Error(a(345));case 2:zr(e,lt,Qt);break;case 3:if(br(e,c),(c&130023424)===c&&(t=so+500-Oe(),10<t)){if(ia(e,0)!==0)break;if(d=e.suspendedLanes,(d&c)!==c){st(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=hl(zr.bind(null,e,lt,Qt),t);break}zr(e,lt,Qt);break;case 4:if(br(e,c),(c&4194240)===c)break;for(t=e.eventTimes,d=-1;0<c;){var y=31-jt(c);f=1<<y,y=t[y],y>d&&(d=y),c&=~f}if(c=d,c=Oe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Sm(c/1960))-c,10<c){e.timeoutHandle=hl(zr.bind(null,e,lt,Qt),c);break}zr(e,lt,Qt);break;case 5:zr(e,lt,Qt);break;default:throw Error(a(329))}}}return ot(e,Oe()),e.callbackNode===s?zd.bind(null,e):null}function io(e,t){var s=Cn;return e.current.memoizedState.isDehydrated&&(Fr(e,t).flags|=256),e=Xa(e,t),e!==2&&(t=lt,lt=s,t!==null&&lo(t)),e}function lo(e){lt===null?lt=e:lt.push.apply(lt,e)}function Cm(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var c=0;c<s.length;c++){var d=s[c],f=d.getSnapshot;d=d.value;try{if(!Nt(f(),d))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function br(e,t){for(t&=~ro,t&=~Ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-jt(t),c=1<<s;e[s]=-1,t&=~c}}function Bd(e){if((he&6)!==0)throw Error(a(327));Ns();var t=ia(e,0);if((t&1)===0)return ot(e,Oe()),null;var s=Xa(e,t);if(e.tag!==0&&s===2){var c=Ui(e);c!==0&&(t=c,s=io(e,c))}if(s===1)throw s=Sn,Fr(e,0),br(e,t),ot(e,Oe()),s;if(s===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zr(e,lt,Qt),ot(e,Oe()),null}function oo(e,t){var s=he;he|=1;try{return e(t)}finally{he=s,he===0&&(js=Oe()+500,_a&&fr())}}function Ur(e){yr!==null&&yr.tag===0&&(he&6)===0&&Ns();var t=he;he|=1;var s=bt.transition,c=ve;try{if(bt.transition=null,ve=1,e)return e()}finally{ve=c,bt.transition=s,he=t,(he&6)===0&&fr()}}function co(){pt=ws.current,_e(ws)}function Fr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,sm(s)),De!==null)for(s=De.return;s!==null;){var c=s;switch(yl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Na();break;case 3:ys(),_e(nt),_e(Ye),Al();break;case 5:Pl(c);break;case 4:ys();break;case 13:_e(Pe);break;case 19:_e(Pe);break;case 10:kl(c.type._context);break;case 22:case 23:co()}s=s.return}if(qe=e,De=e=wr(e.current,null),Je=pt=t,ze=0,Sn=null,ro=Ha=Dr=0,lt=Cn=null,Or!==null){for(t=0;t<Or.length;t++)if(s=Or[t],c=s.interleaved,c!==null){s.interleaved=null;var d=c.next,f=s.pending;if(f!==null){var y=f.next;f.next=d,c.next=y}s.pending=c}Or=null}return e}function Wd(e,t){do{var s=De;try{if(Nl(),Oa.current=Ua,$a){for(var c=Te.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}$a=!1}if(Mr=0,We=Fe=Te=null,bn=!1,wn=0,to.current=null,s===null||s.return===null){ze=1,Sn=t,De=null;break}e:{var f=e,y=s.return,b=s,S=t;if(t=Je,b.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var I=S,D=b,U=D.tag;if((D.mode&1)===0&&(U===0||U===11||U===15)){var M=D.alternate;M?(D.updateQueue=M.updateQueue,D.memoizedState=M.memoizedState,D.lanes=M.lanes):(D.updateQueue=null,D.memoizedState=null)}var V=md(y);if(V!==null){V.flags&=-257,pd(V,y,b,f,t),V.mode&1&&fd(f,I,t),t=V,S=I;var J=t.updateQueue;if(J===null){var Q=new Set;Q.add(S),t.updateQueue=Q}else J.add(S);break e}else{if((t&1)===0){fd(f,I,t),uo();break e}S=Error(a(426))}}else if(Ee&&b.mode&1){var $e=md(y);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),pd($e,y,b,f,t),wl(vs(S,b));break e}}f=S=vs(S,b),ze!==4&&(ze=2),Cn===null?Cn=[f]:Cn.push(f),f=y;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var A=dd(f,S,t);Du(f,A);break e;case 1:b=S;var C=f.type,L=f.stateNode;if((f.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(gr===null||!gr.has(L)))){f.flags|=65536,t&=-t,f.lanes|=t;var z=hd(f,b,t);Du(f,z);break e}}f=f.return}while(f!==null)}Hd(s)}catch(Y){t=Y,De===s&&s!==null&&(De=s=s.return);continue}break}while(!0)}function qd(){var e=Va.current;return Va.current=Ua,e===null?Ua:e}function uo(){(ze===0||ze===3||ze===2)&&(ze=4),qe===null||(Dr&268435455)===0&&(Ha&268435455)===0||br(qe,Je)}function Xa(e,t){var s=he;he|=2;var c=qd();(qe!==e||Je!==t)&&(Qt=null,Fr(e,t));do try{Em();break}catch(d){Wd(e,d)}while(!0);if(Nl(),he=s,Va.current=c,De!==null)throw Error(a(261));return qe=null,Je=0,ze}function Em(){for(;De!==null;)Vd(De)}function Pm(){for(;De!==null&&!e0();)Vd(De)}function Vd(e){var t=Jd(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?Hd(e):De=t,to.current=null}function Hd(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=wm(s,t,pt),s!==null){De=s;return}}else{if(s=jm(s,t),s!==null){s.flags&=32767,De=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,De=null;return}}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);ze===0&&(ze=5)}function zr(e,t,s){var c=ve,d=bt.transition;try{bt.transition=null,ve=1,Tm(e,t,s,c)}finally{bt.transition=d,ve=c}return null}function Tm(e,t,s,c){do Ns();while(yr!==null);if((he&6)!==0)throw Error(a(327));s=e.finishedWork;var d=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if(u0(e,f),e===qe&&(De=qe=null,Je=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Ga||(Ga=!0,Qd(ra,function(){return Ns(),null})),f=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||f){f=bt.transition,bt.transition=null;var y=ve;ve=1;var b=he;he|=4,to.current=null,km(e,s),$d(s,e),Q0(ul),ca=!!cl,ul=cl=null,e.current=s,_m(s),t0(),he=b,ve=y,bt.transition=f}else e.current=s;if(Ga&&(Ga=!1,yr=e,Ja=d),f=e.pendingLanes,f===0&&(gr=null),n0(s.stateNode),ot(e,Oe()),t!==null)for(c=e.onRecoverableError,s=0;s<t.length;s++)d=t[s],c(d.value,{componentStack:d.stack,digest:d.digest});if(Ka)throw Ka=!1,e=no,no=null,e;return(Ja&1)!==0&&e.tag!==0&&Ns(),f=e.pendingLanes,(f&1)!==0?e===ao?En++:(En=0,ao=e):En=0,fr(),null}function Ns(){if(yr!==null){var e=Ic(Ja),t=bt.transition,s=ve;try{if(bt.transition=null,ve=16>e?16:e,yr===null)var c=!1;else{if(e=yr,yr=null,Ja=0,(he&6)!==0)throw Error(a(331));var d=he;for(he|=4,G=e.current;G!==null;){var f=G,y=f.child;if((G.flags&16)!==0){var b=f.deletions;if(b!==null){for(var S=0;S<b.length;S++){var I=b[S];for(G=I;G!==null;){var D=G;switch(D.tag){case 0:case 11:case 15:_n(8,D,f)}var U=D.child;if(U!==null)U.return=D,G=U;else for(;G!==null;){D=G;var M=D.sibling,V=D.return;if(Ad(D),D===I){G=null;break}if(M!==null){M.return=V,G=M;break}G=V}}}var J=f.alternate;if(J!==null){var Q=J.child;if(Q!==null){J.child=null;do{var $e=Q.sibling;Q.sibling=null,Q=$e}while(Q!==null)}}G=f}}if((f.subtreeFlags&2064)!==0&&y!==null)y.return=f,G=y;else e:for(;G!==null;){if(f=G,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:_n(9,f,f.return)}var A=f.sibling;if(A!==null){A.return=f.return,G=A;break e}G=f.return}}var C=e.current;for(G=C;G!==null;){y=G;var L=y.child;if((y.subtreeFlags&2064)!==0&&L!==null)L.return=y,G=L;else e:for(y=C;G!==null;){if(b=G,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:qa(9,b)}}catch(Y){Le(b,b.return,Y)}if(b===y){G=null;break e}var z=b.sibling;if(z!==null){z.return=b.return,G=z;break e}G=b.return}}if(he=d,fr(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(sa,e)}catch{}c=!0}return c}finally{ve=s,bt.transition=t}}return!1}function Kd(e,t,s){t=vs(s,t),t=dd(e,t,1),e=pr(e,t,1),t=st(),e!==null&&(Ys(e,1,t),ot(e,t))}function Le(e,t,s){if(e.tag===3)Kd(e,e,s);else for(;t!==null;){if(t.tag===3){Kd(t,e,s);break}else if(t.tag===1){var c=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gr===null||!gr.has(c))){e=vs(s,e),e=hd(t,e,1),t=pr(t,e,1),e=st(),t!==null&&(Ys(t,1,e),ot(t,e));break}}t=t.return}}function Am(e,t,s){var c=e.pingCache;c!==null&&c.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&s,qe===e&&(Je&s)===s&&(ze===4||ze===3&&(Je&130023424)===Je&&500>Oe()-so?Fr(e,0):ro|=s),ot(e,t)}function Gd(e,t){t===0&&((e.mode&1)===0?t=1:(t=aa,aa<<=1,(aa&130023424)===0&&(aa=4194304)));var s=st();e=Kt(e,t),e!==null&&(Ys(e,t,s),ot(e,s))}function Rm(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Gd(e,s)}function Lm(e,t){var s=0;switch(e.tag){case 13:var c=e.stateNode,d=e.memoizedState;d!==null&&(s=d.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(a(314))}c!==null&&c.delete(t),Gd(e,s)}var Jd;Jd=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)it=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return it=!1,bm(e,t,s);it=(e.flags&131072)!==0}else it=!1,Ee&&(t.flags&1048576)!==0&&Eu(t,Ca,t.index);switch(t.lanes=0,t.tag){case 2:var c=t.type;Ba(e,t),e=t.pendingProps;var d=ds(t,Ye.current);gs(t,s),d=Il(null,t,c,e,d,s);var f=Ol();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(c)?(f=!0,ka(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Cl(t),d.updater=Fa,t.stateNode=d,d._reactInternals=t,zl(t,c,e,s),t=Vl(null,t,c,!0,f,s)):(t.tag=0,Ee&&f&&gl(t),rt(null,t,d,s),t=t.child),t;case 16:c=t.elementType;e:{switch(Ba(e,t),e=t.pendingProps,d=c._init,c=d(c._payload),t.type=c,d=t.tag=Om(c),e=_t(c,e),d){case 0:t=ql(null,t,c,e,s);break e;case 1:t=wd(null,t,c,e,s);break e;case 11:t=xd(null,t,c,e,s);break e;case 14:t=gd(null,t,c,_t(c.type,e),s);break e}throw Error(a(306,c,""))}return t;case 0:return c=t.type,d=t.pendingProps,d=t.elementType===c?d:_t(c,d),ql(e,t,c,d,s);case 1:return c=t.type,d=t.pendingProps,d=t.elementType===c?d:_t(c,d),wd(e,t,c,d,s);case 3:e:{if(jd(t),e===null)throw Error(a(387));c=t.pendingProps,f=t.memoizedState,d=f.element,Mu(e,t),La(t,c,null,s);var y=t.memoizedState;if(c=y.element,f.isDehydrated)if(f={element:c,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=vs(Error(a(423)),t),t=Nd(e,t,c,s,d);break e}else if(c!==d){d=vs(Error(a(424)),t),t=Nd(e,t,c,s,d);break e}else for(mt=ur(t.stateNode.containerInfo.firstChild),ft=t,Ee=!0,kt=null,s=Ou(t,null,c,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ms(),c===d){t=Jt(e,t,s);break e}rt(e,t,c,s)}t=t.child}return t;case 5:return Fu(t),e===null&&bl(t),c=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,y=d.children,dl(c,d)?y=null:f!==null&&dl(c,f)&&(t.flags|=32),bd(e,t),rt(e,t,y,s),t.child;case 6:return e===null&&bl(t),null;case 13:return kd(e,t,s);case 4:return El(t,t.stateNode.containerInfo),c=t.pendingProps,e===null?t.child=ps(t,null,c,s):rt(e,t,c,s),t.child;case 11:return c=t.type,d=t.pendingProps,d=t.elementType===c?d:_t(c,d),xd(e,t,c,d,s);case 7:return rt(e,t,t.pendingProps,s),t.child;case 8:return rt(e,t,t.pendingProps.children,s),t.child;case 12:return rt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(c=t.type._context,d=t.pendingProps,f=t.memoizedProps,y=d.value,we(Ta,c._currentValue),c._currentValue=y,f!==null)if(Nt(f.value,y)){if(f.children===d.children&&!nt.current){t=Jt(e,t,s);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var b=f.dependencies;if(b!==null){y=f.child;for(var S=b.firstContext;S!==null;){if(S.context===c){if(f.tag===1){S=Gt(-1,s&-s),S.tag=2;var I=f.updateQueue;if(I!==null){I=I.shared;var D=I.pending;D===null?S.next=S:(S.next=D.next,D.next=S),I.pending=S}}f.lanes|=s,S=f.alternate,S!==null&&(S.lanes|=s),_l(f.return,s,t),b.lanes|=s;break}S=S.next}}else if(f.tag===10)y=f.type===t.type?null:f.child;else if(f.tag===18){if(y=f.return,y===null)throw Error(a(341));y.lanes|=s,b=y.alternate,b!==null&&(b.lanes|=s),_l(y,s,t),y=f.sibling}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===t){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}rt(e,t,d.children,s),t=t.child}return t;case 9:return d=t.type,c=t.pendingProps.children,gs(t,s),d=yt(d),c=c(d),t.flags|=1,rt(e,t,c,s),t.child;case 14:return c=t.type,d=_t(c,t.pendingProps),d=_t(c.type,d),gd(e,t,c,d,s);case 15:return yd(e,t,t.type,t.pendingProps,s);case 17:return c=t.type,d=t.pendingProps,d=t.elementType===c?d:_t(c,d),Ba(e,t),t.tag=1,at(c)?(e=!0,ka(t)):e=!1,gs(t,s),cd(t,c,d),zl(t,c,d,s),Vl(null,t,c,!0,e,s);case 19:return Sd(e,t,s);case 22:return vd(e,t,s)}throw Error(a(156,t.tag))};function Qd(e,t){return Pc(e,t)}function Im(e,t,s,c){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,s,c){return new Im(e,t,s,c)}function ho(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Om(e){if(typeof e=="function")return ho(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ie)return 11;if(e===Re)return 14}return 2}function wr(e,t){var s=e.alternate;return s===null?(s=wt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Za(e,t,s,c,d,f){var y=2;if(c=e,typeof e=="function")ho(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case q:return Br(s.children,d,f,t);case fe:y=8,d|=8;break;case ye:return e=wt(12,s,t,d|2),e.elementType=ye,e.lanes=f,e;case Ae:return e=wt(13,s,t,d),e.elementType=Ae,e.lanes=f,e;case Se:return e=wt(19,s,t,d),e.elementType=Se,e.lanes=f,e;case oe:return ei(s,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ne:y=10;break e;case Me:y=9;break e;case Ie:y=11;break e;case Re:y=14;break e;case Ce:y=16,c=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=wt(y,s,t,d),t.elementType=e,t.type=c,t.lanes=f,t}function Br(e,t,s,c){return e=wt(7,e,c,t),e.lanes=s,e}function ei(e,t,s,c){return e=wt(22,e,c,t),e.elementType=oe,e.lanes=s,e.stateNode={isHidden:!1},e}function fo(e,t,s){return e=wt(6,e,null,t),e.lanes=s,e}function mo(e,t,s){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $m(e,t,s,c,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fi(0),this.expirationTimes=Fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function po(e,t,s,c,d,f,y,b,S){return e=new $m(e,t,s,b,S),t===1?(t=1,f===!0&&(t|=8)):t=0,f=wt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:c,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cl(f),e}function Mm(e,t,s){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:c==null?null:""+c,children:e,containerInfo:t,implementation:s}}function Yd(e){if(!e)return hr;e=e._reactInternals;e:{if(Tr(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var s=e.type;if(at(s))return _u(e,s,t)}return t}function Xd(e,t,s,c,d,f,y,b,S){return e=po(s,c,!0,e,d,f,y,b,S),e.context=Yd(null),s=e.current,c=st(),d=vr(s),f=Gt(c,d),f.callback=t??null,pr(s,f,d),e.current.lanes=d,Ys(e,d,c),ot(e,c),e}function ti(e,t,s,c){var d=t.current,f=st(),y=vr(d);return s=Yd(s),t.context===null?t.context=s:t.pendingContext=s,t=Gt(f,y),t.payload={element:e},c=c===void 0?null:c,c!==null&&(t.callback=c),e=pr(d,t,y),e!==null&&(Et(e,d,y,f),Ra(e,d,y)),y}function ri(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function xo(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function Dm(){return null}var eh=typeof reportError=="function"?reportError:function(e){console.error(e)};function go(e){this._internalRoot=e}si.prototype.render=go.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));ti(e,t,null,null)},si.prototype.unmount=go.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ur(function(){ti(null,e,null,null)}),t[Wt]=null}};function si(e){this._internalRoot=e}si.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mc();e={blockedOn:null,target:e,priority:t};for(var s=0;s<lr.length&&t!==0&&t<lr[s].priority;s++);lr.splice(s,0,e),s===0&&Fc(e)}};function yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ni(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function th(){}function Um(e,t,s,c,d){if(d){if(typeof c=="function"){var f=c;c=function(){var I=ri(y);f.call(I)}}var y=Xd(t,c,e,0,null,!1,!1,"",th);return e._reactRootContainer=y,e[Wt]=y.current,hn(e.nodeType===8?e.parentNode:e),Ur(),y}for(;d=e.lastChild;)e.removeChild(d);if(typeof c=="function"){var b=c;c=function(){var I=ri(S);b.call(I)}}var S=po(e,0,!1,null,null,!1,!1,"",th);return e._reactRootContainer=S,e[Wt]=S.current,hn(e.nodeType===8?e.parentNode:e),Ur(function(){ti(t,S,s,c)}),S}function ai(e,t,s,c,d){var f=s._reactRootContainer;if(f){var y=f;if(typeof d=="function"){var b=d;d=function(){var S=ri(y);b.call(S)}}ti(t,y,e,d)}else y=Um(s,t,e,d,c);return ri(y)}Oc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Qs(t.pendingLanes);s!==0&&(zi(t,s|1),ot(t,Oe()),(he&6)===0&&(js=Oe()+500,fr()))}break;case 13:Ur(function(){var c=Kt(e,1);if(c!==null){var d=st();Et(c,e,1,d)}}),xo(e,1)}},Bi=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var s=st();Et(t,e,134217728,s)}xo(e,134217728)}},$c=function(e){if(e.tag===13){var t=vr(e),s=Kt(e,t);if(s!==null){var c=st();Et(s,e,t,c)}xo(e,t)}},Mc=function(){return ve},Dc=function(e,t){var s=ve;try{return ve=e,t()}finally{ve=s}},Ii=function(e,t,s){switch(t){case"input":if(Si(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var c=s[t];if(c!==e&&c.form===e.form){var d=ja(c);if(!d)throw Error(a(90));Yr(c),Si(c,d)}}}break;case"textarea":fc(e,s);break;case"select":t=s.value,t!=null&&Zr(e,!!s.multiple,t,!1)}},jc=oo,Nc=Ur;var Fm={usingClientEntryPoint:!1,Events:[pn,cs,ja,bc,wc,oo]},Pn={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zm={bundleType:Pn.bundleType,version:Pn.version,rendererPackageName:Pn.rendererPackageName,rendererConfig:Pn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cc(e),e===null?null:e.stateNode},findFiberByHostInstance:Pn.findFiberByHostInstance||Dm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ii=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ii.isDisabled&&ii.supportsFiber)try{sa=ii.inject(zm),It=ii}catch{}}return ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fm,ct.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yo(t))throw Error(a(200));return Mm(e,t,null,s)},ct.createRoot=function(e,t){if(!yo(e))throw Error(a(299));var s=!1,c="",d=eh;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(c=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=po(e,1,!1,null,null,s,!1,c,d),e[Wt]=t.current,hn(e.nodeType===8?e.parentNode:e),new go(t)},ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Cc(t),e=e===null?null:e.stateNode,e},ct.flushSync=function(e){return Ur(e)},ct.hydrate=function(e,t,s){if(!ni(t))throw Error(a(200));return ai(null,e,t,!0,s)},ct.hydrateRoot=function(e,t,s){if(!yo(e))throw Error(a(405));var c=s!=null&&s.hydratedSources||null,d=!1,f="",y=eh;if(s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),t=Xd(t,null,e,1,s??null,d,!1,f,y),e[Wt]=t.current,hn(e),c)for(e=0;e<c.length;e++)s=c[e],d=s._getVersion,d=d(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,d]:t.mutableSourceEagerHydrationData.push(s,d);return new si(t)},ct.render=function(e,t,s){if(!ni(t))throw Error(a(200));return ai(null,e,t,!1,s)},ct.unmountComponentAtNode=function(e){if(!ni(e))throw Error(a(40));return e._reactRootContainer?(Ur(function(){ai(null,null,e,!1,function(){e._reactRootContainer=null,e[Wt]=null})}),!0):!1},ct.unstable_batchedUpdates=oo,ct.unstable_renderSubtreeIntoContainer=function(e,t,s,c){if(!ni(s))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return ai(e,t,s,!1,c)},ct.version="18.3.1-next-f1338f8080-20240426",ct}var ch;function Qm(){if(ch)return wo.exports;ch=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),wo.exports=Jm(),wo.exports}var uh;function Ym(){if(uh)return li;uh=1;var i=Qm();return li.createRoot=i.createRoot,li.hydrateRoot=i.hydrateRoot,li}var Xm=Ym();const Zm=Ko(Xm);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dh="popstate";function ep(i={}){function n(l,o){let{pathname:u,search:h,hash:m}=l.location;return Lo("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(l,o){return typeof o=="string"?o:zn(o)}return rp(n,a,null,i)}function Be(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function Ft(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function tp(){return Math.random().toString(36).substring(2,10)}function hh(i,n){return{usr:i.state,key:i.key,idx:n}}function Lo(i,n,a=null,l){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof n=="string"?Hn(n):n,state:a,key:n&&n.key||l||tp()}}function zn({pathname:i="/",search:n="",hash:a=""}){return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function Hn(i){let n={};if(i){let a=i.indexOf("#");a>=0&&(n.hash=i.substring(a),i=i.substring(0,a));let l=i.indexOf("?");l>=0&&(n.search=i.substring(l),i=i.substring(0,l)),i&&(n.pathname=i)}return n}function rp(i,n,a,l={}){let{window:o=document.defaultView,v5Compat:u=!1}=l,h=o.history,m="POP",p=null,g=x();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function x(){return(h.state||{idx:null}).idx}function v(){m="POP";let R=x(),O=R==null?null:R-g;g=R,p&&p({action:m,location:k.location,delta:O})}function j(R,O){m="PUSH";let H=Lo(k.location,R,O);g=x()+1;let $=hh(H,g),B=k.createHref(H);try{h.pushState($,"",B)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(B)}u&&p&&p({action:m,location:k.location,delta:1})}function N(R,O){m="REPLACE";let H=Lo(k.location,R,O);g=x();let $=hh(H,g),B=k.createHref(H);h.replaceState($,"",B),u&&p&&p({action:m,location:k.location,delta:0})}function _(R){return sp(R)}let k={get action(){return m},get location(){return i(o,h)},listen(R){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(dh,v),p=R,()=>{o.removeEventListener(dh,v),p=null}},createHref(R){return n(o,R)},createURL:_,encodeLocation(R){let O=_(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:j,replace:N,go(R){return h.go(R)}};return k}function sp(i,n=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Be(a,"No window.location.(origin|href) available to create URL");let l=typeof i=="string"?i:zn(i);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=a+l),new URL(l,a)}function rf(i,n,a="/"){return np(i,n,a,!1)}function np(i,n,a,l){let o=typeof n=="string"?Hn(n):n,u=tr(o.pathname||"/",a);if(u==null)return null;let h=sf(i);ap(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=xp(u);m=mp(h[p],g,l)}return m}function sf(i,n=[],a=[],l=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(Be(p.relativePath.startsWith(l),`Absolute route path "${p.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(l.length));let g=er([l,p.relativePath]),x=a.concat(p);u.children&&u.children.length>0&&(Be(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),sf(u.children,n,x,g)),!(u.path==null&&!u.index)&&n.push({path:g,score:hp(g,u.index),routesMeta:x})};return i.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let m of nf(u.path))o(u,h,m)}),n}function nf(i){let n=i.split("/");if(n.length===0)return[];let[a,...l]=n,o=a.endsWith("?"),u=a.replace(/\?$/,"");if(l.length===0)return o?[u,""]:[u];let h=nf(l.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function ap(i){i.sort((n,a)=>n.score!==a.score?a.score-n.score:fp(n.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}var ip=/^:[\w-]+$/,lp=3,op=2,cp=1,up=10,dp=-2,fh=i=>i==="*";function hp(i,n){let a=i.split("/"),l=a.length;return a.some(fh)&&(l+=dp),n&&(l+=op),a.filter(o=>!fh(o)).reduce((o,u)=>o+(ip.test(u)?lp:u===""?cp:up),l)}function fp(i,n){return i.length===n.length&&i.slice(0,-1).every((l,o)=>l===n[o])?i[i.length-1]-n[n.length-1]:0}function mp(i,n,a=!1){let{routesMeta:l}=i,o={},u="/",h=[];for(let m=0;m<l.length;++m){let p=l[m],g=m===l.length-1,x=u==="/"?n:n.slice(u.length)||"/",v=pi({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),j=p.route;if(!v&&g&&a&&!l[l.length-1].route.index&&(v=pi({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!v)return null;Object.assign(o,v.params),h.push({params:o,pathname:er([u,v.pathname]),pathnameBase:bp(er([u,v.pathnameBase])),route:j}),v.pathnameBase!=="/"&&(u=er([u,v.pathnameBase]))}return h}function pi(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[a,l]=pp(i.path,i.caseSensitive,i.end),o=n.match(a);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:l.reduce((g,{paramName:x,isOptional:v},j)=>{if(x==="*"){let _=m[j]||"";h=u.slice(0,u.length-_.length).replace(/(.)\/+$/,"$1")}const N=m[j];return v&&!N?g[x]=void 0:g[x]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function pp(i,n=!1,a=!0){Ft(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let l=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(l.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(l.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),l]}function xp(i){try{return i.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Ft(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),i}}function tr(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,l=i.charAt(a);return l&&l!=="/"?null:i.slice(a)||"/"}function gp(i,n="/"){let{pathname:a,search:l="",hash:o=""}=typeof i=="string"?Hn(i):i;return{pathname:a?a.startsWith("/")?a:yp(a,n):n,search:wp(l),hash:jp(o)}}function yp(i,n){let a=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function ko(i,n,a,l){return`Cannot include a '${i}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vp(i){return i.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function af(i){let n=vp(i);return n.map((a,l)=>l===n.length-1?a.pathname:a.pathnameBase)}function lf(i,n,a,l=!1){let o;typeof i=="string"?o=Hn(i):(o={...i},Be(!o.pathname||!o.pathname.includes("?"),ko("?","pathname","search",o)),Be(!o.pathname||!o.pathname.includes("#"),ko("#","pathname","hash",o)),Be(!o.search||!o.search.includes("#"),ko("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=a;else{let v=n.length-1;if(!l&&h.startsWith("..")){let j=h.split("/");for(;j[0]==="..";)j.shift(),v-=1;o.pathname=j.join("/")}m=v>=0?n[v]:"/"}let p=gp(o,m),g=h&&h!=="/"&&h.endsWith("/"),x=(u||h===".")&&a.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var er=i=>i.join("/").replace(/\/\/+/g,"/"),bp=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),wp=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,jp=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Np(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var of=["POST","PUT","PATCH","DELETE"];new Set(of);var kp=["GET",...of];new Set(kp);var Bs=w.createContext(null);Bs.displayName="DataRouter";var wi=w.createContext(null);wi.displayName="DataRouterState";w.createContext(!1);var cf=w.createContext({isTransitioning:!1});cf.displayName="ViewTransition";var _p=w.createContext(new Map);_p.displayName="Fetchers";var Sp=w.createContext(null);Sp.displayName="Await";var zt=w.createContext(null);zt.displayName="Navigation";var ji=w.createContext(null);ji.displayName="Location";var rr=w.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var Jo=w.createContext(null);Jo.displayName="RouteError";function Cp(i,{relative:n}={}){Be(Kn(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:l}=w.useContext(zt),{hash:o,pathname:u,search:h}=Gn(i,{relative:n}),m=u;return a!=="/"&&(m=u==="/"?a:er([a,u])),l.createHref({pathname:m,search:h,hash:o})}function Kn(){return w.useContext(ji)!=null}function Jr(){return Be(Kn(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(ji).location}var uf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function df(i){w.useContext(zt).static||w.useLayoutEffect(i)}function hf(){let{isDataRoute:i}=w.useContext(rr);return i?Fp():Ep()}function Ep(){Be(Kn(),"useNavigate() may be used only in the context of a <Router> component.");let i=w.useContext(Bs),{basename:n,navigator:a}=w.useContext(zt),{matches:l}=w.useContext(rr),{pathname:o}=Jr(),u=JSON.stringify(af(l)),h=w.useRef(!1);return df(()=>{h.current=!0}),w.useCallback((p,g={})=>{if(Ft(h.current,uf),!h.current)return;if(typeof p=="number"){a.go(p);return}let x=lf(p,JSON.parse(u),o,g.relative==="path");i==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:er([n,x.pathname])),(g.replace?a.replace:a.push)(x,g.state,g)},[n,a,u,o,i])}w.createContext(null);function Gn(i,{relative:n}={}){let{matches:a}=w.useContext(rr),{pathname:l}=Jr(),o=JSON.stringify(af(a));return w.useMemo(()=>lf(i,JSON.parse(o),l,n==="path"),[i,o,l,n])}function Pp(i,n,a,l){Be(Kn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=w.useContext(zt),{matches:u}=w.useContext(rr),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",x=h&&h.route;{let O=x&&x.path||"";ff(p,!x||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let v=Jr(),j;j=v;let N=j.pathname||"/",_=N;if(g!=="/"){let O=g.replace(/^\//,"").split("/");_="/"+N.replace(/^\//,"").split("/").slice(O.length).join("/")}let k=rf(i,{pathname:_});return Ft(x||k!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Ft(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Ip(k&&k.map(O=>Object.assign({},O,{params:Object.assign({},m,O.params),pathname:er([g,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?g:er([g,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),u,a,l)}function Tp(){let i=Up(),n=Np(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),a=i instanceof Error?i.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},u={padding:"2px 4px",backgroundColor:l},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:u},"ErrorBoundary")," or"," ",w.createElement("code",{style:u},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},n),a?w.createElement("pre",{style:o},a):null,h)}var Ap=w.createElement(Tp,null),Rp=class extends w.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,n){return n.location!==i.location||n.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:n.error,location:n.location,revalidation:i.revalidation||n.revalidation}}componentDidCatch(i,n){console.error("React Router caught the following error during render",i,n)}render(){return this.state.error!==void 0?w.createElement(rr.Provider,{value:this.props.routeContext},w.createElement(Jo.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lp({routeContext:i,match:n,children:a}){let l=w.useContext(Bs);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(rr.Provider,{value:i},a)}function Ip(i,n=[],a=null,l=null){if(i==null){if(!a)return null;if(a.errors)i=a.matches;else if(n.length===0&&!a.initialized&&a.matches.length>0)i=a.matches;else return null}let o=i,u=a?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);Be(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(a)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:x,errors:v}=a,j=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||j){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,x)=>{let v,j=!1,N=null,_=null;a&&(v=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||Ap,h&&(m<0&&x===0?(ff("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,_=null):m===x&&(j=!0,_=g.route.hydrateFallbackElement||null)));let k=n.concat(o.slice(0,x+1)),R=()=>{let O;return v?O=N:j?O=_:g.route.Component?O=w.createElement(g.route.Component,null):g.route.element?O=g.route.element:O=p,w.createElement(Lp,{match:g,routeContext:{outlet:p,matches:k,isDataRoute:a!=null},children:O})};return a&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?w.createElement(Rp,{location:a.location,revalidation:a.revalidation,component:N,error:v,children:R(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):R()},null)}function Qo(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Op(i){let n=w.useContext(Bs);return Be(n,Qo(i)),n}function $p(i){let n=w.useContext(wi);return Be(n,Qo(i)),n}function Mp(i){let n=w.useContext(rr);return Be(n,Qo(i)),n}function Yo(i){let n=Mp(i),a=n.matches[n.matches.length-1];return Be(a.route.id,`${i} can only be used on routes that contain a unique "id"`),a.route.id}function Dp(){return Yo("useRouteId")}function Up(){let i=w.useContext(Jo),n=$p("useRouteError"),a=Yo("useRouteError");return i!==void 0?i:n.errors?.[a]}function Fp(){let{router:i}=Op("useNavigate"),n=Yo("useNavigate"),a=w.useRef(!1);return df(()=>{a.current=!0}),w.useCallback(async(o,u={})=>{Ft(a.current,uf),a.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:n,...u}))},[i,n])}var mh={};function ff(i,n,a){!n&&!mh[i]&&(mh[i]=!0,Ft(!1,a))}w.memo(zp);function zp({routes:i,future:n,state:a}){return Pp(i,void 0,a,n)}function Bp({basename:i="/",children:n=null,location:a,navigationType:l="POP",navigator:o,static:u=!1}){Be(!Kn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=w.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof a=="string"&&(a=Hn(a));let{pathname:p="/",search:g="",hash:x="",state:v=null,key:j="default"}=a,N=w.useMemo(()=>{let _=tr(p,h);return _==null?null:{location:{pathname:_,search:g,hash:x,state:v,key:j},navigationType:l}},[h,p,g,x,v,j,l]);return Ft(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:w.createElement(zt.Provider,{value:m},w.createElement(ji.Provider,{children:n,value:N}))}var fi="get",mi="application/x-www-form-urlencoded";function Ni(i){return i!=null&&typeof i.tagName=="string"}function Wp(i){return Ni(i)&&i.tagName.toLowerCase()==="button"}function qp(i){return Ni(i)&&i.tagName.toLowerCase()==="form"}function Vp(i){return Ni(i)&&i.tagName.toLowerCase()==="input"}function Hp(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Kp(i,n){return i.button===0&&(!n||n==="_self")&&!Hp(i)}var oi=null;function Gp(){if(oi===null)try{new FormData(document.createElement("form"),0),oi=!1}catch{oi=!0}return oi}var Jp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _o(i){return i!=null&&!Jp.has(i)?(Ft(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mi}"`),null):i}function Qp(i,n){let a,l,o,u,h;if(qp(i)){let m=i.getAttribute("action");l=m?tr(m,n):null,a=i.getAttribute("method")||fi,o=_o(i.getAttribute("enctype"))||mi,u=new FormData(i)}else if(Wp(i)||Vp(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(l=p?tr(p,n):null,a=i.getAttribute("formmethod")||m.getAttribute("method")||fi,o=_o(i.getAttribute("formenctype"))||_o(m.getAttribute("enctype"))||mi,u=new FormData(m,i),!Gp()){let{name:g,type:x,value:v}=i;if(x==="image"){let j=g?`${g}.`:"";u.append(`${j}x`,"0"),u.append(`${j}y`,"0")}else g&&u.append(g,v)}}else{if(Ni(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=fi,l=null,o=mi,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:l,method:a.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xo(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function Yp(i,n,a){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return l.pathname==="/"?l.pathname=`_root.${a}`:n&&tr(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function Xp(i,n){if(i.id in n)return n[i.id];try{let a=await import(i.module);return n[i.id]=a,a}catch(a){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zp(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ex(i,n,a){let l=await Promise.all(i.map(async o=>{let u=n.routes[o.route.id];if(u){let h=await Xp(u,a);return h.links?h.links():[]}return[]}));return nx(l.flat(1).filter(Zp).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ph(i,n,a,l,o,u){let h=(p,g)=>a[g]?p.route.id!==a[g].route.id:!0,m=(p,g)=>a[g].pathname!==p.pathname||a[g].route.path?.endsWith("*")&&a[g].params["*"]!==p.params["*"];return u==="assets"?n.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?n.filter((p,g)=>{let x=l.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function tx(i,n,{includeHydrateFallback:a}={}){return rx(i.map(l=>{let o=n.routes[l.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function rx(i){return[...new Set(i)]}function sx(i){let n={},a=Object.keys(i).sort();for(let l of a)n[l]=i[l];return n}function nx(i,n){let a=new Set;return new Set(n),i.reduce((l,o)=>{let u=JSON.stringify(sx(o));return a.has(u)||(a.add(u),l.push({key:u,link:o})),l},[])}function mf(){let i=w.useContext(Bs);return Xo(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ax(){let i=w.useContext(wi);return Xo(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Zo=w.createContext(void 0);Zo.displayName="FrameworkContext";function pf(){let i=w.useContext(Zo);return Xo(i,"You must render this element inside a <HydratedRouter> element"),i}function ix(i,n){let a=w.useContext(Zo),[l,o]=w.useState(!1),[u,h]=w.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:v}=n,j=w.useRef(null);w.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let k=O=>{O.forEach(H=>{h(H.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return j.current&&R.observe(j.current),()=>{R.disconnect()}}},[i]),w.useEffect(()=>{if(l){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[l]);let N=()=>{o(!0)},_=()=>{o(!1),h(!1)};return a?i!=="intent"?[u,j,{}]:[u,j,{onFocus:An(m,N),onBlur:An(p,_),onMouseEnter:An(g,N),onMouseLeave:An(x,_),onTouchStart:An(v,N)}]:[!1,j,{}]}function An(i,n){return a=>{i&&i(a),a.defaultPrevented||n(a)}}function lx({page:i,...n}){let{router:a}=mf(),l=w.useMemo(()=>rf(a.routes,i,a.basename),[a.routes,i,a.basename]);return l?w.createElement(cx,{page:i,matches:l,...n}):null}function ox(i){let{manifest:n,routeModules:a}=pf(),[l,o]=w.useState([]);return w.useEffect(()=>{let u=!1;return ex(i,n,a).then(h=>{u||o(h)}),()=>{u=!0}},[i,n,a]),l}function cx({page:i,matches:n,...a}){let l=Jr(),{manifest:o,routeModules:u}=pf(),{basename:h}=mf(),{loaderData:m,matches:p}=ax(),g=w.useMemo(()=>ph(i,n,p,o,l,"data"),[i,n,p,o,l]),x=w.useMemo(()=>ph(i,n,p,o,l,"assets"),[i,n,p,o,l]),v=w.useMemo(()=>{if(i===l.pathname+l.search+l.hash)return[];let _=new Set,k=!1;if(n.forEach(O=>{let H=o.routes[O.route.id];!H||!H.hasLoader||(!g.some($=>$.route.id===O.route.id)&&O.route.id in m&&u[O.route.id]?.shouldRevalidate||H.hasClientLoader?k=!0:_.add(O.route.id))}),_.size===0)return[];let R=Yp(i,h,"data");return k&&_.size>0&&R.searchParams.set("_routes",n.filter(O=>_.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[h,m,l,o,g,n,i,u]),j=w.useMemo(()=>tx(x,o),[x,o]),N=ox(x);return w.createElement(w.Fragment,null,v.map(_=>w.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...a})),j.map(_=>w.createElement("link",{key:_,rel:"modulepreload",href:_,...a})),N.map(({key:_,link:k})=>w.createElement("link",{key:_,...k})))}function ux(...i){return n=>{i.forEach(a=>{typeof a=="function"?a(n):a!=null&&(a.current=n)})}}var xf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xf&&(window.__reactRouterVersion="7.7.1")}catch{}function dx({basename:i,children:n,window:a}){let l=w.useRef();l.current==null&&(l.current=ep({window:a,v5Compat:!0}));let o=l.current,[u,h]=w.useState({action:o.action,location:o.location}),m=w.useCallback(p=>{w.startTransition(()=>h(p))},[h]);return w.useLayoutEffect(()=>o.listen(m),[o,m]),w.createElement(Bp,{basename:i,children:n,location:u.location,navigationType:u.action,navigator:o})}var gf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yf=w.forwardRef(function({onClick:n,discover:a="render",prefetch:l="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:x,viewTransition:v,...j},N){let{basename:_}=w.useContext(zt),k=typeof g=="string"&&gf.test(g),R,O=!1;if(typeof g=="string"&&k&&(R=g,xf))try{let ye=new URL(window.location.href),Ne=g.startsWith("//")?new URL(ye.protocol+g):new URL(g),Me=tr(Ne.pathname,_);Ne.origin===ye.origin&&Me!=null?g=Me+Ne.search+Ne.hash:O=!0}catch{Ft(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=Cp(g,{relative:o}),[$,B,Z]=ix(l,j),W=px(g,{replace:h,state:m,target:p,preventScrollReset:x,relative:o,viewTransition:v});function q(ye){n&&n(ye),ye.defaultPrevented||W(ye)}let fe=w.createElement("a",{...j,...Z,href:R||H,onClick:O||u?n:q,ref:ux(N,B),target:p,"data-discover":!k&&a==="render"?"true":void 0});return $&&!k?w.createElement(w.Fragment,null,fe,w.createElement(lx,{page:H})):fe});yf.displayName="Link";var hx=w.forwardRef(function({"aria-current":n="page",caseSensitive:a=!1,className:l="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},x){let v=Gn(h,{relative:g.relative}),j=Jr(),N=w.useContext(wi),{navigator:_,basename:k}=w.useContext(zt),R=N!=null&&bx(v)&&m===!0,O=_.encodeLocation?_.encodeLocation(v).pathname:v.pathname,H=j.pathname,$=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;a||(H=H.toLowerCase(),$=$?$.toLowerCase():null,O=O.toLowerCase()),$&&k&&($=tr($,k)||$);const B=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Z=H===O||!o&&H.startsWith(O)&&H.charAt(B)==="/",W=$!=null&&($===O||!o&&$.startsWith(O)&&$.charAt(O.length)==="/"),q={isActive:Z,isPending:W,isTransitioning:R},fe=Z?n:void 0,ye;typeof l=="function"?ye=l(q):ye=[l,Z?"active":null,W?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof u=="function"?u(q):u;return w.createElement(yf,{...g,"aria-current":fe,className:ye,ref:x,style:Ne,to:h,viewTransition:m},typeof p=="function"?p(q):p)});hx.displayName="NavLink";var fx=w.forwardRef(({discover:i="render",fetcherKey:n,navigate:a,reloadDocument:l,replace:o,state:u,method:h=fi,action:m,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:v,...j},N)=>{let _=yx(),k=vx(m,{relative:g}),R=h.toLowerCase()==="get"?"get":"post",O=typeof m=="string"&&gf.test(m),H=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let B=$.nativeEvent.submitter,Z=B?.getAttribute("formmethod")||h;_(B||$.currentTarget,{fetcherKey:n,method:Z,navigate:a,replace:o,state:u,relative:g,preventScrollReset:x,viewTransition:v})};return w.createElement("form",{ref:N,method:R,action:k,onSubmit:l?p:H,...j,"data-discover":!O&&i==="render"?"true":void 0})});fx.displayName="Form";function mx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vf(i){let n=w.useContext(Bs);return Be(n,mx(i)),n}function px(i,{target:n,replace:a,state:l,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=hf(),p=Jr(),g=Gn(i,{relative:u});return w.useCallback(x=>{if(Kp(x,n)){x.preventDefault();let v=a!==void 0?a:zn(p)===zn(g);m(i,{replace:v,state:l,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,a,l,n,i,o,u,h])}var xx=0,gx=()=>`__${String(++xx)}__`;function yx(){let{router:i}=vf("useSubmit"),{basename:n}=w.useContext(zt),a=Dp();return w.useCallback(async(l,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=Qp(l,n);if(o.navigate===!1){let x=o.fetcherKey||gx();await i.fetch(x,a,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,n,a])}function vx(i,{relative:n}={}){let{basename:a}=w.useContext(zt),l=w.useContext(rr);Be(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),u={...Gn(i||".",{relative:n})},h=Jr();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(v=>v).forEach(v=>m.append("index",v));let x=m.toString();u.search=x?`?${x}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:er([a,u.pathname])),zn(u)}function bx(i,{relative:n}={}){let a=w.useContext(cf);Be(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=vf("useViewTransitionState"),o=Gn(i,{relative:n});if(!a.isTransitioning)return!1;let u=tr(a.currentLocation.pathname,l)||a.currentLocation.pathname,h=tr(a.nextLocation.pathname,l)||a.nextLocation.pathname;return pi(o.pathname,h)!=null||pi(o.pathname,u)!=null}const wx={};var Io=null;function jx(i){try{return crypto.getRandomValues(new Uint8Array(i))}catch{}try{return wx.randomBytes(i)}catch{}if(!Io)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Io(i)}function Nx(i){Io=i}function ec(i,n){if(i=i||tc,typeof i!="number")throw Error("Illegal arguments: "+typeof i+", "+typeof n);i<4?i=4:i>31&&(i=31);var a=[];return a.push("$2b$"),i<10&&a.push("0"),a.push(i.toString()),a.push("$"),a.push(xi(jx(Bn),Bn)),a.join("")}function bf(i,n,a){if(typeof n=="function"&&(a=n,n=void 0),typeof i=="function"&&(a=i,i=void 0),typeof i>"u")i=tc;else if(typeof i!="number")throw Error("illegal arguments: "+typeof i);function l(o){At(function(){try{o(null,ec(i))}catch(u){o(u)}})}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);l(a)}else return new Promise(function(o,u){l(function(h,m){if(h){u(h);return}o(m)})})}function wf(i,n){if(typeof n>"u"&&(n=tc),typeof n=="number"&&(n=ec(n)),typeof i!="string"||typeof n!="string")throw Error("Illegal arguments: "+typeof i+", "+typeof n);return Oo(i,n)}function jf(i,n,a,l){function o(u){typeof i=="string"&&typeof n=="number"?bf(n,function(h,m){Oo(i,m,u,l)}):typeof i=="string"&&typeof n=="string"?Oo(i,n,u,l):At(u.bind(this,Error("Illegal arguments: "+typeof i+", "+typeof n)))}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);o(a)}else return new Promise(function(u,h){o(function(m,p){if(m){h(m);return}u(p)})})}function Nf(i,n){for(var a=i.length^n.length,l=0;l<i.length;++l)a|=i.charCodeAt(l)^n.charCodeAt(l);return a===0}function kx(i,n){if(typeof i!="string"||typeof n!="string")throw Error("Illegal arguments: "+typeof i+", "+typeof n);return n.length!==60?!1:Nf(wf(i,n.substring(0,n.length-31)),n)}function _x(i,n,a,l){function o(u){if(typeof i!="string"||typeof n!="string"){At(u.bind(this,Error("Illegal arguments: "+typeof i+", "+typeof n)));return}if(n.length!==60){At(u.bind(this,null,!1));return}jf(i,n.substring(0,29),function(h,m){h?u(h):u(null,Nf(m,n))},l)}if(a){if(typeof a!="function")throw Error("Illegal callback: "+typeof a);o(a)}else return new Promise(function(u,h){o(function(m,p){if(m){h(m);return}u(p)})})}function Sx(i){if(typeof i!="string")throw Error("Illegal arguments: "+typeof i);return parseInt(i.split("$")[2],10)}function Cx(i){if(typeof i!="string")throw Error("Illegal arguments: "+typeof i);if(i.length!==60)throw Error("Illegal hash length: "+i.length+" != 60");return i.substring(0,29)}function Ex(i){if(typeof i!="string")throw Error("Illegal arguments: "+typeof i);return kf(i)>72}var At=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function kf(i){for(var n=0,a=0,l=0;l<i.length;++l)a=i.charCodeAt(l),a<128?n+=1:a<2048?n+=2:(a&64512)===55296&&(i.charCodeAt(l+1)&64512)===56320?(++l,n+=4):n+=3;return n}function Px(i){for(var n=0,a,l,o=new Array(kf(i)),u=0,h=i.length;u<h;++u)a=i.charCodeAt(u),a<128?o[n++]=a:a<2048?(o[n++]=a>>6|192,o[n++]=a&63|128):(a&64512)===55296&&((l=i.charCodeAt(u+1))&64512)===56320?(a=65536+((a&1023)<<10)+(l&1023),++u,o[n++]=a>>18|240,o[n++]=a>>12&63|128,o[n++]=a>>6&63|128,o[n++]=a&63|128):(o[n++]=a>>12|224,o[n++]=a>>6&63|128,o[n++]=a&63|128);return o}var ks="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Nr=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function xi(i,n){var a=0,l=[],o,u;if(n<=0||n>i.length)throw Error("Illegal len: "+n);for(;a<n;){if(o=i[a++]&255,l.push(ks[o>>2&63]),o=(o&3)<<4,a>=n){l.push(ks[o&63]);break}if(u=i[a++]&255,o|=u>>4&15,l.push(ks[o&63]),o=(u&15)<<2,a>=n){l.push(ks[o&63]);break}u=i[a++]&255,o|=u>>6&3,l.push(ks[o&63]),l.push(ks[u&63])}return l.join("")}function _f(i,n){var a=0,l=i.length,o=0,u=[],h,m,p,g,x,v;if(n<=0)throw Error("Illegal len: "+n);for(;a<l-1&&o<n&&(v=i.charCodeAt(a++),h=v<Nr.length?Nr[v]:-1,v=i.charCodeAt(a++),m=v<Nr.length?Nr[v]:-1,!(h==-1||m==-1||(x=h<<2>>>0,x|=(m&48)>>4,u.push(String.fromCharCode(x)),++o>=n||a>=l)||(v=i.charCodeAt(a++),p=v<Nr.length?Nr[v]:-1,p==-1)||(x=(m&15)<<4>>>0,x|=(p&60)>>2,u.push(String.fromCharCode(x)),++o>=n||a>=l)));)v=i.charCodeAt(a++),g=v<Nr.length?Nr[v]:-1,x=(p&3)<<6>>>0,x|=g,u.push(String.fromCharCode(x)),++o;var j=[];for(a=0;a<o;a++)j.push(u[a].charCodeAt(0));return j}var Bn=16,tc=10,Tx=16,Ax=100,xh=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],gh=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],Sf=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Wn(i,n,a,l){var o,u=i[n],h=i[n+1];return u^=a[0],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^a[1],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^a[2],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^a[3],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^a[4],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^a[5],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^a[6],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^a[7],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^a[8],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^a[9],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^a[10],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^a[11],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^a[12],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^a[13],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^a[14],o=l[u>>>24],o+=l[256|u>>16&255],o^=l[512|u>>8&255],o+=l[768|u&255],h^=o^a[15],o=l[h>>>24],o+=l[256|h>>16&255],o^=l[512|h>>8&255],o+=l[768|h&255],u^=o^a[16],i[n]=h^a[Tx+1],i[n+1]=u,i}function Os(i,n){for(var a=0,l=0;a<4;++a)l=l<<8|i[n]&255,n=(n+1)%i.length;return{key:l,offp:n}}function yh(i,n,a){for(var l=0,o=[0,0],u=n.length,h=a.length,m,p=0;p<u;p++)m=Os(i,l),l=m.offp,n[p]=n[p]^m.key;for(p=0;p<u;p+=2)o=Wn(o,0,n,a),n[p]=o[0],n[p+1]=o[1];for(p=0;p<h;p+=2)o=Wn(o,0,n,a),a[p]=o[0],a[p+1]=o[1]}function Rx(i,n,a,l){for(var o=0,u=[0,0],h=a.length,m=l.length,p,g=0;g<h;g++)p=Os(n,o),o=p.offp,a[g]=a[g]^p.key;for(o=0,g=0;g<h;g+=2)p=Os(i,o),o=p.offp,u[0]^=p.key,p=Os(i,o),o=p.offp,u[1]^=p.key,u=Wn(u,0,a,l),a[g]=u[0],a[g+1]=u[1];for(g=0;g<m;g+=2)p=Os(i,o),o=p.offp,u[0]^=p.key,p=Os(i,o),o=p.offp,u[1]^=p.key,u=Wn(u,0,a,l),l[g]=u[0],l[g+1]=u[1]}function vh(i,n,a,l,o){var u=Sf.slice(),h=u.length,m;if(a<4||a>31)if(m=Error("Illegal number of rounds (4-31): "+a),l){At(l.bind(this,m));return}else throw m;if(n.length!==Bn)if(m=Error("Illegal salt length: "+n.length+" != "+Bn),l){At(l.bind(this,m));return}else throw m;a=1<<a>>>0;var p,g,x=0,v;typeof Int32Array=="function"?(p=new Int32Array(xh),g=new Int32Array(gh)):(p=xh.slice(),g=gh.slice()),Rx(n,i,p,g);function j(){if(o&&o(x/a),x<a)for(var _=Date.now();x<a&&(x=x+1,yh(i,p,g),yh(n,p,g),!(Date.now()-_>Ax)););else{for(x=0;x<64;x++)for(v=0;v<h>>1;v++)Wn(u,v<<1,p,g);var k=[];for(x=0;x<h;x++)k.push((u[x]>>24&255)>>>0),k.push((u[x]>>16&255)>>>0),k.push((u[x]>>8&255)>>>0),k.push((u[x]&255)>>>0);if(l){l(null,k);return}else return k}l&&At(j)}if(typeof l<"u")j();else for(var N;;)if(typeof(N=j())<"u")return N||[]}function Oo(i,n,a,l){var o;if(typeof i!="string"||typeof n!="string")if(o=Error("Invalid string / salt: Not a string"),a){At(a.bind(this,o));return}else throw o;var u,h;if(n.charAt(0)!=="$"||n.charAt(1)!=="2")if(o=Error("Invalid salt version: "+n.substring(0,2)),a){At(a.bind(this,o));return}else throw o;if(n.charAt(2)==="$")u="\0",h=3;else{if(u=n.charAt(2),u!=="a"&&u!=="b"&&u!=="y"||n.charAt(3)!=="$")if(o=Error("Invalid salt revision: "+n.substring(2,4)),a){At(a.bind(this,o));return}else throw o;h=4}if(n.charAt(h+2)>"$")if(o=Error("Missing salt rounds"),a){At(a.bind(this,o));return}else throw o;var m=parseInt(n.substring(h,h+1),10)*10,p=parseInt(n.substring(h+1,h+2),10),g=m+p,x=n.substring(h+3,h+25);i+=u>="a"?"\0":"";var v=Px(i),j=_f(x,Bn);function N(_){var k=[];return k.push("$2"),u>="a"&&k.push(u),k.push("$"),g<10&&k.push("0"),k.push(g.toString()),k.push("$"),k.push(xi(j,j.length)),k.push(xi(_,Sf.length*4-1)),k.join("")}if(typeof a>"u")return N(vh(v,j,g));vh(v,j,g,function(_,k){_?a(_,null):a(null,N(k))},l)}function Lx(i,n){return xi(i,n)}function Ix(i,n){return _f(i,n)}const gi={setRandomFallback:Nx,genSaltSync:ec,genSalt:bf,hashSync:wf,hash:jf,compareSync:kx,compare:_x,getRounds:Sx,getSalt:Cx,truncates:Ex,encodeBase64:Lx,decodeBase64:Ix},Ox="modulepreload",$x=function(i){return"/lms/"+i},bh={},Jn=function(n,a,l){let o=Promise.resolve();if(a&&a.length>0){let g=function(x){return Promise.all(x.map(v=>Promise.resolve(v).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};var h=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=m?.nonce||m?.getAttribute("nonce");o=g(a.map(x=>{if(x=$x(x),x in bh)return;bh[x]=!0;const v=x.endsWith(".css"),j=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${j}`))return;const N=document.createElement("link");if(N.rel=v?"stylesheet":Ox,v||(N.as="script"),N.crossOrigin="",N.href=x,p&&N.setAttribute("nonce",p),document.head.appendChild(N),v)return new Promise((_,k)=>{N.addEventListener("load",_),N.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${x}`)))})}))}function u(m){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=m,window.dispatchEvent(p),!p.defaultPrevented)throw m}return o.then(m=>{for(const p of m||[])p.status==="rejected"&&u(p.reason);return n().catch(u)})},Mx=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...a)=>Jn(async()=>{const{default:l}=await Promise.resolve().then(()=>Ws);return{default:l}},[]).then(({default:l})=>l(...a)):n=fetch,(...a)=>n(...a)};class rc extends Error{constructor(n,a="FunctionsError",l){super(n),this.name=a,this.context=l}}class Dx extends rc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class wh extends rc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class jh extends rc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var $o;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})($o||($o={}));var Ux=function(i,n,a,l){function o(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function m(x){try{g(l.next(x))}catch(v){h(v)}}function p(x){try{g(l.throw(x))}catch(v){h(v)}}function g(x){x.done?u(x.value):o(x.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};class Fx{constructor(n,{headers:a={},customFetch:l,region:o=$o.Any}={}){this.url=n,this.headers=a,this.region=o,this.fetch=Mx(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,a={}){var l;return Ux(this,void 0,void 0,function*(){try{const{headers:o,method:u,body:h}=a;let m={},{region:p}=a;p||(p=this.region);const g=new URL(`${this.url}/${n}`);p&&p!=="any"&&(m["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let x;h&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",x=h):typeof h=="string"?(m["Content-Type"]="text/plain",x=h):typeof FormData<"u"&&h instanceof FormData?x=h:(m["Content-Type"]="application/json",x=JSON.stringify(h)));const v=yield this.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:x}).catch(k=>{throw new Dx(k)}),j=v.headers.get("x-relay-error");if(j&&j==="true")throw new wh(v);if(!v.ok)throw new jh(v);let N=((l=v.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),_;return N==="application/json"?_=yield v.json():N==="application/octet-stream"?_=yield v.blob():N==="text/event-stream"?_=v:N==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(o){return{data:null,error:o,response:o instanceof jh||o instanceof wh?o.context:void 0}}})}}var He={},_s={},Ss={},Cs={},Es={},Ps={},zx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Us=zx();const Bx=Us.fetch,Cf=Us.fetch.bind(Us),Ef=Us.Headers,Wx=Us.Request,qx=Us.Response,Ws=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ef,Request:Wx,Response:qx,default:Cf,fetch:Bx},Symbol.toStringTag,{value:"Module"})),Vx=Wm(Ws);var ci={},Nh;function Pf(){if(Nh)return ci;Nh=1,Object.defineProperty(ci,"__esModule",{value:!0});class i extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return ci.default=i,ci}var kh;function Tf(){if(kh)return Ps;kh=1;var i=Ps&&Ps.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ps,"__esModule",{value:!0});const n=i(Vx),a=i(Pf());class l{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,h){return this.headers=Object.assign({},this.headers),this.headers[u]=h,this}then(u,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const m=this.fetch;let p=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var x,v,j;let N=null,_=null,k=null,R=g.status,O=g.statusText;if(g.ok){if(this.method!=="HEAD"){const Z=await g.text();Z===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=Z:_=JSON.parse(Z))}const $=(x=this.headers.Prefer)===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),B=(v=g.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");$&&B&&B.length>1&&(k=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(N={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,k=null,R=406,O="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const $=await g.text();try{N=JSON.parse($),Array.isArray(N)&&g.status===404&&(_=[],N=null,R=200,O="OK")}catch{g.status===404&&$===""?(R=204,O="No Content"):N={message:$}}if(N&&this.isMaybeSingle&&(!((j=N?.details)===null||j===void 0)&&j.includes("0 rows"))&&(N=null,R=200,O="OK"),N&&this.shouldThrowOnError)throw new a.default(N)}return{error:N,data:_,count:k,status:R,statusText:O}});return this.shouldThrowOnError||(p=p.catch(g=>{var x,v,j;return{error:{message:`${(x=g?.name)!==null&&x!==void 0?x:"FetchError"}: ${g?.message}`,details:`${(v=g?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(j=g?.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,h)}returns(){return this}overrideTypes(){return this}}return Ps.default=l,Ps}var _h;function Af(){if(_h)return Es;_h=1;var i=Es&&Es.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Es,"__esModule",{value:!0});const n=i(Tf());class a extends n.default{select(o){let u=!1;const h=(o??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",h),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:u=!0,nullsFirst:h,foreignTable:m,referencedTable:p=m}={}){const g=p?`${p}.order`:"order",x=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${x?`${x},`:""}${o}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:h=u}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,u,{foreignTable:h,referencedTable:m=h}={}){const p=typeof m>"u"?"offset":`${m}.offset`,g=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(g,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:u=!1,settings:h=!1,buffers:m=!1,wal:p=!1,format:g="text"}={}){var x;const v=[o?"analyze":null,u?"verbose":null,h?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),j=(x=this.headers.Accept)!==null&&x!==void 0?x:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${j}"; options=${v};`,g==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Es.default=a,Es}var Sh;function sc(){if(Sh)return Cs;Sh=1;var i=Cs&&Cs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Cs,"__esModule",{value:!0});const n=i(Af());class a extends n.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const h=Array.from(new Set(u)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:h,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const g=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${p}fts${g}.${u}`),this}match(o){return Object.entries(o).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(o,u,h){return this.url.searchParams.append(o,`not.${u}.${h}`),this}or(o,{foreignTable:u,referencedTable:h=u}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,u,h){return this.url.searchParams.append(o,`${u}.${h}`),this}}return Cs.default=a,Cs}var Ch;function Rf(){if(Ch)return Ss;Ch=1;var i=Ss&&Ss.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ss,"__esModule",{value:!0});const n=i(sc());class a{constructor(o,{headers:u={},schema:h,fetch:m}){this.url=o,this.headers=u,this.schema=h,this.fetch=m}select(o,{head:u=!1,count:h}={}){const m=u?"HEAD":"GET";let p=!1;const g=(o??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",g),h&&(this.headers.Prefer=`count=${h}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:u,defaultToNull:h=!0}={}){const m="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),h||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const g=o.reduce((x,v)=>x.concat(Object.keys(v)),[]);if(g.length>0){const x=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:u,ignoreDuplicates:h=!1,count:m,defaultToNull:p=!0}={}){const g="POST",x=[`resolution=${h?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&x.push(this.headers.Prefer),m&&x.push(`count=${m}`),p||x.push("missing=default"),this.headers.Prefer=x.join(","),Array.isArray(o)){const v=o.reduce((j,N)=>j.concat(Object.keys(N)),[]);if(v.length>0){const j=[...new Set(v)].map(N=>`"${N}"`);this.url.searchParams.set("columns",j.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:u}={}){const h="PATCH",m=[];return this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),this.headers.Prefer=m.join(","),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const u="DELETE",h=[];return o&&h.push(`count=${o}`),this.headers.Prefer&&h.unshift(this.headers.Prefer),this.headers.Prefer=h.join(","),new n.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ss.default=a,Ss}var Rn={},Ln={},Eh;function Hx(){return Eh||(Eh=1,Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.version=void 0,Ln.version="0.0.0-automated"),Ln}var Ph;function Kx(){if(Ph)return Rn;Ph=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.DEFAULT_HEADERS=void 0;const i=Hx();return Rn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${i.version}`},Rn}var Th;function Gx(){if(Th)return _s;Th=1;var i=_s&&_s.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(_s,"__esModule",{value:!0});const n=i(Rf()),a=i(sc()),l=Kx();class o{constructor(h,{headers:m={},schema:p,fetch:g}={}){this.url=h,this.headers=Object.assign(Object.assign({},l.DEFAULT_HEADERS),m),this.schemaName=p,this.fetch=g}from(h){const m=new URL(`${this.url}/${h}`);return new n.default(m,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new o(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,m={},{head:p=!1,get:g=!1,count:x}={}){let v;const j=new URL(`${this.url}/rpc/${h}`);let N;p||g?(v=p?"HEAD":"GET",Object.entries(m).filter(([k,R])=>R!==void 0).map(([k,R])=>[k,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([k,R])=>{j.searchParams.append(k,R)})):(v="POST",N=m);const _=Object.assign({},this.headers);return x&&(_.Prefer=`count=${x}`),new a.default({method:v,url:j,headers:_,schema:this.schemaName,body:N,fetch:this.fetch,allowEmpty:!1})}}return _s.default=o,_s}var Ah;function Jx(){if(Ah)return He;Ah=1;var i=He&&He.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(He,"__esModule",{value:!0}),He.PostgrestError=He.PostgrestBuilder=He.PostgrestTransformBuilder=He.PostgrestFilterBuilder=He.PostgrestQueryBuilder=He.PostgrestClient=void 0;const n=i(Gx());He.PostgrestClient=n.default;const a=i(Rf());He.PostgrestQueryBuilder=a.default;const l=i(sc());He.PostgrestFilterBuilder=l.default;const o=i(Af());He.PostgrestTransformBuilder=o.default;const u=i(Tf());He.PostgrestBuilder=u.default;const h=i(Pf());return He.PostgrestError=h.default,He.default={PostgrestClient:n.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:h.default},He}var Qx=Jx();const Yx=Ko(Qx),{PostgrestClient:Xx,PostgrestQueryBuilder:Hv,PostgrestFilterBuilder:Kv,PostgrestTransformBuilder:Gv,PostgrestBuilder:Jv,PostgrestError:Qv}=Yx;function Zx(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const eg=Zx(),tg="2.11.15",rg=`realtime-js/${tg}`,sg="1.0.0",Lf=1e4,ng=1e3;var Dn;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Dn||(Dn={}));var tt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(tt||(tt={}));var Tt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Tt||(Tt={}));var Mo;(function(i){i.websocket="websocket"})(Mo||(Mo={}));var Kr;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Kr||(Kr={}));class ag{constructor(){this.HEADER_LENGTH=1}decode(n,a){return n.constructor===ArrayBuffer?a(this._binaryDecode(n)):a(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const a=new DataView(n),l=new TextDecoder;return this._decodeBroadcast(n,a,l)}_decodeBroadcast(n,a,l){const o=a.getUint8(1),u=a.getUint8(2);let h=this.HEADER_LENGTH+2;const m=l.decode(n.slice(h,h+o));h=h+o;const p=l.decode(n.slice(h,h+u));h=h+u;const g=JSON.parse(l.decode(n.slice(h,n.byteLength)));return{ref:null,topic:m,event:p,payload:g}}}class If{constructor(n,a){this.callback=n,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(je||(je={}));const Rh=(i,n,a={})=>{var l;const o=(l=a.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(n).reduce((u,h)=>(u[h]=ig(h,i,n,o),u),{})},ig=(i,n,a,l)=>{const o=n.find(m=>m.name===i),u=o?.type,h=a[i];return u&&!l.includes(u)?Of(u,h):Do(h)},Of=(i,n)=>{if(i.charAt(0)==="_"){const a=i.slice(1,i.length);return ug(n,a)}switch(i){case je.bool:return lg(n);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return og(n);case je.json:case je.jsonb:return cg(n);case je.timestamp:return dg(n);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return Do(n);default:return Do(n)}},Do=i=>i,lg=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},og=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},cg=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},ug=(i,n)=>{if(typeof i!="string")return i;const a=i.length-1,l=i[a];if(i[0]==="{"&&l==="}"){let u;const h=i.slice(1,a);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(m=>Of(n,m))}return i},dg=i=>typeof i=="string"?i.replace(" ","T"):i,$f=i=>{let n=i;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class So{constructor(n,a,l={},o=Lf){this.channel=n,this.event=a,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,a){var l;return this._hasReceived(n)&&a((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:a}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(a))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Lh;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Lh||(Lh={}));class Un{constructor(n,a){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Un.syncState(this.state,o,u,h),this.pendingDiffs.forEach(p=>{this.state=Un.syncDiff(this.state,p,u,h)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},o=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Un.syncDiff(this.state,o,u,h),m())}),this.onJoin((o,u,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:h})}),this.onLeave((o,u,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,a,l,o){const u=this.cloneDeep(n),h=this.transformState(a),m={},p={};return this.map(u,(g,x)=>{h[g]||(p[g]=x)}),this.map(h,(g,x)=>{const v=u[g];if(v){const j=x.map(R=>R.presence_ref),N=v.map(R=>R.presence_ref),_=x.filter(R=>N.indexOf(R.presence_ref)<0),k=v.filter(R=>j.indexOf(R.presence_ref)<0);_.length>0&&(m[g]=_),k.length>0&&(p[g]=k)}else m[g]=x}),this.syncDiff(u,{joins:m,leaves:p},l,o)}static syncDiff(n,a,l,o){const{joins:u,leaves:h}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(u,(m,p)=>{var g;const x=(g=n[m])!==null&&g!==void 0?g:[];if(n[m]=this.cloneDeep(p),x.length>0){const v=n[m].map(N=>N.presence_ref),j=x.filter(N=>v.indexOf(N.presence_ref)<0);n[m].unshift(...j)}l(m,x,p)}),this.map(h,(m,p)=>{let g=n[m];if(!g)return;const x=p.map(v=>v.presence_ref);g=g.filter(v=>x.indexOf(v.presence_ref)<0),n[m]=g,o(m,g,p),g.length===0&&delete n[m]}),n}static map(n,a){return Object.getOwnPropertyNames(n).map(l=>a(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((a,l)=>{const o=n[l];return"metas"in o?a[l]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[l]=o,a},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ih;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Ih||(Ih={}));var Oh;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Oh||(Oh={}));var Xt;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Xt||(Xt={}));class nc{constructor(n,a={config:{}},l){this.topic=n,this.params=a,this.socket=l,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new So(this,Tt.join,this.params,this.timeout),this.rejoinTimer=new If(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tt.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new Un(this),this.broadcastEndpointURL=$f(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,a=this.timeout){var l,o;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:u,presence:h,private:m}}=this.params;this._onError(x=>n?.(Xt.CHANNEL_ERROR,x)),this._onClose(()=>n?.(Xt.CLOSED));const p={},g={broadcast:u,presence:h,postgres_changes:(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(x=>x.filter))!==null&&o!==void 0?o:[],private:m};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:x})=>{var v;if(this.socket.setAuth(),x===void 0){n?.(Xt.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,N=(v=j?.length)!==null&&v!==void 0?v:0,_=[];for(let k=0;k<N;k++){const R=j[k],{filter:{event:O,schema:H,table:$,filter:B}}=R,Z=x&&x[k];if(Z&&Z.event===O&&Z.schema===H&&Z.table===$&&Z.filter===B)_.push(Object.assign(Object.assign({},R),{id:Z.id}));else{this.unsubscribe(),this.state=tt.errored,n?.(Xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,n&&n(Xt.SUBSCRIBED);return}}).receive("error",x=>{this.state=tt.errored,n?.(Xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{n?.(Xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,a={}){return await this.send({type:"presence",event:"track",payload:n},a.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,a,l){return this._on(n,a,l)}async send(n,a={}){var l,o;if(!this._canPush()&&n.type==="broadcast"){const{event:u,payload:h}=n,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,m,p;const g=this._push(n.type,n,a.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=tt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new So(this,Tt.leave,{},n),l.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(n,a,l){const o=new AbortController,u=setTimeout(()=>o.abort(),l),h=await this.socket.fetch(n,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(u),h}_push(n,a,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new So(this,n,a,l);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(n,a,l){return a}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,a,l){var o,u;const h=n.toLocaleLowerCase(),{close:m,error:p,leave:g,join:x}=Tt;if(l&&[m,p,g,x].indexOf(h)>=0&&l!==this._joinRef())return;let j=this._onMessage(h,a,l);if(a&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(N=>{var _,k,R;return((_=N.filter)===null||_===void 0?void 0:_.event)==="*"||((R=(k=N.filter)===null||k===void 0?void 0:k.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===h}).map(N=>N.callback(j,l)):(u=this.bindings[h])===null||u===void 0||u.filter(N=>{var _,k,R,O,H,$;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in N){const B=N.id,Z=(_=N.filter)===null||_===void 0?void 0:_.event;return B&&((k=a.ids)===null||k===void 0?void 0:k.includes(B))&&(Z==="*"||Z?.toLocaleLowerCase()===((R=a.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const B=(H=(O=N?.filter)===null||O===void 0?void 0:O.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return B==="*"||B===(($=a?.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===h}).map(N=>{if(typeof j=="object"&&"ids"in j){const _=j.data,{schema:k,table:R,commit_timestamp:O,type:H,errors:$}=_;j=Object.assign(Object.assign({},{schema:k,table:R,commit_timestamp:O,eventType:H,new:{},old:{},errors:$}),this._getPayloadRecords(_))}N.callback(j,l)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,a,l){const o=n.toLocaleLowerCase(),u={type:o,filter:a,callback:l};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(n,a){const l=n.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&nc.isEqual(o.filter,a))}),this}static isEqual(n,a){if(Object.keys(n).length!==Object.keys(a).length)return!1;for(const l in n)if(n[l]!==a[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Tt.close,{},n)}_onError(n){this._on(Tt.error,{},a=>n(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const a={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(a.new=Rh(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(a.old=Rh(n.columns,n.old_record)),a}}const $h=()=>{},hg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fg{constructor(n,a){var l;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$h,this.ref=0,this.logger=$h,this.conn=null,this.sendBuffer=[],this.serializer=new ag,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=u=>{let h;return u?h=u:typeof fetch>"u"?h=(...m)=>Jn(async()=>{const{default:p}=await Promise.resolve().then(()=>Ws);return{default:p}},void 0).then(({default:p})=>p(...m)):h=fetch,(...m)=>h(...m)},this.endPoint=`${n}/${Mo.websocket}`,this.httpEndpoint=$f(n),a?.transport?this.transport=a.transport:this.transport=null,a?.params&&(this.params=a.params),a?.timeout&&(this.timeout=a.timeout),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const o=(l=a?.params)===null||l===void 0?void 0:l.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=a?.reconnectAfterMs?a.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=a?.encode?a.encode:(u,h)=>h(JSON.stringify(u)),this.decode=a?.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new If(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a?.fetch),a?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=a?.worker||!1,this.workerUrl=a?.workerUrl}this.accessToken=a?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=eg),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:sg}))}disconnect(n,a){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(l=>l.teardown()))}getChannels(){return this.channels}async removeChannel(n){const a=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const n=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,a,l){this.logger(n,a,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Dn.connecting:return Kr.Connecting;case Dn.open:return Kr.Open;case Dn.closing:return Kr.Closing;default:return Kr.Closed}}isConnected(){return this.connectionState()===Kr.Open}channel(n,a={config:{}}){const l=`realtime:${n}`,o=this.getChannels().find(u=>u.topic===l);if(o)return o;{const u=new nc(`realtime:${n}`,a,this);return this.channels.push(u),u}}push(n){const{topic:a,event:l,payload:o,ref:u}=n,h=()=>{this.encode(n,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${a} ${l} (${u})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){let a=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(l=>{const o={access_token:a,version:rg};a&&l.updateJoinPayload(o),l.joinedOnce&&l._isJoined()&&l._push(Tt.access_token,{access_token:a})}))}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(ng,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let a=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${n}"`),a.unsubscribe())}_remove(n){this.channels=this.channels.filter(a=>a.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,a=>{let{topic:l,event:o,payload:u,ref:h}=a;l==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),h&&h===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${l} ${o} ${h&&"("+h+")"||""}`,u),Array.from(this.channels).filter(m=>m._isMember(l)).forEach(m=>m._trigger(o,u,h)),this.stateChangeCallbacks.message.forEach(m=>m(a))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(n=>n())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(n))}_onConnError(n){this.log("transport",`${n}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Tt.error))}_appendParams(n,a){if(Object.keys(a).length===0)return n;const l=n.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${n}${l}${o}`}_workerObjectUrl(n){let a;if(n)a=n;else{const l=new Blob([hg],{type:"application/javascript"});a=URL.createObjectURL(l)}return a}}class ac extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ke(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class mg extends ac{constructor(n,a,l){super(n),this.name="StorageApiError",this.status=a,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Uo extends ac{constructor(n,a){super(n),this.name="StorageUnknownError",this.originalError=a}}var pg=function(i,n,a,l){function o(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function m(x){try{g(l.next(x))}catch(v){h(v)}}function p(x){try{g(l.throw(x))}catch(v){h(v)}}function g(x){x.done?u(x.value):o(x.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};const Mf=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...a)=>Jn(async()=>{const{default:l}=await Promise.resolve().then(()=>Ws);return{default:l}},void 0).then(({default:l})=>l(...a)):n=fetch,(...a)=>n(...a)},xg=()=>pg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jn(()=>Promise.resolve().then(()=>Ws),void 0)).Response:Response}),Fo=i=>{if(Array.isArray(i))return i.map(a=>Fo(a));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([a,l])=>{const o=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[o]=Fo(l)}),n},gg=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)};var Qr=function(i,n,a,l){function o(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function m(x){try{g(l.next(x))}catch(v){h(v)}}function p(x){try{g(l.throw(x))}catch(v){h(v)}}function g(x){x.done?u(x.value):o(x.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};const Co=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),yg=(i,n,a)=>Qr(void 0,void 0,void 0,function*(){const l=yield xg();i instanceof l&&!a?.noResolveJson?i.json().then(o=>{const u=i.status||500,h=o?.statusCode||u+"";n(new mg(Co(o),u,h))}).catch(o=>{n(new Uo(Co(o),o))}):n(new Uo(Co(i),i))}),vg=(i,n,a,l)=>{const o={method:i,headers:n?.headers||{}};return i==="GET"||!l?o:(gg(l)?(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(l)):o.body=l,Object.assign(Object.assign({},o),a))};function Qn(i,n,a,l,o,u){return Qr(this,void 0,void 0,function*(){return new Promise((h,m)=>{i(a,vg(n,l,o,u)).then(p=>{if(!p.ok)throw p;return l?.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>yg(p,m,l))})})}function yi(i,n,a,l){return Qr(this,void 0,void 0,function*(){return Qn(i,"GET",n,a,l)})}function Zt(i,n,a,l,o){return Qr(this,void 0,void 0,function*(){return Qn(i,"POST",n,l,o,a)})}function zo(i,n,a,l,o){return Qr(this,void 0,void 0,function*(){return Qn(i,"PUT",n,l,o,a)})}function bg(i,n,a,l){return Qr(this,void 0,void 0,function*(){return Qn(i,"HEAD",n,Object.assign(Object.assign({},a),{noResolveJson:!0}),l)})}function Df(i,n,a,l,o){return Qr(this,void 0,void 0,function*(){return Qn(i,"DELETE",n,l,o,a)})}var ut=function(i,n,a,l){function o(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function m(x){try{g(l.next(x))}catch(v){h(v)}}function p(x){try{g(l.throw(x))}catch(v){h(v)}}function g(x){x.done?u(x.value):o(x.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};const wg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jg{constructor(n,a={},l,o){this.url=n,this.headers=a,this.bucketId=l,this.fetch=Mf(o)}uploadOrUpdate(n,a,l,o){return ut(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},Mh),o);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",this.encodeMetadata(p))):(u=l,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o?.headers&&(m=Object.assign(Object.assign({},m),o.headers));const g=this._removeEmptyFolders(a),x=this._getFinalPath(g),v=yield(n=="PUT"?zo:Zt)(this.fetch,`${this.url}/object/${x}`,u,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:g,id:v.Id,fullPath:v.Key},error:null}}catch(u){if(Ke(u))return{data:null,error:u};throw u}})}upload(n,a,l){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,a,l)})}uploadToSignedUrl(n,a,l,o){return ut(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),h=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",a);try{let p;const g=Object.assign({upsert:Mh.upsert},o),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",g.cacheControl)):(p=l,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType);const v=yield zo(this.fetch,m.toString(),p,{headers:x});return{data:{path:u,fullPath:v.Key},error:null}}catch(p){if(Ke(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(n,a){return ut(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const o=Object.assign({},this.headers);a?.upsert&&(o["x-upsert"]="true");const u=yield Zt(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:o}),h=new URL(this.url+u.url),m=h.searchParams.get("token");if(!m)throw new ac("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:m},error:null}}catch(l){if(Ke(l))return{data:null,error:l};throw l}})}update(n,a,l){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,a,l)})}move(n,a,l){return ut(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Ke(o))return{data:null,error:o};throw o}})}copy(n,a,l){return ut(this,void 0,void 0,function*(){try{return{data:{path:(yield Zt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:a,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Ke(o))return{data:null,error:o};throw o}})}createSignedUrl(n,a,l){return ut(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),u=yield Zt(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:a},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l?.download?`&download=${l.download===!0?"":l.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(o){if(Ke(o))return{data:null,error:o};throw o}})}createSignedUrls(n,a,l){return ut(this,void 0,void 0,function*(){try{const o=yield Zt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:n},{headers:this.headers}),u=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(o){if(Ke(o))return{data:null,error:o};throw o}})}download(n,a){return ut(this,void 0,void 0,function*(){const o=typeof a?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(a?.transform||{}),h=u?`?${u}`:"";try{const m=this._getFinalPath(n);return{data:yield(yield yi(this.fetch,`${this.url}/${o}/${m}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(Ke(m))return{data:null,error:m};throw m}})}info(n){return ut(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{const l=yield yi(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Fo(l),error:null}}catch(l){if(Ke(l))return{data:null,error:l};throw l}})}exists(n){return ut(this,void 0,void 0,function*(){const a=this._getFinalPath(n);try{return yield bg(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(Ke(l)&&l instanceof Uo){const o=l.originalError;if([400,404].includes(o?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,a){const l=this._getFinalPath(n),o=[],u=a?.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&o.push(u);const m=typeof a?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(a?.transform||{});p!==""&&o.push(p);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${g}`)}}}remove(n){return ut(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}list(n,a,l){return ut(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},wg),a),{prefix:n||""});return{data:yield Zt(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},l),error:null}}catch(o){if(Ke(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const a=[];return n.width&&a.push(`width=${n.width}`),n.height&&a.push(`height=${n.height}`),n.resize&&a.push(`resize=${n.resize}`),n.format&&a.push(`format=${n.format}`),n.quality&&a.push(`quality=${n.quality}`),a.join("&")}}const Ng="2.10.4",kg={"X-Client-Info":`storage-js/${Ng}`};var Ts=function(i,n,a,l){function o(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function m(x){try{g(l.next(x))}catch(v){h(v)}}function p(x){try{g(l.throw(x))}catch(v){h(v)}}function g(x){x.done?u(x.value):o(x.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};class _g{constructor(n,a={},l,o){const u=new URL(n);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},kg),a),this.fetch=Mf(l)}listBuckets(){return Ts(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}getBucket(n){return Ts(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}createBucket(n,a={public:!1}){return Ts(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Ke(l))return{data:null,error:l};throw l}})}updateBucket(n,a){return Ts(this,void 0,void 0,function*(){try{return{data:yield zo(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(Ke(l))return{data:null,error:l};throw l}})}emptyBucket(n){return Ts(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}deleteBucket(n){return Ts(this,void 0,void 0,function*(){try{return{data:yield Df(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}}class Sg extends _g{constructor(n,a={},l,o){super(n,a,l,o)}from(n){return new jg(this.url,this.headers,n,this.fetch)}}const Cg="2.53.0";let In="";typeof Deno<"u"?In="deno":typeof document<"u"?In="web":typeof navigator<"u"&&navigator.product==="ReactNative"?In="react-native":In="node";const Eg={"X-Client-Info":`supabase-js-${In}/${Cg}`},Pg={headers:Eg},Tg={schema:"public"},Ag={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rg={};var Lg=function(i,n,a,l){function o(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function m(x){try{g(l.next(x))}catch(v){h(v)}}function p(x){try{g(l.throw(x))}catch(v){h(v)}}function g(x){x.done?u(x.value):o(x.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};const Ig=i=>{let n;return i?n=i:typeof fetch>"u"?n=Cf:n=fetch,(...a)=>n(...a)},Og=()=>typeof Headers>"u"?Ef:Headers,$g=(i,n,a)=>{const l=Ig(a),o=Og();return(u,h)=>Lg(void 0,void 0,void 0,function*(){var m;const p=(m=yield n())!==null&&m!==void 0?m:i;let g=new o(h?.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),l(u,Object.assign(Object.assign({},h),{headers:g}))})};var Mg=function(i,n,a,l){function o(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function m(x){try{g(l.next(x))}catch(v){h(v)}}function p(x){try{g(l.throw(x))}catch(v){h(v)}}function g(x){x.done?u(x.value):o(x.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};function Dg(i){return i.endsWith("/")?i:i+"/"}function Ug(i,n){var a,l;const{db:o,auth:u,realtime:h,global:m}=i,{db:p,auth:g,realtime:x,global:v}=n,j={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},x),h),storage:{},global:Object.assign(Object.assign(Object.assign({},v),m),{headers:Object.assign(Object.assign({},(a=v?.headers)!==null&&a!==void 0?a:{}),(l=m?.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>Mg(this,void 0,void 0,function*(){return""})};return i.accessToken?j.accessToken=i.accessToken:delete j.accessToken,j}const Uf="2.71.1",$s=30*1e3,Bo=3,Eo=Bo*$s,Fg="http://localhost:9999",zg="supabase.auth.token",Bg={"X-Client-Info":`gotrue-js/${Uf}`},Wo="X-Supabase-Api-Version",Ff={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qg=600*1e3;class ic extends Error{constructor(n,a,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=l}}function ie(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Vg extends ic{constructor(n,a,l){super(n,a,l),this.name="AuthApiError",this.status=a,this.code=l}}function Hg(i){return ie(i)&&i.name==="AuthApiError"}class zf extends ic{constructor(n,a){super(n),this.name="AuthUnknownError",this.originalError=a}}class Pr extends ic{constructor(n,a,l,o){super(n,l,o),this.name=a,this.status=l}}class _r extends Pr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kg(i){return ie(i)&&i.name==="AuthSessionMissingError"}class ui extends Pr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class di extends Pr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class hi extends Pr{constructor(n,a=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gg(i){return ie(i)&&i.name==="AuthImplicitGrantRedirectError"}class Dh extends Pr{constructor(n,a=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qo extends Pr{constructor(n,a){super(n,"AuthRetryableFetchError",a,void 0)}}function Po(i){return ie(i)&&i.name==="AuthRetryableFetchError"}class Uh extends Pr{constructor(n,a,l){super(n,"AuthWeakPasswordError",a,"weak_password"),this.reasons=l}}class Vo extends Pr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fh=` 	
\r=`.split(""),Jg=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<Fh.length;n+=1)i[Fh[n].charCodeAt(0)]=-2;for(let n=0;n<vi.length;n+=1)i[vi[n].charCodeAt(0)]=n;return i})();function zh(i,n,a){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;a(vi[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;a(vi[l]),n.queuedBits-=6}}function Bf(i,n,a){const l=Jg[i];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)a(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Bh(i){const n=[],a=h=>{n.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=h=>{Xg(h,l,a)};for(let h=0;h<i.length;h+=1)Bf(i.charCodeAt(h),o,u);return n.join("")}function Qg(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Yg(i,n){for(let a=0;a<i.length;a+=1){let l=i.charCodeAt(a);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(i.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}Qg(l,n)}}function Xg(i,n,a){if(n.utf8seq===0){if(i<=127){a(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&a(n.codepoint)}}function Zg(i){const n=[],a={queue:0,queuedBits:0},l=o=>{n.push(o)};for(let o=0;o<i.length;o+=1)Bf(i.charCodeAt(o),a,l);return new Uint8Array(n)}function ey(i){const n=[];return Yg(i,a=>n.push(a)),new Uint8Array(n)}function ty(i){const n=[],a={queue:0,queuedBits:0},l=o=>{n.push(o)};return i.forEach(o=>zh(o,a,l)),zh(null,a,l),n.join("")}function ry(i){return Math.round(Date.now()/1e3)+i}function sy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const n=Math.random()*16|0;return(i=="x"?n:n&3|8).toString(16)})}const Pt=()=>typeof window<"u"&&typeof document<"u",Wr={tested:!1,writable:!1},Wf=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wr.tested)return Wr.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Wr.tested=!0,Wr.writable=!0}catch{Wr.tested=!0,Wr.writable=!1}return Wr.writable};function ny(i){const n={},a=new URL(i);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,u)=>{n[u]=o})}catch{}return a.searchParams.forEach((l,o)=>{n[o]=l}),n}const qf=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...a)=>Jn(async()=>{const{default:l}=await Promise.resolve().then(()=>Ws);return{default:l}},void 0).then(({default:l})=>l(...a)):n=fetch,(...a)=>n(...a)},ay=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Ms=async(i,n,a)=>{await i.setItem(n,JSON.stringify(a))},qr=async(i,n)=>{const a=await i.getItem(n);if(!a)return null;try{return JSON.parse(a)}catch{return a}},kr=async(i,n)=>{await i.removeItem(n)};class ki{constructor(){this.promise=new ki.promiseConstructor((n,a)=>{this.resolve=n,this.reject=a})}}ki.promiseConstructor=Promise;function To(i){const n=i.split(".");if(n.length!==3)throw new Vo("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Wg.test(n[l]))throw new Vo("JWT not in base64url format");return{header:JSON.parse(Bh(n[0])),payload:JSON.parse(Bh(n[1])),signature:Zg(n[2]),raw:{header:n[0],payload:n[1]}}}async function iy(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function ly(i,n){return new Promise((l,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await i(u);if(!n(u,null,h)){l(h);return}}catch(h){if(!n(u,h)){o(h);return}}})()})}function oy(i){return("0"+i.toString(16)).substr(-2)}function cy(){const n=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=a.length;let o="";for(let u=0;u<56;u++)o+=a.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(n),Array.from(n,oy).join("")}async function uy(i){const a=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(l);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function dy(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const a=await uy(i);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function As(i,n,a=!1){const l=cy();let o=l;a&&(o+="/PASSWORD_RECOVERY"),await Ms(i,`${n}-code-verifier`,o);const u=await dy(l);return[u,l===u?"plain":"s256"]}const hy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fy(i){const n=i.headers.get(Wo);if(!n||!n.match(hy))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function my(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function py(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rs(i){if(!xy.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ao(){const i={};return new Proxy(i,{get:(n,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wh(i){return JSON.parse(JSON.stringify(i))}var gy=function(i,n){var a={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(a[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(i);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(i,l[o])&&(a[l[o]]=i[l[o]]);return a};const Hr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),yy=[502,503,504];async function qh(i){var n;if(!ay(i))throw new qo(Hr(i),0);if(yy.includes(i.status))throw new qo(Hr(i),i.status);let a;try{a=await i.json()}catch(u){throw new zf(Hr(u),u)}let l;const o=fy(i);if(o&&o.getTime()>=Ff["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?l=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(l=a.error_code),l){if(l==="weak_password")throw new Uh(Hr(a),i.status,((n=a.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new _r}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new Uh(Hr(a),i.status,a.weak_password.reasons);throw new Vg(Hr(a),i.status||500,l)}const vy=(i,n,a,l)=>{const o={method:i,headers:n?.headers||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),a))};async function ue(i,n,a,l){var o;const u=Object.assign({},l?.headers);u[Wo]||(u[Wo]=Ff["2024-01-01"].name),l?.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const h=(o=l?.query)!==null&&o!==void 0?o:{};l?.redirectTo&&(h.redirect_to=l.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await by(i,n,a+m,{headers:u,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(p):{data:Object.assign({},p),error:null}}async function by(i,n,a,l,o,u){const h=vy(n,l,o,u);let m;try{m=await i(a,Object.assign({},h))}catch(p){throw console.error(p),new qo(Hr(p),0)}if(m.ok||await qh(m),l?.noResolveJson)return m;try{return await m.json()}catch(p){await qh(p)}}function Yt(i){var n;let a=null;ky(i)&&(a=Object.assign({},i),i.expires_at||(a.expires_at=ry(i.expires_in)));const l=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:a,user:l},error:null}}function Vh(i){const n=Yt(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0)&&(n.data.weak_password=i.weak_password),n}function Sr(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function wy(i){return{data:i,error:null}}function jy(i){const{action_link:n,email_otp:a,hashed_token:l,redirect_to:o,verification_type:u}=i,h=gy(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:a,hashed_token:l,redirect_to:o,verification_type:u},p=Object.assign({},h);return{data:{properties:m,user:p},error:null}}function Ny(i){return i}function ky(i){return i.access_token&&i.refresh_token&&i.expires_in}const Ro=["global","local","others"];var _y=function(i,n){var a={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(a[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(i);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(i,l[o])&&(a[l[o]]=i[l[o]]);return a};class Sy{constructor({url:n="",headers:a={},fetch:l}){this.url=n,this.headers=a,this.fetch=qf(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,a=Ro[0]){if(Ro.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ro.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,a={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Sr})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:a}=n,l=_y(n,["options"]),o=Object.assign(Object.assign({},l),a);return"newEmail"in l&&(o.new_email=l?.newEmail,delete o.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:jy,redirectTo:a?.redirectTo})}catch(a){if(ie(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Sr})}catch(a){if(ie(a))return{data:{user:null},error:a};throw a}}async listUsers(n){var a,l,o,u,h,m,p;try{const g={nextPage:null,lastPage:0,total:0},x=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(a=n?.page)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Ny});if(x.error)throw x.error;const v=await x.json(),j=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,N=(p=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return N.length>0&&(N.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(_.split(";")[1].split("=")[1]);g[`${R}Page`]=k}),g.total=parseInt(j)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(ie(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){Rs(n);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Sr})}catch(a){if(ie(a))return{data:{user:null},error:a};throw a}}async updateUserById(n,a){Rs(n);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:a,headers:this.headers,xform:Sr})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,a=!1){Rs(n);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:a},xform:Sr})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){Rs(n.userId);try{const{data:a,error:l}=await ue(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:l}}catch(a){if(ie(a))return{data:null,error:a};throw a}}async _deleteFactor(n){Rs(n.userId),Rs(n.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(a){if(ie(a))return{data:null,error:a};throw a}}}function Hh(i={}){return{getItem:n=>i[n]||null,setItem:(n,a)=>{i[n]=a},removeItem:n=>{delete i[n]}}}function Cy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ls={debug:!!(globalThis&&Wf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vf extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Ey extends Vf{}async function Py(i,n,a){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,o.name);try{return await a()}finally{Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,o.name)}}else{if(n===0)throw Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Ey(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ls.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}Cy();const Ty={url:Fg,storageKey:zg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Kh(i,n,a){return await a()}const Is={};class qn{constructor(n){var a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qn.nextInstanceID,qn.nextInstanceID+=1,this.instanceID>0&&Pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Ty),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Sy({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=qf(o.fetch),this.lock=o.lock||Kh,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Pt()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=Py:this.lock=Kh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Wf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hh(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Hh(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var n,a;return(a=(n=Is[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(n){Is[this.storageKey]=Object.assign(Object.assign({},Is[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,a;return(a=(n=Is[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Is[this.storageKey]=Object.assign(Object.assign({},Is[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Uf}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const a=ny(window.location.href);let l="none";if(this._isImplicitGrantCallback(a)?l="implicit":await this._isPKCECallback(a)&&(l="pkce"),Pt()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:u}=await this._getSessionFromURL(a,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Gg(u)){const p=(n=u.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return ie(a)?{error:a}:{error:new zf("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var a,l,o;try{const u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(a=n?.options)===null||a===void 0?void 0:a.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Yt}),{data:h,error:m}=u;if(m||!h)return{data:{user:null,session:null},error:m};const p=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(u){if(ie(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(n){var a,l,o;try{let u;if("email"in n){const{email:x,password:v,options:j}=n;let N=null,_=null;this.flowType==="pkce"&&([N,_]=await As(this.storage,this.storageKey)),u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:x,password:v,data:(a=j?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:N,code_challenge_method:_},xform:Yt})}else if("phone"in n){const{phone:x,password:v,options:j}=n;u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:v,data:(l=j?.data)!==null&&l!==void 0?l:{},channel:(o=j?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:Yt})}else throw new di("You must provide either an email or phone number and a password");const{data:h,error:m}=u;if(m||!h)return{data:{user:null,session:null},error:m};const p=h.session,g=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(u){if(ie(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(n){try{let a;if("email"in n){const{email:u,password:h,options:m}=n;a=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Vh})}else if("phone"in n){const{phone:u,password:h,options:m}=n;a=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Vh})}else throw new di("You must provide either an email or phone number and a password");const{data:l,error:o}=a;return o?{data:{user:null,session:null},error:o}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ui}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(a){if(ie(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(n){var a,l,o,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:a}=n;if(a==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(n){var a,l,o,u,h,m,p,g,x,v,j,N;let _,k;if("message"in n)_=n.message,k=n.signature;else{const{chain:R,wallet:O,statement:H,options:$}=n;let B;if(Pt())if(typeof O=="object")B=O;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))B=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=O}const Z=new URL((a=$?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in B&&B.signIn){const W=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$?.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),H?{statement:H}:null));let q;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")q=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)q=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)_=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),k=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${Z.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(o=(l=$?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=$?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((h=$?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((m=$?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((p=$?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((g=$?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((v=(x=$?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||v===void 0)&&v.length?["Resources",...$.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const W=await B.signMessage(new TextEncoder().encode(_),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=W}}try{const{data:R,error:O}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:ty(k)},!((j=n.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(N=n.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:Yt});if(O)throw O;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new ui}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:O})}catch(R){if(ie(R))return{data:{user:null,session:null},error:R};throw R}}async _exchangeCodeForSession(n){const a=await qr(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(a??"").split("/");try{const{data:u,error:h}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Yt});if(await kr(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new ui}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:h})}catch(u){if(ie(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(n){try{const{options:a,provider:l,token:o,access_token:u,nonce:h}=n,m=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Yt}),{data:p,error:g}=m;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new ui}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(a){if(ie(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(n){var a,l,o,u,h;try{if("email"in n){const{email:m,options:p}=n;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await As(this.storage,this.storageKey));const{error:v}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(l=p?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in n){const{phone:m,options:p}=n,{data:g,error:x}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=p?.data)!==null&&o!==void 0?o:{},create_user:(u=p?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(h=p?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:g?.message_id},error:x}}throw new di("You must provide either an email or phone number.")}catch(m){if(ie(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(n){var a,l;try{let o,u;"options"in n&&(o=(a=n.options)===null||a===void 0?void 0:a.redirectTo,u=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:m}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Yt});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,g=h.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(o){if(ie(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(n){var a,l,o;try{let u=null,h=null;return this.flowType==="pkce"&&([u,h]=await As(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(a=n.options)===null||a===void 0?void 0:a.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:wy})}catch(u){if(ie(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;if(l)throw l;if(!a)throw new _r;const{error:o}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:o}})}catch(n){if(ie(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const a=`${this.url}/resend`;if("email"in n){const{email:l,type:o,options:u}=n,{error:h}=await ue(this.fetch,"POST",a,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in n){const{phone:l,type:o,options:u}=n,{data:h,error:m}=await ue(this.fetch,"POST",a,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new di("You must provide either an email or phone number and a type")}catch(a){if(ie(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(n,a){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=a();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await n(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const a=await qr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?n=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Eo:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const h=await qr(this.userStorage,this.storageKey+"-user");h?.user?n.user=h.user:n.user=Ao()}if(this.storage.isServer&&n.user){let h=this.suppressGetSessionWarning;n=new Proxy(n,{get:(p,g,x)=>(!h&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,x))})}return{data:{session:n},error:null}}const{session:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{session:null},error:u}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Sr}):await this._useSession(async a=>{var l,o,u;const{data:h,error:m}=a;if(m)throw m;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _r}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Sr})})}catch(a){if(ie(a))return Kg(a)&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(n,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,a))}async _updateUser(n,a={}){try{return await this._useSession(async l=>{const{data:o,error:u}=l;if(u)throw u;if(!o.session)throw new _r;const h=o.session;let m=null,p=null;this.flowType==="pkce"&&n.email!=null&&([m,p]=await As(this.storage,this.storageKey));const{data:g,error:x}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:Sr});if(x)throw x;return h.user=g.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new _r;const a=Date.now()/1e3;let l=a,o=!0,u=null;const{payload:h}=To(n.access_token);if(h.exp&&(l=h.exp,o=l<=a),o){const{session:m,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:p}=await this._getUser(n.access_token);if(p)throw p;u={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:l-a,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(a){if(ie(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async a=>{var l;if(!n){const{data:h,error:m}=a;if(m)throw m;n=(l=h.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new _r;const{session:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{user:null,session:null},error:u}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(ie(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(n,a){try{if(!Pt())throw new hi("No browser detected.");if(n.error||n.error_description||n.error_code)throw new hi(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Dh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hi("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Dh("No code detected.");const{data:H,error:$}=await this._exchangeCodeForSession(n.code);if($)throw $;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:u,refresh_token:h,expires_in:m,expires_at:p,token_type:g}=n;if(!u||!m||!h||!g)throw new hi("No session defined in URL");const x=Math.round(Date.now()/1e3),v=parseInt(m);let j=x+v;p&&(j=parseInt(p));const N=j-x;N*1e3<=$s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${v}s`);const _=j-v;x-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,j,x):x-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,j,x);const{data:k,error:R}=await this._getUser(u);if(R)throw R;const O={provider_token:l,provider_refresh_token:o,access_token:u,expires_in:v,expires_at:j,refresh_token:h,token_type:g,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:n.type},error:null}}catch(l){if(ie(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const a=await qr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&a)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async a=>{var l;const{data:o,error:u}=a;if(u)return{error:u};const h=(l=o.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:m}=await this.admin.signOut(h,n);if(m&&!(Hg(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return n!=="others"&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const a=sy(),l={id:a,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async a=>{var l,o;try{const{data:{session:u},error:h}=a;if(h)throw h;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,a={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await As(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(ie(u))return{data:null,error:u};throw u}}async getUserIdentities(){var n;try{const{data:a,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(n=a.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(a){if(ie(a))return{data:null,error:a};throw a}}async linkIdentity(n){var a;try{const{data:l,error:o}=await this._useSession(async u=>{var h,m,p,g,x;const{data:v,error:j}=u;if(j)throw j;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",N,{headers:this.headers,jwt:(x=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return Pt()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(l?.url),{data:{provider:n.provider,url:l?.url},error:null}}catch(l){if(ie(l))return{data:{provider:n.provider,url:null},error:l};throw l}}async unlinkIdentity(n){try{return await this._useSession(async a=>{var l,o;const{data:u,error:h}=a;if(h)throw h;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(ie(a))return{data:null,error:a};throw a}}async _refreshAccessToken(n){const a=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{const l=Date.now();return await ly(async o=>(o>0&&await iy(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Yt})),(o,u)=>{const h=200*Math.pow(2,o);return u&&Po(u)&&Date.now()+h-l<$s})}catch(l){if(this._debug(a,"error",l),ie(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(a,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,a){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",a,"url",l),Pt()&&!a.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,a;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await qr(this.storage,this.storageKey);if(o&&this.userStorage){let h=await qr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:o.user},await Ms(this.userStorage,this.storageKey+"-user",h)),o.user=(n=h?.user)!==null&&n!==void 0?n:Ao()}else if(o&&!o.user&&!o.user){const h=await qr(this.storage,this.storageKey+"-user");h&&h?.user?(o.user=h.user,await kr(this.storage,this.storageKey+"-user"),await Ms(this.storage,this.storageKey,o)):o.user=Ao()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const u=((a=o.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Eo;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${Eo}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),Po(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(o.access_token);!m&&h?.user?(o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var a,l;if(!n)throw new _r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ki;const{data:u,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!u.session)throw new _r;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={session:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(o,"error",u),ie(u)){const h={session:null,error:u};return Po(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,a,l=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",a,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:a});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,a)}catch(p){u.push(p)}});if(await Promise.all(h),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const a=Object.assign({},n),l=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&a.user&&await Ms(this.userStorage,this.storageKey+"-user",{user:a.user});const o=Object.assign({},a);delete o.user;const u=Wh(o);await Ms(this.storage,this.storageKey,u)}else{const o=Wh(a);await Ms(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await kr(this.storage,this.storageKey),await kr(this.storage,this.storageKey+"-code-verifier"),await kr(this.storage,this.storageKey+"-user"),this.userStorage&&await kr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Pt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),$s);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async a=>{const{data:{session:l}}=a;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-n)/$s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${$s}ms, refresh threshold is ${Bo} ticks`),o<=Bo&&await this._callRefreshToken(l.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Vf)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const a=`#_onVisibilityChanged(${n})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,a,l){const o=[`provider=${encodeURIComponent(a)}`];if(l?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,h]=await As(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(m.toString())}if(l?.queryParams){const u=new URLSearchParams(l.queryParams);o.push(u.toString())}return l?.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async a=>{var l;const{data:o,error:u}=a;return u?{data:null,error:u}:await ue(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(ie(a))return{data:null,error:a};throw a}}async _enroll(n){try{return await this._useSession(async a=>{var l,o;const{data:u,error:h}=a;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:p,error:g}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return g?{data:null,error:g}:(n.factorType==="totp"&&(!((o=p?.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(a){if(ie(a))return{data:null,error:a};throw a}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:o,error:u}=a;if(u)return{data:null,error:u};const{data:h,error:m}=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(a){if(ie(a))return{data:null,error:a};throw a}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:o,error:u}=a;return u?{data:null,error:u}:await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(ie(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(n){const{data:a,error:l}=await this._challenge({factorId:n.factorId});return l?{data:null,error:l}:await this._verify({factorId:n.factorId,challengeId:a.id,code:n.code})}async _listFactors(){const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const l=n?.factors||[],o=l.filter(h=>h.factor_type==="totp"&&h.status==="verified"),u=l.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:l,totp:o,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var a,l;const{data:{session:o},error:u}=n;if(u)return{data:null,error:u};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=To(o.access_token);let m=null;h.aal&&(m=h.aal);let p=m;((l=(a=o.user.factors)===null||a===void 0?void 0:a.filter(v=>v.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const x=h.amr||[];return{data:{currentLevel:m,nextLevel:p,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(n,a={keys:[]}){let l=a.keys.find(m=>m.kid===n);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(m=>m.kid===n),l&&this.jwks_cached_at+qg>o)return l;const{data:u,error:h}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,l=u.keys.find(m=>m.kid===n),!l)?null:l}async getClaims(n,a={}){try{let l=n;if(!l){const{data:N,error:_}=await this.getSession();if(_||!N.session)return{data:null,error:_};l=N.session.access_token}const{header:o,payload:u,signature:h,raw:{header:m,payload:p}}=To(l);a?.allowExpired||my(u.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!g){const{error:N}=await this.getUser(l);if(N)throw N;return{data:{claims:u,header:o,signature:h},error:null}}const x=py(o.alg),v=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,v,h,ey(`${m}.${p}`)))throw new Vo("Invalid JWT signature");return{data:{claims:u,header:o,signature:h},error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}}}qn.nextInstanceID=0;const Ay=qn;class Ry extends Ay{constructor(n){super(n)}}var Ly=function(i,n,a,l){function o(u){return u instanceof a?u:new a(function(h){h(u)})}return new(a||(a=Promise))(function(u,h){function m(x){try{g(l.next(x))}catch(v){h(v)}}function p(x){try{g(l.throw(x))}catch(v){h(v)}}function g(x){x.done?u(x.value):o(x.value).then(m,p)}g((l=l.apply(i,n||[])).next())})};class Iy{constructor(n,a,l){var o,u,h;if(this.supabaseUrl=n,this.supabaseKey=a,!n)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const m=Dg(n),p=new URL(m);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,x={db:Tg,realtime:Rg,auth:Object.assign(Object.assign({},Ag),{storageKey:g}),global:Pg},v=Ug(l??{},x);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=v.global.headers)!==null&&u!==void 0?u:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(j,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=v.auth)!==null&&h!==void 0?h:{},this.headers,v.global.fetch),this.fetch=$g(a,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new Xx(new URL("rest/v1",p).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Sg(this.storageUrl.href,this.headers,this.fetch,l?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Fx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,a={},l={}){return this.rest.rpc(n,a,l)}channel(n,a={config:{}}){return this.realtime.channel(n,a)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,a;return Ly(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(a=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:a,detectSessionInUrl:l,storage:o,storageKey:u,flowType:h,lock:m,debug:p},g,x){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ry({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),g),storageKey:u,autoRefreshToken:n,persistSession:a,detectSessionInUrl:l,storage:o,flowType:h,lock:m,debug:p,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new fg(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,l)=>{this._handleTokenChanged(a,"CLIENT",l?.access_token)})}_handleTokenChanged(n,a,l){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:n==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Oy=(i,n,a)=>new Iy(i,n,a);function $y(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const i=process.version.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}$y()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const My="https://supabase.vedardha.shop/",Dy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE",ne=Oy(My,Dy);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(i,n)=>{const a=w.forwardRef(({color:l="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:m="",children:p,...g},x)=>w.createElement("svg",{ref:x,...Uy,width:o,height:o,stroke:l,strokeWidth:h?Number(u)*24/Number(o):u,className:["lucide",`lucide-${Fy(i)}`,m].join(" "),...g},[...n.map(([v,j])=>w.createElement(v,j)),...Array.isArray(p)?p:[p]]));return a.displayName=`${i}`,a};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=X("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=X("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=X("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=X("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=X("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=X("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=X("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=X("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=X("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=X("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=X("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=X("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=X("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=X("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=X("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=X("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=X("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=X("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=X("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=X("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=X("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=X("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=X("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=X("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=X("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=X("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=X("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=X("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=X("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=X("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=X("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=X("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=X("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=X("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=X("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=X("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),pv="user@123",xv=gi.hashSync(pv,10);console.log(xv);const tf=({onLogin:i})=>{const[n,a]=w.useState(""),[l,o]=w.useState(""),[u,h]=w.useState(!1),[m,p]=w.useState(!1),[g,x]=w.useState(""),[v,j]=w.useState({x:0,y:0}),[N,_]=w.useState([]),k=hf(),R=Fn.useCallback($=>{requestAnimationFrame(()=>{j({x:$.clientX,y:$.clientY})})},[]),O=Fn.useCallback($=>{const B=$.currentTarget.getBoundingClientRect(),Z={id:Date.now(),x:$.clientX-B.left,y:$.clientY-B.top};_([Z]),setTimeout(()=>{_([])},800)},[]),H=async $=>{$.preventDefault(),p(!0),x("");try{const{data:B,error:Z}=await ne.from("profiles").select("*").eq("email",n).single();if(Z||!B){x("User not found"),p(!1);return}if(!await gi.compare(l,B.password_hash)){x("Invalid password"),p(!1);return}if(B.status==="hold"){x("Account is on hold. Please contact support."),p(!1);return}const q={id:B.id,email:B.email,name:B.first_name,role:B.role,status:B.status,createdAt:B.createdAt};switch(i(q),B.role){case"admin":k("/admin");break;case"teacher":k("/teacher");break;case"student":k("/student");break;case"parent":k("/parent");break;default:x("Unknown user role")}}catch(B){x(B.message||"An unexpected error occurred.")}finally{p(!1)}};return r.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-800",onMouseMove:R,onClick:O,children:[N.map($=>r.jsx("div",{className:"fixed pointer-events-none z-40 animate-ping",style:{left:$.x,top:$.y,width:"40px",height:"40px",background:"radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%)",borderRadius:"50%",transform:"translate(-50%, -50%)"}},$.id)),r.jsx("div",{className:"fixed pointer-events-none z-30 w-64 h-64 opacity-20 transition-all duration-500 ease-out",style:{left:v.x-128,top:v.y-128,background:"radial-gradient(circle, rgba(147, 51, 234, 0.3) 0%, transparent 60%)"}}),r.jsxs("div",{className:"absolute inset-0",children:[r.jsx("div",{className:"absolute w-72 h-72 bg-gradient-to-r from-blue-400/10 to-purple-400/10 rounded-full mix-blend-multiply filter blur-xl animate-pulse",style:{top:"10%",left:"10%"}}),r.jsx("div",{className:"absolute w-96 h-96 bg-gradient-to-r from-purple-400/10 to-pink-400/10 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-1000",style:{top:"40%",right:"20%"}}),r.jsx("div",{className:"absolute w-80 h-80 bg-gradient-to-r from-pink-400/10 to-orange-400/10 rounded-full mix-blend-multiply filter blur-xl animate-pulse delay-2000",style:{bottom:"-8%",left:"20%"}}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:r.jsxs("div",{className:"text-center px-8 opacity-5 select-none",children:[r.jsx("h2",{className:"text-6xl font-bold text-white mb-8 leading-tight",children:"Personalized Learning"}),r.jsx("p",{className:"text-2xl text-white/80 max-w-4xl mx-auto leading-relaxed",children:"We envision a future where every student experiences personalized, high-quality learning at the finest level of granularity"})]})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/5 via-transparent to-purple-600/5",children:r.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 25px 25px, rgba(255,255,255,0.1) 2px, transparent 0)",backgroundSize:"50px 50px"}})}),r.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(8)].map(($,B)=>r.jsx("div",{className:"absolute animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${4+Math.random()*3}s`},children:r.jsx("div",{className:"w-1 h-1 bg-white/20 rounded-full"})},B))})]}),r.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:r.jsx("div",{className:"max-w-md w-full",children:r.jsxs("div",{className:"card-interactive mouse-follow bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/20 animate-fade-in hover:shadow-3xl transition-all duration-500 mouse-glow-border",children:[r.jsxs("div",{className:"text-center mb-6 p-4 bg-gradient-to-r from-blue-50/80 to-purple-50/80 rounded-2xl border border-blue-200/50 mouse-magnetic interactive-bg",children:[r.jsx("p",{className:"text-xs font-bold text-gray-600 uppercase tracking-wider mb-2 text-gradient-hover",children:"Our Vision"}),r.jsx("p",{className:"text-sm text-gray-700 leading-relaxed font-medium hover:text-gray-900 transition-colors duration-300",children:'"Personalized, high-quality learning at the finest level of granularity"'})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl flex items-center justify-center mb-6 shadow-2xl animate-pulse-glow mouse-elastic cursor-pointer",children:r.jsx(Mn,{className:"w-10 h-10 text-white icon-bounce"})}),r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-2 text-gradient-hover cursor-default",children:"EduFlow LMS"}),r.jsx("p",{className:"text-gray-600 text-lg font-medium hover:text-gray-800 transition-colors duration-300 cursor-default",children:"Welcome to your personalized learning journey!"})]}),r.jsxs("form",{onSubmit:H,className:"space-y-6",children:[r.jsxs("div",{className:"group",children:[r.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center hover:text-blue-600 transition-colors duration-300 cursor-pointer",children:[r.jsx(Yh,{className:"w-4 h-4 mr-2 text-blue-500 icon-bounce"}),"Email Address"]}),r.jsxs("div",{className:"relative",children:[r.jsx(Yh,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 icon-pulse"}),r.jsx("input",{type:"email",value:n,onChange:$=>a($.target.value),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300 bg-gray-50/50 hover:bg-white mouse-tilt mouse-shadow-dance",placeholder:"Enter your email address",required:!0})]})]}),r.jsxs("div",{className:"group",children:[r.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3 flex items-center hover:text-purple-600 transition-colors duration-300 cursor-pointer",children:[r.jsx(Qh,{className:"w-4 h-4 mr-2 text-purple-500 icon-bounce"}),"Password"]}),r.jsxs("div",{className:"relative",children:[r.jsx(Qh,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 icon-pulse"}),r.jsx("input",{type:u?"text":"password",value:l,onChange:$=>o($.target.value),className:"w-full pl-12 pr-14 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-purple-500/20 focus:border-purple-500 transition-all duration-300 bg-gray-50/50 hover:bg-white mouse-tilt mouse-shadow-dance",placeholder:"Enter your password",required:!0}),r.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-purple-500 transition-colors mouse-elastic",children:u?r.jsx(On,{className:"w-5 h-5 icon-spin"}):r.jsx($n,{className:"w-5 h-5 icon-spin"})})]})]}),g&&r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-2xl mouse-magnetic animate-bounce-in",children:r.jsx("p",{className:"text-red-600 text-sm font-medium",children:g})}),r.jsx("button",{type:"submit",disabled:m,className:"w-full py-4 px-6 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white font-bold rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] disabled:opacity-50 disabled:scale-100 btn-interactive mouse-ripple mouse-magnetic cursor-pointer",children:m?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-3"}),r.jsx("span",{className:"text-gradient-hover",children:"Signing In..."})]}):r.jsx("span",{className:"text-gradient-hover",children:"Begin Your Learning Journey"})})]})]})})})]})},gv=()=>{window.scrollTo({top:0,behavior:"smooth"})},yv=()=>{const[i,n]=w.useState(!1);return w.useEffect(()=>{const a=()=>{window.pageYOffset>300?n(!0):n(!1)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),r.jsx("button",{className:`scroll-to-top-button ${i?"visible":""} mouse-tilt btn-interactive`,onClick:gv,"aria-label":"Scroll to top",children:r.jsx(Vy,{className:"w-5 h-5 icon-bounce"})})},vv=()=>{const[i,n]=Fn.useState(0);return Fn.useEffect(()=>{const a=()=>{const l=document.documentElement.scrollTop,o=document.documentElement.scrollHeight-document.documentElement.clientHeight,u=l/o*100;n(u)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),r.jsx("div",{className:"fixed top-0 left-0 w-full h-1 bg-gray-200 z-50",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-600 transition-all duration-300 ease-out",style:{width:`${i}%`}})})},_i=({user:i,children:n,navigation:a,onLogout:l})=>{const[o,u]=w.useState(!1),[h,m]=w.useState("");return r.jsxs("div",{className:"h-screen flex overflow-hidden bg-gray-100",children:[r.jsx(vv,{}),r.jsxs("div",{className:`fixed inset-0 flex z-40 md:hidden ${o?"":"hidden"}`,children:[r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>u(!1)}),r.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[r.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:r.jsx("button",{className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>u(!1),children:r.jsx(mv,{className:"h-6 w-6 text-white"})})}),r.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[r.jsx("div",{className:"flex-shrink-0 flex items-center px-4",children:r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"EduFlow LMS"})}),r.jsx("nav",{className:"mt-5 px-2 space-y-1",children:a.map(p=>r.jsxs("button",{onClick:p.onClick,className:`group flex items-center px-2 py-2 text-base font-medium rounded-md w-full text-left ${p.current?"bg-blue-100 text-blue-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[r.jsx(p.icon,{className:"mr-4 h-6 w-6"}),p.name]},p.name))})]})]})]}),r.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:r.jsx("div",{className:"flex flex-col w-64",children:r.jsx("div",{className:"flex flex-col h-0 flex-1 bg-gradient-to-br from-white to-gray-50 shadow-xl",children:r.jsxs("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center flex-shrink-0 px-4 mb-6",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center shadow-lg animate-pulse-glow mr-3",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"E"})}),r.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"EduFlow LMS"})]}),r.jsx("nav",{className:"mt-5 flex-1 px-2 space-y-2",children:a.map((p,g)=>r.jsxs("button",{onClick:p.onClick,className:`group relative overflow-hidden flex items-center px-4 py-3 text-sm font-medium rounded-xl w-full text-left transition-all duration-300 transform hover:scale-105 animate-slide-in-left delay-${(g+1)*50} ${p.current?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg animate-pulse-glow":"text-gray-600 hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 hover:text-gray-900 hover:shadow-md"}`,children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-10 animate-shimmer"}),r.jsx(p.icon,{className:`mr-3 h-5 w-5 transition-all duration-300 ${p.current?"animate-bounce":"group-hover:scale-110"}`}),r.jsx("span",{className:"font-medium",children:p.name}),p.current&&r.jsx("div",{className:"absolute right-2 w-2 h-2 bg-white rounded-full animate-pulse"})]},p.name))})]})})})}),r.jsxs("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[r.jsxs("div",{className:"relative z-10 flex-shrink-0 flex h-16 bg-white shadow",children:[r.jsx("button",{className:"px-4 border-r border-gray-200 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 md:hidden",onClick:()=>u(!0),children:r.jsx(Xy,{className:"h-6 w-6"})}),r.jsxs("div",{className:"flex-1 px-4 flex justify-between items-center",children:[r.jsx("div",{className:"flex-1 flex",children:r.jsx("div",{className:"w-full flex md:ml-0",children:r.jsxs("div",{className:"relative w-full text-gray-400 focus-within:text-gray-600",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pointer-events-none",children:r.jsx(Cr,{className:"h-5 w-5"})}),r.jsx("input",{className:"block w-full h-full pl-8 pr-3 py-2 border-transparent text-gray-900 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-0 focus:border-transparent",placeholder:"Search...",value:h,onChange:p=>m(p.target.value)})]})})}),r.jsxs("div",{className:"ml-4 flex items-center md:ml-6 space-x-4",children:[r.jsx("button",{className:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:r.jsx(Wy,{className:"h-6 w-6"})}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:r.jsx(Hf,{className:"h-5 w-5 text-white"})})}),r.jsxs("div",{className:"hidden md:block",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:i.name}),r.jsx("div",{className:"text-xs text-gray-500 capitalize",children:i.role})]})]})}),r.jsx("button",{onClick:l,className:"bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:r.jsx(Yy,{className:"h-6 w-6"})})]})]})]}),r.jsxs("main",{className:"flex-1 relative overflow-y-auto focus:outline-none smooth-scroll-container",children:[r.jsx("div",{className:"py-6 scroll-smooth",children:n}),r.jsx(yv,{})]})]})]})},bv=()=>{const[i,n]=w.useState([]),[a,l]=w.useState(!0),[o,u]=w.useState(""),[h,m]=w.useState("all"),[p,g]=w.useState(!1),[x,v]=w.useState(!1),[j,N]=w.useState(!1),[_,k]=w.useState(null),[R,O]=w.useState(null),H=async()=>{l(!0);const{data:W,error:q}=await ne.from("profiles").select("*").order("createdAt",{ascending:!1});q?console.error("Fetch error:",q.message):n(W||[]),l(!1)};w.useEffect(()=>{H()},[]);const $=i.filter(W=>{const q=`${W.name} ${W.email}`.toLowerCase().includes(o.toLowerCase()),fe=h==="all"||W.role===h;return q&&fe}),B=({onClose:W,initial:q={}})=>{const[fe,ye]=w.useState(q.email||""),[Ne,Me]=w.useState(q.role||"student"),[Ie,Ae]=w.useState(q.status||"active"),[Se,Re]=w.useState(q.name?.split(" ")[0]||""),[Ce,oe]=w.useState(q.name?.split(" ").slice(1).join(" ")||""),[T,K]=w.useState(""),[F,P]=w.useState(""),[E,ee]=w.useState(!1),[te,le]=w.useState(!1),[de,xe]=w.useState("");w.useEffect(()=>{if(q.name){const me=q.name.split(" ");Re(me[0]||""),oe(me.slice(1).join(" ")||"")}},[q.name]);const ge=()=>!q.id&&!T?(xe("Password is required for new users"),!1):T&&T.length<8?(xe("Password must be at least 8 characters long"),!1):T!==F?(xe("Passwords do not match"),!1):(xe(""),!0),be=async me=>{if(me.preventDefault(),!ge())return;let sr;T&&(sr=await gi.hash(T,10));const Yr={email:fe,name:`${Se} ${Ce}`.trim(),role:Ne,status:Ie,createdAt:q.createdAt||new Date().toISOString()};sr&&(Yr.password_hash=sr);let Bt;q.id?Bt=(await ne.from("profiles").update(Yr).eq("id",q.id)).error:Bt=(await ne.from("profiles").insert(Yr)).error,Bt?console.error("Save error:",Bt.message):(W(),H())};return r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-lg bg-white",children:r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:q.id?"Edit User":"Add New User"}),r.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("form",{onSubmit:be,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),r.jsx("input",{type:"text",required:!0,value:Se,onChange:me=>Re(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter first name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),r.jsx("input",{type:"text",required:!0,value:Ce,onChange:me=>oe(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter last name"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",required:!0,value:fe,onChange:me=>ye(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address"})]}),(!q.id||T)&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",!q.id&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:E?"text":"password",required:!q.id,value:T,onChange:me=>K(me.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:q.id?"Leave blank to keep current password":"Enter password",minLength:8}),r.jsx("button",{type:"button",onClick:()=>ee(!E),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:E?r.jsx(On,{className:"h-5 w-5 text-gray-400"}):r.jsx($n,{className:"h-5 w-5 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm Password ",!q.id&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:te?"text":"password",required:!q.id,value:F,onChange:me=>P(me.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:q.id?"Leave blank to keep current password":"Confirm password",minLength:8}),r.jsx("button",{type:"button",onClick:()=>le(!te),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:te?r.jsx(On,{className:"h-5 w-5 text-gray-400"}):r.jsx($n,{className:"h-5 w-5 text-gray-400"})})]})]})]}),de&&r.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-lg",children:de}),!q.id&&r.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:[r.jsx("p",{className:"font-medium mb-1",children:"Password Requirements:"}),r.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[r.jsx("li",{children:"Minimum 8 characters long"}),r.jsx("li",{children:"Must match confirmation password"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),r.jsxs("select",{value:Ne,onChange:me=>Me(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"admin",children:"Admin"}),r.jsx("option",{value:"teacher",children:"Teacher"}),r.jsx("option",{value:"student",children:"Student"}),r.jsx("option",{value:"parent",children:"Parent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{value:Ie,onChange:me=>Ae(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"hold",children:"Hold"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:W,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:ring-2 focus:ring-blue-500",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:q.id?"Save Changes":"Create User"})]})]})]})})})},Z=({user:W,onClose:q})=>{const[fe,ye]=w.useState(""),[Ne,Me]=w.useState(""),[Ie,Ae]=w.useState(!1),[Se,Re]=w.useState(!1),[Ce,oe]=w.useState(""),[T,K]=w.useState(!1),F=()=>fe?fe.length<8?(oe("Password must be at least 8 characters long"),!1):fe!==Ne?(oe("Passwords do not match"),!1):(oe(""),!0):(oe("Password is required"),!1),P=async E=>{if(E.preventDefault(),!!F()){K(!0);try{const te=await gi.hash(fe,10),{error:le}=await ne.from("profiles").update({password_hash:te}).eq("id",W.id);le?(console.error("Password update error:",le.message),oe("Failed to update password. Please try again.")):q()}catch(ee){console.error("Password hashing error:",ee),oe("An unexpected error occurred. Please try again.")}finally{K(!1)}}};return r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-lg bg-white",children:r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Set Password for ",W.name]}),r.jsx("button",{onClick:q,className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("form",{onSubmit:P,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["New Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:Ie?"text":"password",required:!0,value:fe,onChange:E=>ye(E.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter new password",minLength:8}),r.jsx("button",{type:"button",onClick:()=>Ae(!Ie),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:Ie?r.jsx(On,{className:"h-5 w-5 text-gray-400"}):r.jsx($n,{className:"h-5 w-5 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm New Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:Se?"text":"password",required:!0,value:Ne,onChange:E=>Me(E.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm new password",minLength:8}),r.jsx("button",{type:"button",onClick:()=>Re(!Se),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:Se?r.jsx(On,{className:"h-5 w-5 text-gray-400"}):r.jsx($n,{className:"h-5 w-5 text-gray-400"})})]})]}),Ce&&r.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-lg",children:Ce}),r.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:[r.jsx("p",{className:"font-medium mb-1",children:"Password Requirements:"}),r.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[r.jsx("li",{children:"Minimum 8 characters long"}),r.jsx("li",{children:"Must match confirmation password"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:ring-2 focus:ring-blue-500",disabled:T,children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-lg hover:bg-green-700 focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",disabled:T,children:T?"Setting Password...":"Set Password"})]})]})]})})})};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 px-4 sm:px-6 lg:px-8 interactive-bg scroll-smooth",children:[r.jsxs("div",{className:"sm:flex sm:items-center animate-slide-in-up",children:[r.jsxs("div",{className:"sm:flex-auto",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg shadow-lg mouse-elastic icon-bounce cursor-pointer",children:r.jsx(Qe,{className:"w-6 h-6 text-white icon-spin"})}),r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent text-gradient-hover cursor-default",children:"User Management"})]}),r.jsx("p",{className:"text-lg text-gray-600 font-medium hover:text-gray-800 transition-colors duration-300 cursor-default",children:"Manage all users in your school system including admins, teachers, students, and parents."}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2 mouse-magnetic",children:[r.jsx(Er,{className:"w-4 h-4 text-green-500 icon-bounce"}),r.jsxs("span",{className:"text-sm text-green-600 font-medium hover:text-green-700 transition-colors",children:[$.length," users found"]})]})]}),r.jsxs("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none space-x-2",children:[r.jsxs("button",{onClick:()=>v(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-xl text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 transition-all duration-300 mouse-tilt mouse-shadow-dance btn-interactive cursor-pointer",children:[r.jsx(Qe,{className:"w-4 h-4 mr-2 icon-bounce"}),"Manage Parent Links"]}),r.jsxs("button",{onClick:()=>{O(null),g(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-xl text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:ring-2 focus:ring-blue-500 btn-interactive mouse-ripple mouse-magnetic cursor-pointer",children:[r.jsx(Xn,{className:"w-4 h-4 mr-2 icon-spin"}),"Add User"]})]})]}),r.jsx("div",{className:"mt-8 bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden card-interactive mouse-glow-border",children:r.jsx("div",{className:"p-6 bg-gradient-to-r from-gray-50 to-blue-50",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"relative mouse-follow",children:[r.jsx(Cr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 icon-bounce"}),r.jsx("input",{type:"text",placeholder:"Search users by name, email, or ID...",value:o,onChange:W=>u(W.target.value),className:"w-full pl-12 pr-6 py-3 border border-gray-200 rounded-xl bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 mouse-tilt text-sm font-medium hover:shadow-md"})]}),r.jsxs("div",{className:"relative mouse-magnetic",children:[r.jsx(Yn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 icon-spin"}),r.jsxs("select",{value:h,onChange:W=>m(W.target.value),className:"w-full pl-12 pr-6 py-3 border border-gray-200 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none transition-all duration-300 mouse-tilt text-sm font-medium hover:shadow-md cursor-pointer",children:[r.jsx("option",{value:"all",children:"All Roles"}),r.jsx("option",{value:"admin",children:" Admin"}),r.jsx("option",{value:"teacher",children:" Teacher"}),r.jsx("option",{value:"student",children:" Student"}),r.jsx("option",{value:"parent",children:" Parent"})]})]})]})})}),r.jsx("div",{className:"mt-8 bg-white shadow rounded-lg overflow-hidden",children:a?r.jsx("div",{className:"p-6 text-center text-gray-500",children:"Loading users..."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map(W=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-600 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-white",children:W.name?W.name.split(" ").map(q=>q[0]).join(""):""})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.name}),r.jsx("div",{className:"text-sm text-gray-500",children:W.email})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full capitalize ${W.role==="admin"?"bg-purple-100 text-purple-800":W.role==="teacher"?"bg-blue-100 text-blue-800":W.role==="student"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:W.role})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${W.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:W.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(W.createdAt).toLocaleDateString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{onClick:()=>{k(W),N(!0)},className:"text-green-600 hover:text-green-900",title:"Set Password",children:r.jsx(Gy,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>{O(W),g(!0)},className:"text-blue-600 hover:text-blue-900",title:"Edit User",children:r.jsx(lc,{className:"w-4 h-4"})}),r.jsx("button",{onClick:async()=>{if(window.confirm(`Are you sure you want to delete ${W.name}?`)){const{error:q}=await ne.from("profiles").delete().eq("id",W.id);q?console.error("Delete error:",q.message):H()}},className:"text-red-600 hover:text-red-900",title:"Delete User",children:r.jsx(oc,{className:"w-4 h-4"})})]})})]},W.id))})]})})}),p&&r.jsx(B,{onClose:()=>{g(!1),O(null)},initial:R||{}}),j&&_&&r.jsx(Z,{user:_,onClose:()=>{N(!1),k(null)}}),x&&r.jsx(wv,{onClose:()=>v(!1)})]})},wv=({onClose:i})=>{const[n,a]=w.useState([]),[l,o]=w.useState([]),[u,h]=w.useState(""),[m,p]=w.useState([]);w.useEffect(()=>{(async()=>{const{data:N,error:_}=await ne.from("profiles").select("*").eq("role","parent");_?console.error("Error fetching parents",_):a(N||[]);const{data:k,error:R}=await ne.from("profiles").select("*").eq("role","student");R?console.error("Error fetching students",R):o(k||[])})()},[]),w.useEffect(()=>{u&&(async()=>{const{data:N,error:_}=await ne.from("parent_student_mapping").select("student_id").eq("parent_id",u);_?console.error("Error fetching linked students",_):p(N?.map(k=>k.student_id)||[])})()},[u]);const g=async()=>{const{data:j,error:N}=await ne.from("parent_student_mapping").select("student_id").eq("parent_id",u);N?console.error("Error fetching linked students",N):p(j?.map(_=>_.student_id)||[])};w.useEffect(()=>{u&&g()},[u]);const x=async j=>{const{error:N}=await ne.from("parent_student_mapping").insert({parent_id:u,student_id:j});N?console.error("Error linking student",N):g()},v=async j=>{const{error:N}=await ne.from("parent_student_mapping").delete().match({parent_id:u,student_id:j});N?console.error("Error unlinking student",N):g()};return r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-lg bg-white",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Manage Parent-Student Links"}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Parent"}),r.jsxs("select",{onChange:j=>h(j.target.value),className:"w-full p-2 border rounded",children:[r.jsx("option",{value:"",children:"-- Select a Parent --"}),n.map(j=>r.jsx("option",{value:j.id,children:j.name},j.id))]})]}),u&&r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Link Students"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[r.jsxs("div",{children:[r.jsx("h5",{className:"text-sm font-medium text-gray-900",children:"Available Students"}),r.jsx("div",{className:"border rounded p-2 h-64 overflow-y-auto",children:l.filter(j=>!m.includes(j.id)).map(j=>r.jsxs("div",{className:"flex justify-between items-center p-1",children:[r.jsx("span",{children:j.name}),r.jsx("button",{onClick:()=>x(j.id),className:"text-blue-500",children:"Link"})]},j.id))})]}),r.jsxs("div",{children:[r.jsx("h5",{className:"text-sm font-medium text-gray-900",children:"Linked Students"}),r.jsx("div",{className:"border rounded p-2 h-64 overflow-y-auto",children:l.filter(j=>m.includes(j.id)).map(j=>r.jsxs("div",{className:"flex justify-between items-center p-1",children:[r.jsx("span",{children:j.name}),r.jsx("button",{onClick:()=>v(j.id),className:"text-red-500",children:"Unlink"})]},j.id))})]})]})]}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx("button",{onClick:i,className:"bg-gray-300 text-black p-2 rounded",children:"Close"})})]})})},jv=({activeTab:i,editing:n,onClose:a,refresh:l})=>{const o=!!n?.id,[u,h]=w.useState(n?.name||""),[m,p]=w.useState(n?.description||""),[g,x]=w.useState(n?.level||0),[v,j]=w.useState(n?.grade_id||""),[N,_]=w.useState(n?.teacher_id||""),[k,R]=w.useState(n?.subject_id||n?.chapter_id||""),[O,H]=w.useState(n?.title||""),[$,B]=w.useState(n?.order_index||1),[Z,W]=w.useState(n?.taxonomy_level||""),[q,fe]=w.useState(n?.grade_level||""),[ye,Ne]=w.useState(n?.content_sources||[]),[Me,Ie]=w.useState(n?.status||"active"),[Ae,Se]=w.useState([]),[Re,Ce]=w.useState([]),[oe,T]=w.useState([]),[K,F]=w.useState([]);w.useEffect(()=>{ne.from("grades").select("id,name").then(E=>E.data&&Se(E.data)),ne.from("subjects").select("id,name").then(E=>E.data&&Ce(E.data)),ne.from("chapters").select("id,title").then(E=>E.data&&T(E.data)),ne.from("profiles").select("id,name").eq("role","teacher").then(E=>E.data&&F(E.data))},[]);const P=async E=>{E.preventDefault();let ee="",te={};i==="grades"?(ee="grades",te={name:u,level:g}):i==="subjects"?(ee="subjects",te={name:u,description:m,grade_id:v,teacher_id:N,status:Me}):i==="chapters"?(ee="chapters",te={subject_id:k,title:O,order_index:$,status:Me}):(ee="concepts",te={chapter_id:k,title:O,order_index:$,taxonomy_level:Z,grade_level:q,content_sources:ye,status:Me}),o?await ne.from(ee).update(te).eq("id",n.id):await ne.from(ee).insert(te),l(),a()};return r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg overflow-y-auto max-h-[90vh]",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[o?"Edit":"Add"," ",i.slice(0,-1)]}),r.jsxs("form",{onSubmit:P,className:"space-y-4",children:[i==="grades"&&r.jsxs(r.Fragment,{children:[r.jsx("label",{children:"Name"}),r.jsx("input",{value:u,onChange:E=>h(E.target.value),className:"w-full border rounded px-3 py-2"}),r.jsx("label",{children:"Level"}),r.jsx("input",{type:"number",value:g,onChange:E=>x(+E.target.value),className:"w-full border rounded px-3 py-2"})]}),i==="subjects"&&r.jsxs(r.Fragment,{children:[r.jsx("label",{children:"Name"}),r.jsx("input",{value:u,onChange:E=>h(E.target.value),className:"w-full border rounded px-3 py-2"}),r.jsx("label",{children:"Description"}),r.jsx("textarea",{value:m,onChange:E=>p(E.target.value),className:"w-full border rounded px-3 py-2"}),r.jsx("label",{children:"Grade"}),r.jsxs("select",{value:v,onChange:E=>j(E.target.value),className:"w-full border rounded px-3 py-2",children:[r.jsx("option",{value:"",children:"-- Select Grade --"}),Ae.map(E=>r.jsx("option",{value:E.id,children:E.name},E.id))]}),r.jsx("label",{children:"Teacher"}),r.jsxs("select",{value:N,onChange:E=>_(E.target.value),className:"w-full border rounded px-3 py-2",children:[r.jsx("option",{value:"",children:"-- Select Teacher --"}),K.map(E=>r.jsx("option",{value:E.id,children:E.name},E.id))]})]}),i==="chapters"&&r.jsxs(r.Fragment,{children:[r.jsx("label",{children:"Subject"}),r.jsxs("select",{value:k,onChange:E=>R(E.target.value),className:"w-full border rounded px-3 py-2",children:[r.jsx("option",{value:"",children:"-- Select Subject --"}),Re.map(E=>r.jsx("option",{value:E.id,children:E.name},E.id))]}),r.jsx("label",{children:"Title"}),r.jsx("input",{value:O,onChange:E=>H(E.target.value),className:"w-full border rounded px-3 py-2"}),r.jsx("label",{children:"Order Index"}),r.jsx("input",{type:"number",value:$,onChange:E=>B(+E.target.value),className:"w-full border rounded px-3 py-2"})]}),i==="concepts"&&r.jsxs(r.Fragment,{children:[r.jsx("label",{children:"Chapter"}),r.jsxs("select",{value:k,onChange:E=>R(E.target.value),className:"w-full border rounded px-3 py-2",children:[r.jsx("option",{value:"",children:"-- Select Chapter --"}),oe.map(E=>r.jsx("option",{value:E.id,children:E.title},E.id))]}),r.jsx("label",{children:"Title"}),r.jsx("input",{value:O,onChange:E=>H(E.target.value),className:"w-full border rounded px-3 py-2"}),r.jsx("label",{children:"Order Index"}),r.jsx("input",{type:"number",value:$,onChange:E=>B(+E.target.value),className:"w-full border rounded px-3 py-2"}),r.jsx("label",{children:"Taxonomy Level"}),r.jsx("input",{value:Z,onChange:E=>W(E.target.value),className:"w-full border rounded px-3 py-2"}),r.jsx("label",{children:"Grade Level"}),r.jsx("input",{type:"number",value:q,onChange:E=>fe(+E.target.value),className:"w-full border rounded px-3 py-2"}),r.jsx("label",{children:"Content Sources (comma-separated)"}),r.jsx("input",{value:ye.join(","),onChange:E=>Ne(E.target.value.split(",").map(ee=>ee.trim())),className:"w-full border rounded px-3 py-2"})]}),r.jsx("label",{children:"Status"}),r.jsxs("select",{value:Me,onChange:E=>Ie(E.target.value),className:"w-full border rounded px-3 py-2",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"archived",children:"Archived"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 border rounded",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:o?"Save Changes":"Create"})]})]})]})})},Nv=["grades","subjects","chapters","concepts"],kv=()=>{const[i,n]=w.useState("grades"),[a,l]=w.useState(""),[o,u]=w.useState(""),[h,m]=w.useState(""),[p,g]=w.useState(""),[x,v]=w.useState(""),[j,N]=w.useState([]),[_,k]=w.useState([]),[R,O]=w.useState([]),[H,$]=w.useState([]),[B,Z]=w.useState(!1),[W,q]=w.useState(null),[fe,ye]=w.useState(!0),[Ne,Me]=w.useState(null),[Ie,Ae]=w.useState(!1);w.useEffect(()=>{Se(),i!=="subjects"&&i!=="chapters"&&i!=="concepts"&&m(""),i!=="chapters"&&i!=="concepts"&&g(""),i!=="concepts"&&v("")},[i]);const Se=async()=>{ye(!0),Ae(!1);try{const[T,K,F,P]=await Promise.all([ne.from("grades").select("*"),ne.from("subjects").select("*, grade:grade_id(name), teacher:teacher_id(name)"),ne.from("chapters").select("*, subject:subject_id(name, grade_id)"),ne.from("concepts").select("*, chapter:chapter_id(title, subject_id, subject:subject_id(name, grade_id))")]);T.data&&N(T.data),K.data&&k(K.data.map(E=>({...E,grade_name:E.grade?.name||"N/A",teacher_name:E.teacher?.name||"N/A"}))),F.data&&O(F.data.map(E=>({...E,subject_name:E.subject.name,subject_grade_id:E.subject.grade_id}))),P.data&&$(P.data.map(E=>({...E,chapter_title:E.chapter.title,chapter_subject_id:E.chapter.subject_id,chapter_subject_name:E.chapter.subject?.name,chapter_subject_grade_id:E.chapter.subject?.grade_id}))),setTimeout(()=>Ae(!0),100)}catch(T){console.error("Error fetching data:",T)}finally{ye(!1)}},Re=(T,K)=>T.filter(F=>{const P=String(F[K]??"").toLowerCase().includes(a.toLowerCase()),E=i==="grades"||!o||F.status===o,ee=i!=="subjects"&&i!=="chapters"&&i!=="concepts"||!h||i==="subjects"&&F.grade_id===h||i==="chapters"&&F.subject_grade_id===h||i==="concepts"&&F.chapter_subject_grade_id===h,te=i!=="chapters"&&i!=="concepts"||!p||i==="chapters"&&F.subject_id===p||i==="concepts"&&F.chapter_subject_id===p,le=i!=="concepts"||!x||F.chapter_id===x;return P&&E&&ee&&te&&le}),Ce={active:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800",archived:"bg-gray-100 text-gray-700"},oe=w.useMemo(()=>i==="grades"?Re(j,"name"):i==="subjects"?Re(_,"name"):Re(i==="chapters"?R:H,"title"),[a,o,h,p,x,j,_,R,H,i]);return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 px-4 sm:px-6 lg:px-8",children:[r.jsx("div",{className:"pt-8 pb-6",children:r.jsxs("div",{className:"sm:flex sm:items-center mb-8",children:[r.jsxs("div",{className:"sm:flex-auto",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-lg",children:r.jsx(ov,{className:"w-6 h-6 text-white"})}),r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"Course Management"})]}),r.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"Manage your curriculum structure with ease"}),r.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[r.jsx(Er,{className:"w-4 h-4 text-green-500"}),r.jsxs("span",{className:"text-sm text-green-600 font-medium",children:[oe.length," ",i," found"]})]})]}),r.jsxs("button",{onClick:()=>{q(null),Z(!0)},className:"group mt-4 sm:mt-0 inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 font-medium",children:[r.jsx(Xn,{className:"mr-2 w-5 h-5 group-hover:rotate-90 transition-transform duration-200"}),"New ",i.slice(0,-1)]})]})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 mb-8 overflow-hidden",children:r.jsx("nav",{className:"flex",children:Nv.map((T,K)=>{const F=T==="grades"?Mn:T==="subjects"?Ue:T==="chapters"?Jh:Lt,P=i===T;return r.jsxs("button",{onClick:()=>n(T),className:`group relative flex-1 flex items-center justify-center px-6 py-4 font-semibold transition-all duration-300 ${P?"text-white bg-gradient-to-r from-blue-600 to-purple-600 shadow-lg":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,style:{animationDelay:`${K*100}ms`},children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(F,{className:`w-5 h-5 transition-all duration-300 ${P?"scale-110":"group-hover:scale-105"}`}),r.jsx("span",{className:"capitalize font-medium",children:T})]}),P&&r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 opacity-10 animate-pulse"}),r.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 to-purple-500 transform transition-all duration-300 ${P?"scale-x-100":"scale-x-0"}`})]},T)})})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 mb-8",children:r.jsxs("div",{className:`grid grid-cols-1 gap-4 ${i==="subjects"?"md:grid-cols-4":i==="chapters"?"md:grid-cols-5":i==="concepts"?"md:grid-cols-6":"md:grid-cols-3"}`,children:[r.jsxs("div",{className:"relative group",children:[r.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors duration-200"}),r.jsx("input",{type:"text",placeholder:`Search ${i}...`,value:a,onChange:T=>l(T.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white shadow-sm hover:shadow-md"})]}),r.jsxs("div",{className:"relative group",children:[r.jsx(Yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors duration-200"}),r.jsx(Vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"}),r.jsxs("select",{value:o,onChange:T=>u(T.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white shadow-sm hover:shadow-md appearance-none",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"draft",children:"Draft"}),r.jsx("option",{value:"archived",children:"Archived"})]})]}),i==="subjects"&&r.jsxs("div",{className:"relative group",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors duration-200"}),r.jsx(Vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"}),r.jsxs("select",{value:h,onChange:T=>m(T.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white shadow-sm hover:shadow-md appearance-none",children:[r.jsx("option",{value:"",children:"All Grades"}),j.map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))]})]}),i==="chapters"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative group",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors duration-200"}),r.jsx(Vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"}),r.jsxs("select",{value:h,onChange:T=>{m(T.target.value),T.target.value!==h&&g("")},className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white shadow-sm hover:shadow-md appearance-none",children:[r.jsx("option",{value:"",children:"All Grades"}),j.map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))]})]}),r.jsxs("div",{className:"relative group",children:[r.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors duration-200"}),r.jsx(Vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"}),r.jsxs("select",{value:p,onChange:T=>g(T.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white shadow-sm hover:shadow-md appearance-none",children:[r.jsx("option",{value:"",children:"All Subjects"}),_.filter(T=>!h||T.grade_id===h).map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))]})]})]}),i==="concepts"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative group",children:[r.jsx(Mn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors duration-200"}),r.jsx(Vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"}),r.jsxs("select",{value:h,onChange:T=>{m(T.target.value),T.target.value!==h&&(g(""),v(""))},className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white shadow-sm hover:shadow-md appearance-none",children:[r.jsx("option",{value:"",children:"All Grades"}),j.map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))]})]}),r.jsxs("div",{className:"relative group",children:[r.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors duration-200"}),r.jsx(Vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"}),r.jsxs("select",{value:p,onChange:T=>{g(T.target.value),T.target.value!==p&&v("")},className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white shadow-sm hover:shadow-md appearance-none",children:[r.jsx("option",{value:"",children:"All Subjects"}),_.filter(T=>!h||T.grade_id===h).map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))]})]}),r.jsxs("div",{className:"relative group",children:[r.jsx(Jh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors duration-200"}),r.jsx(Vr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"}),r.jsxs("select",{value:x,onChange:T=>v(T.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white shadow-sm hover:shadow-md appearance-none",children:[r.jsx("option",{value:"",children:"All Chapters"}),R.filter(T=>(!h||T.subject_grade_id===h)&&(!p||T.subject_id===p)).map(T=>r.jsx("option",{value:T.id,children:T.title},T.id))]})]})]})]})}),r.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Name / Title"}),i==="grades"&&r.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Level"}),i==="subjects"&&r.jsxs(r.Fragment,{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Grade"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Teacher"})]}),i==="chapters"&&r.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Subject"}),i==="concepts"&&r.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Chapter"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:fe?r.jsx("tr",{children:r.jsx("td",{colSpan:i==="grades"?4:i==="subjects"?5:i==="chapters"?4:5,className:"px-6 py-12 text-center",children:r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"}),r.jsxs("p",{className:"text-gray-500 font-medium",children:["Loading ",i,"..."]})]})})}):oe.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:i==="grades"?4:i==="subjects"?5:i==="chapters"?4:5,className:"px-6 py-12 text-center",children:r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[r.jsx("div",{className:"p-4 bg-gray-100 rounded-full",children:r.jsx(Cr,{className:"w-8 h-8 text-gray-400"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-gray-500 font-medium",children:["No ",i," found"]}),r.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Try adjusting your search or filters"})]})]})})}):oe.map((T,K)=>r.jsxs("tr",{className:`hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 transition-all duration-200 transform hover:scale-[1.01] ${K%2===0?"bg-gray-50/30":"bg-white"} ${Ie?"animate-fade-in opacity-100":"opacity-0"}`,style:{animationDelay:`${K*50}ms`,animationFillMode:"forwards"},children:[r.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:"name"in T?T.name:T.title}),i==="grades"&&r.jsx("td",{className:"px-6 py-4 text-gray-600",children:T.level}),i==="subjects"&&r.jsxs(r.Fragment,{children:[r.jsx("td",{className:"px-6 py-4 text-gray-600",children:T.grade_name}),r.jsx("td",{className:"px-6 py-4 text-gray-600",children:T.teacher_name})]}),i==="chapters"&&r.jsx("td",{className:"px-6 py-4 text-gray-600",children:T.subject_name}),i==="concepts"&&r.jsx("td",{className:"px-6 py-4 text-gray-600",children:T.chapter_title}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex px-3 py-1.5 text-xs font-semibold rounded-full shadow-sm ${Ce[T.status]}`,children:T.status})}),r.jsxs("td",{className:"px-6 py-4 text-right space-x-3",children:[r.jsx("button",{onClick:()=>{q(T),Z(!0)},className:"group p-2 rounded-full bg-blue-100 hover:bg-blue-200 transition-all duration-200 transform hover:scale-110","aria-label":"Edit",children:r.jsx(lc,{className:"text-blue-600 w-4 h-4 group-hover:scale-110 transition-transform duration-200"})}),r.jsx("button",{onClick:async()=>{if(window.confirm(`Are you sure you want to delete this ${i.slice(0,-1)}?`))try{const F=i==="grades"?"grades":i==="subjects"?"subjects":i==="chapters"?"chapters":"concepts";await ne.from(F).delete().eq("id",T.id),Se()}catch(F){console.error("Delete failed:",F)}},className:"group p-2 rounded-full bg-red-100 hover:bg-red-200 transition-all duration-200 transform hover:scale-110","aria-label":"Delete",children:r.jsx(oc,{className:"text-red-600 w-4 h-4 group-hover:scale-110 transition-transform duration-200"})})]})]},T.id))})]})})}),B&&r.jsx(jv,{activeTab:i,editing:W,onClose:()=>{Z(!1),q(null)},refresh:Se})]})},_v=()=>{const[i,n]=w.useState(!1),[a,l]=w.useState("content"),[o,u]=w.useState(""),h=[{id:"1",concept:"Integer Operations",provider:"youtube",title:"Introduction to Integers",url:"https://youtube.com/watch?v=example1",fallbackUrl:"https://khanacademy.org/integers",duration:15,status:"active"},{id:"2",concept:"Fraction Addition",provider:"lti",title:"Interactive Fraction Builder",url:"https://ixl.com/lti/launch",ltiSettings:{consumerKey:"school_key_123",launchUrl:"https://ixl.com/lti/launch/fractions"},status:"active"},{id:"3",concept:"Geometry Basics",provider:"vimeo",title:"Understanding Shapes",url:"https://vimeo.com/example",duration:12,status:"draft"}],m=[{id:"1",name:"Khan Academy",type:"REST API",status:"connected",apiKey:"ka_***_ending",baseUrl:"https://api.khanacademy.org"},{id:"2",name:"IXL Learning",type:"LTI 1.3",status:"connected",consumerKey:"school_key_123",sharedSecret:"***hidden***"},{id:"3",name:"Desmos",type:"LTI 1.3",status:"pending",consumerKey:"pending_setup",sharedSecret:"pending_setup"}],p=()=>r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 shadow-lg rounded-lg bg-white max-h-[80vh] overflow-y-auto",children:r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Content Integration"}),r.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("form",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Concept"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Choose a concept to add content for"}),r.jsx("option",{value:"1",children:"Integer Operations"}),r.jsx("option",{value:"2",children:"Fraction Addition"}),r.jsx("option",{value:"3",children:"Geometry Basics"}),r.jsx("option",{value:"4",children:"Algebraic Expressions"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Provider"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("label",{className:"relative",children:[r.jsx("input",{type:"radio",name:"provider",value:"youtube",className:"sr-only"}),r.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4 cursor-pointer hover:border-blue-300 peer-checked:border-blue-500 peer-checked:bg-blue-50",children:[r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(Ho,{className:"w-8 h-8 text-red-600"})}),r.jsx("p",{className:"text-sm font-medium text-gray-900 mt-2 text-center",children:"YouTube"})]})]}),r.jsxs("label",{className:"relative",children:[r.jsx("input",{type:"radio",name:"provider",value:"vimeo",className:"sr-only"}),r.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4 cursor-pointer hover:border-blue-300 peer-checked:border-blue-500 peer-checked:bg-blue-50",children:[r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(ef,{className:"w-8 h-8 text-blue-600"})}),r.jsx("p",{className:"text-sm font-medium text-gray-900 mt-2 text-center",children:"Vimeo"})]})]}),r.jsxs("label",{className:"relative",children:[r.jsx("input",{type:"radio",name:"provider",value:"lti",className:"sr-only"}),r.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4 cursor-pointer hover:border-blue-300 peer-checked:border-blue-500 peer-checked:bg-blue-50",children:[r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(Gh,{className:"w-8 h-8 text-green-600"})}),r.jsx("p",{className:"text-sm font-medium text-gray-900 mt-2 text-center",children:"LTI 1.3"})]})]})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Content Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Title"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Introduction to Fractions"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),r.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"15"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content URL"}),r.jsx("input",{type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://youtube.com/watch?v=..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fallback URL (Optional)"}),r.jsx("input",{type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://khanacademy.org/alternative-content"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the content and learning objectives"})]})]})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"LTI 1.3 Configuration"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Consumer Key"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"school_consumer_key"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shared Secret"}),r.jsx("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"shared_secret_key"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Launch URL"}),r.jsx("input",{type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://provider.com/lti/launch"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Provider Preferences"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Set the priority order for this concept"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Primary Provider"}),r.jsxs("select",{className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"current",children:"This Integration"}),r.jsx("option",{value:"youtube",children:"YouTube"}),r.jsx("option",{value:"khanacademy",children:"Khan Academy"}),r.jsx("option",{value:"ixl",children:"IXL"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Secondary Provider"}),r.jsxs("select",{className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"khanacademy",children:"Khan Academy"}),r.jsx("option",{value:"youtube",children:"YouTube"}),r.jsx("option",{value:"ixl",children:"IXL"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Tertiary Provider"}),r.jsxs("select",{className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"fallback",children:"Fallback URL"}),r.jsx("option",{value:"custom",children:"Custom Content"})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700",children:"Add Integration"})]})]})]})})}),g=()=>{switch(a){case"content":return r.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Content"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concept"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(x=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsxs("div",{className:"flex-shrink-0 h-10 w-10",children:[x.provider==="youtube"&&r.jsx("div",{className:"h-10 w-10 rounded-lg bg-red-100 flex items-center justify-center",children:r.jsx(Ho,{className:"h-6 w-6 text-red-600"})}),x.provider==="vimeo"&&r.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-100 flex items-center justify-center",children:r.jsx(ef,{className:"h-6 w-6 text-blue-600"})}),x.provider==="lti"&&r.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-100 flex items-center justify-center",children:r.jsx(Gh,{className:"h-6 w-6 text-green-600"})})]}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.title}),r.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[r.jsx(Jy,{className:"w-3 h-3 mr-1"}),r.jsx("span",{className:"truncate max-w-xs",children:x.url})]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.concept}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full capitalize ${x.provider==="youtube"?"bg-red-100 text-red-800":x.provider==="vimeo"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:x.provider})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.duration?`${x.duration} min`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:x.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:r.jsx(lc,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-red-600 hover:text-red-900",children:r.jsx(oc,{className:"w-4 h-4"})})]})})]},x.id))})]})})});case"providers":return r.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Configuration"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(x=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x.type==="LTI 1.3"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:x.type})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.type==="LTI 1.3"?r.jsxs("div",{children:[r.jsxs("div",{children:["Key: ",x.consumerKey]}),r.jsxs("div",{children:["Secret: ",x.sharedSecret]})]}):r.jsxs("div",{children:[r.jsxs("div",{children:["API Key: ",x.apiKey]}),r.jsxs("div",{children:["URL: ",x.baseUrl]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x.status==="connected"?"bg-green-100 text-green-800":x.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:x.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:r.jsx(Vn,{className:"w-4 h-4"})}),r.jsx("button",{className:"text-green-600 hover:text-green-900",children:"Test"})]})})]},x.id))})]})})});default:return null}};return r.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:flex sm:items-center",children:[r.jsxs("div",{className:"sm:flex-auto",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Content Integration"}),r.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Manage content integrations with external providers like YouTube, Vimeo, and LTI 1.3 tools."})]}),r.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:r.jsxs("button",{onClick:()=>n(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:[r.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Add Integration"]})})]}),r.jsx("div",{className:"mt-6 border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"content",name:"Content Integrations",icon:Ut},{id:"providers",name:"Provider Settings",icon:Vn}].map(x=>r.jsxs("button",{onClick:()=>l(x.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${a===x.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(x.icon,{className:"w-4 h-4 mr-2"}),x.name]},x.id))})}),r.jsx("div",{className:"mt-6",children:r.jsxs("div",{className:"relative max-w-lg",children:[r.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:`Search ${a==="content"?"integrations":"providers"}...`,value:o,onChange:x=>u(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsx("div",{className:"mt-8",children:g()}),i&&r.jsx(p,{})]})},Sv=()=>{const[i,n]=w.useState("last30days"),[a,l]=w.useState("overview"),o=[{name:"Total Active Students",value:"987",change:"+12%",icon:Qe,color:"bg-blue-500"},{name:"Concepts Completed",value:"4,521",change:"+18%",icon:Ue,color:"bg-green-500"},{name:"Average Study Time",value:"45 min",change:"+8%",icon:dt,color:"bg-purple-500"},{name:"Engagement Rate",value:"78%",change:"+5%",icon:Er,color:"bg-orange-500"}],u=[{student:"Emma Wilson",grade:"5th",conceptsCompleted:45,totalConcepts:60,averageScore:85,timeSpent:120,lastActivity:"2024-01-15"},{student:"James Rodriguez",grade:"5th",conceptsCompleted:38,totalConcepts:60,averageScore:92,timeSpent:95,lastActivity:"2024-01-15"},{student:"Sophia Chen",grade:"5th",conceptsCompleted:52,totalConcepts:60,averageScore:88,timeSpent:140,lastActivity:"2024-01-14"}],h=[{concept:"Integer Operations",subject:"Mathematics",totalAssigned:150,completed:127,averageTime:25,averageScore:82,strugglingStudents:8},{concept:"Fraction Addition",subject:"Mathematics",totalAssigned:150,completed:134,averageTime:18,averageScore:89,strugglingStudents:4},{concept:"Photosynthesis",subject:"Science",totalAssigned:120,completed:98,averageTime:32,averageScore:76,strugglingStudents:12}],m=()=>{switch(a){case"overview":return r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map(p=>r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex-shrink-0 p-3 rounded-lg ${p.color}`,children:r.jsx(p.icon,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:p.name}),r.jsxs("div",{className:"flex items-baseline",children:[r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:p.value}),r.jsx("p",{className:"ml-2 text-sm font-medium text-green-600",children:p.change})]})]})]})},p.name))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Student Progress Over Time"}),r.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Rt,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"Line chart visualization would appear here"})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Concept Completion Rates"}),r.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(tv,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"Pie chart visualization would appear here"})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Weekly Activity Heatmap"}),r.jsx("div",{className:"h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Gr,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"Activity heatmap would appear here"}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Shows daily engagement patterns across the week"})]})})]})]});case"students":return r.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Student Progress Report"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Score"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Spent"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Activity"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map((p,g)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-600 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-white",children:p.student.split(" ").map(x=>x[0]).join("")})})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.student}),r.jsxs("div",{className:"text-sm text-gray-500",children:[p.grade," Grade"]})]})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${p.conceptsCompleted/p.totalConcepts*100}%`}})}),r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[p.conceptsCompleted,"/",p.totalConcepts," concepts"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.averageScore>=90?"bg-green-100 text-green-800":p.averageScore>=80?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.averageScore,"%"]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[p.timeSpent," min"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.lastActivity})]},g))})]})})]});case"concepts":return r.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Concept Performance Analysis"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concept"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Completion Rate"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg. Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg. Score"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Struggling Students"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map((p,g)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.concept}),r.jsx("div",{className:"text-sm text-gray-500",children:p.subject})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${p.completed/p.totalAssigned*100}%`}})}),r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[p.completed,"/",p.totalAssigned," (",Math.round(p.completed/p.totalAssigned*100),"%)"]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[p.averageTime," min"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.averageScore>=85?"bg-green-100 text-green-800":p.averageScore>=75?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.averageScore,"%"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.strugglingStudents<=5?"bg-green-100 text-green-800":p.strugglingStudents<=10?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.strugglingStudents," students"]})})]},g))})]})})]});default:return null}};return r.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:flex sm:items-center",children:[r.jsxs("div",{className:"sm:flex-auto",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics & Reporting"}),r.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Comprehensive insights into student progress, concept performance, and engagement metrics."})]}),r.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:r.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500",children:[r.jsx(Ky,{className:"w-4 h-4 mr-2"}),"Export Report"]})})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsxs("select",{value:i,onChange:p=>n(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[r.jsx("option",{value:"last7days",children:"Last 7 days"}),r.jsx("option",{value:"last30days",children:"Last 30 days"}),r.jsx("option",{value:"last90days",children:"Last 90 days"}),r.jsx("option",{value:"semester",children:"This Semester"}),r.jsx("option",{value:"year",children:"This Year"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsxs("select",{className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[r.jsx("option",{value:"",children:"All Grades"}),r.jsx("option",{value:"k",children:"Kindergarten"}),r.jsx("option",{value:"1",children:"1st Grade"}),r.jsx("option",{value:"2",children:"2nd Grade"}),r.jsx("option",{value:"3",children:"3rd Grade"}),r.jsx("option",{value:"4",children:"4th Grade"}),r.jsx("option",{value:"5",children:"5th Grade"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsxs("select",{className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[r.jsx("option",{value:"",children:"All Subjects"}),r.jsx("option",{value:"math",children:"Mathematics"}),r.jsx("option",{value:"science",children:"Science"}),r.jsx("option",{value:"english",children:"English"}),r.jsx("option",{value:"social",children:"Social Studies"})]})]})]}),r.jsx("div",{className:"mt-6 border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",name:"Overview",icon:Rt},{id:"students",name:"Student Progress",icon:Qe},{id:"concepts",name:"Concept Analysis",icon:Ue}].map(p=>r.jsxs("button",{onClick:()=>l(p.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${a===p.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(p.icon,{className:"w-4 h-4 mr-2"}),p.name]},p.id))})}),r.jsx("div",{className:"mt-8",children:m()})]})},Cv=()=>{const[i,n]=w.useState([]),[a,l]=w.useState([]),[o,u]=w.useState(""),[h,m]=w.useState([]);w.useEffect(()=>{(async()=>{const{data:v,error:j}=await ne.from("profiles").select("*").eq("role","teacher");j?console.error("Error fetching teachers",j):n(v||[]);const{data:N,error:_}=await ne.from("subjects").select("*");_?console.error("Error fetching subjects",_):l(N||[])})()},[]),w.useEffect(()=>{o&&(async()=>{const{data:v,error:j}=await ne.from("teacher_subject_assignments").select("subject_id").eq("teacher_id",o);j?console.error("Error fetching assigned subjects",j):m(v?.map(N=>N.subject_id)||[])})()},[o]);const p=async x=>{const{error:v}=await ne.from("teacher_subject_assignments").insert({teacher_id:o,subject_id:x});v?console.error("Error assigning subject",v):m([...h,x])},g=async x=>{const{error:v}=await ne.from("teacher_subject_assignments").delete().match({teacher_id:o,subject_id:x});v?console.error("Error unassigning subject",v):m(h.filter(j=>j!==x))};return r.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 mt-8",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Teacher-Subject Assignments"}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Teacher"}),r.jsxs("select",{onChange:x=>u(x.target.value),className:"w-full p-2 border rounded",children:[r.jsx("option",{value:"",children:"-- Select a Teacher --"}),i.map(x=>r.jsx("option",{value:x.id,children:x.name},x.id))]})]}),o&&r.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"Available Subjects"}),r.jsx("div",{className:"border rounded p-2 h-64 overflow-y-auto",children:a.filter(x=>!h.includes(x.id)).map(x=>r.jsxs("div",{className:"flex justify-between items-center p-1",children:[r.jsx("span",{children:x.name}),r.jsx("button",{onClick:()=>p(x.id),className:"text-blue-500",children:"Assign"})]},x.id))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"Assigned Subjects"}),r.jsx("div",{className:"border rounded p-2 h-64 overflow-y-auto",children:a.filter(x=>h.includes(x.id)).map(x=>r.jsxs("div",{className:"flex justify-between items-center p-1",children:[r.jsx("span",{children:x.name}),r.jsx("button",{onClick:()=>g(x.id),className:"text-red-500",children:"Unassign"})]},x.id))})]})]})]})},Ev=()=>{const[i,n]=w.useState([]),[a,l]=w.useState([]),[o,u]=w.useState([]),[h,m]=w.useState(""),[p,g]=w.useState(""),[x,v]=w.useState([]);w.useEffect(()=>{(async()=>{const{data:k,error:R}=await ne.from("grades").select("*");R?console.error("Error fetching grades",R):n(k||[]);const{data:O,error:H}=await ne.from("profiles").select("*").eq("role","student");H?console.error("Error fetching students",H):u(O||[])})()},[]),w.useEffect(()=>{h&&(async()=>{const{data:k,error:R}=await ne.from("subjects").select("*").eq("grade_id",h);R?console.error("Error fetching subjects",R):l(k||[])})()},[h]),w.useEffect(()=>{p&&(async()=>{const{data:k,error:R}=await ne.from("enrollments").select("student_id").eq("subject_id",p);R?console.error("Error fetching enrolled students",R):v(k?.map(O=>O.student_id)||[])})()},[p]);const j=async _=>{const{error:k}=await ne.from("enrollments").insert({subject_id:p,student_id:_});k?console.error("Error enrolling student",k):v([...x,_])},N=async _=>{const{error:k}=await ne.from("enrollments").delete().match({subject_id:p,student_id:_});k?console.error("Error unenrolling student",k):v(x.filter(R=>R!==_))};return r.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 mt-8",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Enrollment Management"}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Grade"}),r.jsxs("select",{onChange:_=>m(_.target.value),className:"w-full p-2 border rounded",children:[r.jsx("option",{value:"",children:"-- Select a Grade --"}),i.map(_=>r.jsx("option",{value:_.id,children:_.name},_.id))]})]}),h&&r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Subject"}),r.jsxs("select",{onChange:_=>g(_.target.value),className:"w-full p-2 border rounded",children:[r.jsx("option",{value:"",children:"-- Select a Subject --"}),a.map(_=>r.jsx("option",{value:_.id,children:_.name},_.id))]})]}),p&&r.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"Available Students"}),r.jsx("div",{className:"border rounded p-2 h-64 overflow-y-auto",children:o.filter(_=>!x.includes(_.id)).map(_=>r.jsxs("div",{className:"flex justify-between items-center p-1",children:[r.jsx("span",{children:_.name}),r.jsx("button",{onClick:()=>j(_.id),className:"text-blue-500",children:"Enroll"})]},_.id))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium",children:"Enrolled Students"}),r.jsx("div",{className:"border rounded p-2 h-64 overflow-y-auto",children:o.filter(_=>x.includes(_.id)).map(_=>r.jsxs("div",{className:"flex justify-between items-center p-1",children:[r.jsx("span",{children:_.name}),r.jsx("button",{onClick:()=>N(_.id),className:"text-red-500",children:"Unenroll"})]},_.id))})]})]})]})},Pv=()=>{const[i,n]=w.useState("general"),[a,l]=w.useState({schoolName:"Lincoln Elementary School",adminEmail:"admin@lincoln.edu",timezone:"America/New_York",academicYear:"2024-2025",allowBulkUpload:!0,requireEmailVerification:!0,enableProgressReports:!0,enableParentPortal:!1,enableAVStreaming:!0,maxStudentsPerClass:30,sessionTimeout:60,backupFrequency:"daily",dataRetention:365}),o=m=>{l(p=>({...p,[m]:!p[m]}))},u=(m,p)=>{l(g=>({...g,[m]:p}))},h=()=>{switch(i){case"general":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"School Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"School Name"}),r.jsx("input",{type:"text",value:a.schoolName,onChange:m=>u("schoolName",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),r.jsx("input",{type:"email",value:a.adminEmail,onChange:m=>u("adminEmail",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),r.jsxs("select",{value:a.timezone,onChange:m=>u("timezone",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"America/New_York",children:"Eastern Time"}),r.jsx("option",{value:"America/Chicago",children:"Central Time"}),r.jsx("option",{value:"America/Denver",children:"Mountain Time"}),r.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Academic Year"}),r.jsx("input",{type:"text",value:a.academicYear,onChange:m=>u("academicYear",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"System Limits"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Students per Class"}),r.jsx("input",{type:"number",value:a.maxStudentsPerClass,onChange:m=>u("maxStudentsPerClass",parseInt(m.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (minutes)"}),r.jsx("input",{type:"number",value:a.sessionTimeout,onChange:m=>u("sessionTimeout",parseInt(m.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]});case"features":return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Feature Toggles"}),r.jsx("div",{className:"space-y-4",children:[{key:"allowBulkUpload",label:"Allow Bulk User Upload",description:"Enable CSV/Excel bulk upload functionality"},{key:"requireEmailVerification",label:"Require Email Verification",description:"New users must verify their email before accessing the system"},{key:"enableProgressReports",label:"Enable Progress Reports",description:"Generate and distribute student progress reports"},{key:"enableParentPortal",label:"Enable Parent Portal",description:"Allow parents to view their children's progress"},{key:"enableAVStreaming",label:"Enable AV Streaming",description:"Allow teachers to stream content to classrooms"}].map(m=>r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-200 last:border-b-0",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:m.label})}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:m.description})]}),r.jsx("button",{onClick:()=>o(m.key),className:"ml-4 flex-shrink-0",children:a[m.key]?r.jsx(dv,{className:"h-6 w-6 text-blue-600"}):r.jsx(uv,{className:"h-6 w-6 text-gray-400"})})]},m.key))})]})});case"security":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Authentication Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Policy"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",defaultChecked:!0}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Minimum 8 characters"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",defaultChecked:!0}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Require uppercase and lowercase letters"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",defaultChecked:!0}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Require at least one number"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Require special characters"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Two-Factor Authentication"}),r.jsxs("select",{className:"w-full md:w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"optional",children:"Optional"}),r.jsx("option",{value:"required",children:"Required for all users"}),r.jsx("option",{value:"admin_only",children:"Required for admins only"}),r.jsx("option",{value:"disabled",children:"Disabled"})]})]})]})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Privacy Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Retention Period (days)"}),r.jsx("input",{type:"number",value:a.dataRetention,onChange:m=>u("dataRetention",parseInt(m.target.value)),className:"w-full md:w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"How long to keep inactive user data"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cookie Policy"}),r.jsxs("select",{className:"w-full md:w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"essential",children:"Essential cookies only"}),r.jsx("option",{value:"functional",children:"Essential + Functional"}),r.jsx("option",{value:"all",children:"All cookies (including analytics)"})]})]})]})]})]});case"integrations":return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"External Integrations"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Google Workspace"}),r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Connected"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Sync users and classes with Google Classroom"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Configure"}),r.jsx("button",{className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Disconnect"})]})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Microsoft Teams"}),r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Not Connected"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Enable single sign-on and class synchronization"}),r.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Connect"})]}),r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Student Information System"}),r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"Not Connected"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Import student data from your SIS"}),r.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Configure"})]})]})]})});case"backup":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Backup Configuration"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backup Frequency"}),r.jsxs("select",{value:a.backupFrequency,onChange:m=>u("backupFrequency",m.target.value),className:"w-full md:w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"hourly",children:"Hourly"}),r.jsx("option",{value:"daily",children:"Daily"}),r.jsx("option",{value:"weekly",children:"Weekly"}),r.jsx("option",{value:"monthly",children:"Monthly"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backup Retention"}),r.jsxs("select",{className:"w-full md:w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"7",children:"7 days"}),r.jsx("option",{value:"30",children:"30 days"}),r.jsx("option",{value:"90",children:"90 days"}),r.jsx("option",{value:"365",children:"1 year"})]})]})]})]}),r.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Backups"}),r.jsx("div",{className:"space-y-3",children:[{date:"2024-01-15 02:00 AM",size:"2.4 GB",status:"Success"},{date:"2024-01-14 02:00 AM",size:"2.3 GB",status:"Success"},{date:"2024-01-13 02:00 AM",size:"2.3 GB",status:"Success"},{date:"2024-01-12 02:00 AM",size:"2.2 GB",status:"Failed"}].map((m,p)=>r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-200 last:border-b-0",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.date}),r.jsx("div",{className:"text-sm text-gray-500",children:m.size})]}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m.status==="Success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.status})]},p))}),r.jsx("div",{className:"mt-4",children:r.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[r.jsx(rv,{className:"w-4 h-4 mr-2"}),"Create Backup Now"]})})]})]});default:return null}};return r.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:flex sm:items-center",children:[r.jsxs("div",{className:"sm:flex-auto",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),r.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Configure system-wide settings, security policies, and integrations."})]}),r.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:r.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:[r.jsx(sv,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]}),r.jsx("div",{className:"mt-6 border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"general",name:"General",icon:Vn},{id:"features",name:"Features",icon:Gr},{id:"security",name:"Security",icon:av},{id:"integrations",name:"Integrations",icon:Ds},{id:"backup",name:"Backup",icon:Hy}].map(m=>r.jsxs("button",{onClick:()=>n(m.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${i===m.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(m.icon,{className:"w-4 h-4 mr-2"}),m.name]},m.id))})}),r.jsx("div",{className:"mt-8",children:h()})]})},Tv=({user:i,onLogout:n})=>{const[a,l]=w.useState("overview"),o=[{name:"Overview",icon:Rt,current:a==="overview",onClick:()=>l("overview")},{name:"User Management",icon:Qe,current:a==="users",onClick:()=>l("users")},{name:"Course Management",icon:Ue,current:a==="courses",onClick:()=>l("courses")},{name:"Content Integration",icon:Ut,current:a==="content",onClick:()=>l("content")},{name:"Analytics & Reports",icon:Rt,current:a==="analytics",onClick:()=>l("analytics")},{name:"Teacher-Subject Assignments",icon:Qe,current:a==="teacher-subject",onClick:()=>l("teacher-subject")},{name:"Enrollment Management",icon:Qe,current:a==="enrollment",onClick:()=>l("enrollment")},{name:"System Settings",icon:Vn,current:a==="settings",onClick:()=>l("settings")}],u=()=>{switch(a){case"users":return r.jsx(bv,{});case"courses":return r.jsx(kv,{});case"content":return r.jsx(_v,{});case"analytics":return r.jsx(Sv,{});case"teacher-subject":return r.jsx(Cv,{});case"enrollment":return r.jsx(Ev,{});case"settings":return r.jsx(Pv,{});default:return r.jsx(Av,{setCurrentView:l})}};return r.jsx(_i,{user:i,navigation:o,onLogout:n,children:u()})},Av=({setCurrentView:i})=>{const[n,a]=w.useState([{name:"Total Users",value:"-",change:"",icon:Qe,color:"bg-gradient-to-br from-blue-500 to-blue-600"},{name:"Active Students",value:"-",change:"",icon:Zh,color:"bg-gradient-to-br from-green-500 to-green-600"},{name:"Courses",value:"-",change:"",icon:Ue,color:"bg-gradient-to-br from-purple-500 to-purple-600"},{name:"Content Items",value:"-",change:"",icon:Ds,color:"bg-gradient-to-br from-orange-500 to-orange-600"}]);return w.useEffect(()=>{async function l(){try{const[o,u,h,m]=await Promise.all([ne.from("profiles").select("id"),ne.from("profiles").select("id").eq("role","student"),ne.from("courses").select("id"),ne.from("contents").select("id")]);a([{name:"Total Users",value:o.data?.length.toString()??"0",change:"+12%",icon:Qe,color:"bg-blue-500"},{name:"Active Students",value:u.data?.length.toString()??"0",change:"+8%",icon:Zh,color:"bg-green-500"},{name:"Courses",value:h.data?.length.toString()??"0",change:"+3%",icon:Ue,color:"bg-purple-500"},{name:"Content Items",value:m.data?.length.toString()??"0",change:"+15%",icon:Ds,color:"bg-orange-500"}])}catch(o){console.error("Error fetching stats:",o)}}l()},[]),r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8 animate-fade-in",children:[r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Admin Dashboard"}),r.jsx("p",{className:"mt-2 text-gray-600 text-lg",children:"Welcome back! Here's what's happening in your school."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:n.map((l,o)=>r.jsx("div",{className:"group bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300 transform hover:scale-105 animate-fade-in",style:{animationDelay:`${o*100}ms`,animationFillMode:"forwards"},children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex-shrink-0 p-3 rounded-xl ${l.color} shadow-lg group-hover:scale-110 transition-transform duration-200`,children:r.jsx(l.icon,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 group-hover:text-gray-800 transition-colors",children:l.name}),r.jsxs("div",{className:"flex items-baseline",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:l.value}),r.jsx("p",{className:"ml-2 text-sm font-medium text-green-600",children:l.change})]})]})]})},l.name))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 animate-fade-in",style:{animationDelay:"400ms",animationFillMode:"forwards"},children:[r.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50 rounded-t-2xl",children:r.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[r.jsx(Gr,{className:"h-5 w-5 mr-2 text-blue-600"}),"Recent Activity"]})}),r.jsx("div",{className:"p-6 space-y-4",children:[{action:"New teacher registered",user:"Sarah Johnson",time:"2 hours ago",color:"text-green-600"},{action:'Course "Advanced Math" updated',user:"Mike Davis",time:"4 hours ago",color:"text-blue-600"},{action:"Bulk student upload completed",user:"Admin",time:"6 hours ago",color:"text-purple-600"},{action:"Content integration added",user:"Lisa Chen",time:"1 day ago",color:"text-orange-600"}].map((l,o)=>r.jsxs("div",{className:"flex items-start p-3 rounded-xl hover:bg-gradient-to-r hover:from-blue-50 hover:to-purple-50 transition-all duration-200 group",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"p-2 rounded-full bg-gray-100 group-hover:bg-white group-hover:shadow-md transition-all duration-200",children:r.jsx(Gr,{className:`h-4 w-4 ${l.color} group-hover:scale-110 transition-transform duration-200`})})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-600 transition-colors",children:l.action}),r.jsxs("p",{className:"text-xs text-gray-500",children:["by ",l.user,"  ",l.time]})]})]},o))})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 animate-fade-in",style:{animationDelay:"500ms",animationFillMode:"forwards"},children:[r.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-blue-50 rounded-t-2xl",children:r.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[r.jsx(Vn,{className:"h-5 w-5 mr-2 text-green-600"}),"Quick Actions"]})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("button",{className:"group bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 p-6 rounded-2xl text-center transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-lg",onClick:()=>i("users"),children:[r.jsx("div",{className:"p-3 bg-blue-500 rounded-xl mx-auto mb-3 w-fit group-hover:scale-110 transition-transform duration-200",children:r.jsx(Qe,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Add Users"}),r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Manage user accounts"})]}),r.jsxs("button",{className:"group bg-gradient-to-br from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 p-6 rounded-2xl text-center transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-lg",onClick:()=>i("courses"),children:[r.jsx("div",{className:"p-3 bg-green-500 rounded-xl mx-auto mb-3 w-fit group-hover:scale-110 transition-transform duration-200",children:r.jsx(Ue,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-sm font-bold text-green-900",children:"Create Course"}),r.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Add new courses"})]}),r.jsxs("button",{className:"group bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 p-6 rounded-2xl text-center transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-lg",onClick:()=>i("content"),children:[r.jsx("div",{className:"p-3 bg-purple-500 rounded-xl mx-auto mb-3 w-fit group-hover:scale-110 transition-transform duration-200",children:r.jsx(Ut,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-sm font-bold text-purple-900",children:"Add Content"}),r.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Upload materials"})]}),r.jsxs("button",{className:"group bg-gradient-to-br from-orange-50 to-orange-100 hover:from-orange-100 hover:to-orange-200 p-6 rounded-2xl text-center transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-lg",onClick:()=>i("analytics"),children:[r.jsx("div",{className:"p-3 bg-orange-500 rounded-xl mx-auto mb-3 w-fit group-hover:scale-110 transition-transform duration-200",children:r.jsx(Rt,{className:"h-6 w-6 text-white"})}),r.jsx("p",{className:"text-sm font-bold text-orange-900",children:"View Reports"}),r.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Analytics dashboard"})]})]})})]})]})]})},Rv=()=>{const[i,n]=w.useState(!1),[a,l]=w.useState("class"),[o,u]=w.useState([]),h=[{id:"1",name:"Math 101 - Period 1",students:28,grade:"5th"},{id:"2",name:"Math 101 - Period 3",students:25,grade:"5th"},{id:"3",name:"Algebra II - Period 5",students:24,grade:"9th"}],m=[{id:"1",name:"Emma Wilson",class:"Math 101 - Period 1",progress:85},{id:"2",name:"James Rodriguez",class:"Math 101 - Period 1",progress:92},{id:"3",name:"Sophia Chen",class:"Math 101 - Period 1",progress:78},{id:"4",name:"Michael Brown",class:"Math 101 - Period 3",progress:88}],p=[{id:"1",title:"Integer Operations",subject:"Mathematics",chapter:"Number Systems",difficulty:"Intermediate",estimatedTime:25,contentSources:["Khan Academy","IXL","YouTube"]},{id:"2",title:"Fraction Addition",subject:"Mathematics",chapter:"Number Systems",difficulty:"Beginner",estimatedTime:20,contentSources:["Khan Academy","Desmos"]},{id:"3",title:"Decimal Operations",subject:"Mathematics",chapter:"Number Systems",difficulty:"Intermediate",estimatedTime:30,contentSources:["IXL","Custom"]}],g=[{id:"1",concept:"Integer Operations",assignedTo:"Math 101 - Period 1",assignedDate:"2024-01-10",dueDate:"2024-01-17",completed:18,total:28,averageScore:82},{id:"2",concept:"Fraction Addition",assignedTo:"Math 101 - Period 3",assignedDate:"2024-01-12",dueDate:"2024-01-19",completed:15,total:25,averageScore:89}],x=()=>r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 shadow-lg rounded-lg bg-white max-h-[80vh] overflow-y-auto",children:r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Create New Assignment"}),r.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("form",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Assignment Type"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("label",{className:"relative",children:[r.jsx("input",{type:"radio",name:"assignmentType",value:"class",checked:a==="class",onChange:v=>l(v.target.value),className:"sr-only"}),r.jsxs("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-colors ${a==="class"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[r.jsx("div",{className:"flex items-center justify-center mb-2",children:r.jsx(Qe,{className:"w-8 h-8 text-blue-600"})}),r.jsx("p",{className:"text-sm font-medium text-gray-900 text-center",children:"Entire Class"})]})]}),r.jsxs("label",{className:"relative",children:[r.jsx("input",{type:"radio",name:"assignmentType",value:"individual",checked:a==="individual",onChange:v=>l(v.target.value),className:"sr-only"}),r.jsxs("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-colors ${a==="individual"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[r.jsx("div",{className:"flex items-center justify-center mb-2",children:r.jsx(Hf,{className:"w-8 h-8 text-green-600"})}),r.jsx("p",{className:"text-sm font-medium text-gray-900 text-center",children:"Individual Students"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a==="class"?"Select Class":"Select Students"}),a==="class"?r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Choose a class"}),h.map(v=>r.jsxs("option",{value:v.id,children:[v.name," (",v.students," students)"]},v.id))]}):r.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-48 overflow-y-auto",children:m.map(v=>r.jsxs("label",{className:"flex items-center py-2",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.name}),r.jsx("div",{className:"text-xs text-gray-500",children:v.class})]})]},v.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Concepts"}),r.jsxs("div",{className:"border border-gray-300 rounded-lg",children:[r.jsx("div",{className:"p-3 border-b border-gray-200",children:r.jsxs("div",{className:"relative",children:[r.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search concepts...",className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})}),r.jsx("div",{className:"max-h-64 overflow-y-auto",children:p.map(v=>r.jsxs("label",{className:"flex items-start p-4 border-b border-gray-100 last:border-b-0 hover:bg-gray-50",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mt-1 mr-3",checked:o.includes(v.id),onChange:j=>{j.target.checked?u([...o,v.id]):u(o.filter(N=>N!==v.id))}}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.title}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[v.chapter,"  ",v.difficulty,"  ",v.estimatedTime," min"]}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:v.contentSources.map((j,N)=>r.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:j},N))})]})]},v.id))})]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Assignment Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),r.jsxs("div",{className:"relative",children:[r.jsx(Fs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"date",className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"normal",children:"Normal"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"low",children:"Low"})]})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assignment Instructions"}),r.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Provide specific instructions for students..."})]})]}),r.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Content Provider Preferences"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Set the order of content providers for each concept"}),r.jsx("div",{className:"space-y-3",children:o.map(v=>{const j=p.find(N=>N.id===v);return j?r.jsxs("div",{className:"bg-white rounded-lg p-3",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:j.title}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Primary"}),r.jsx("select",{className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-blue-500",children:j.contentSources.map(N=>r.jsx("option",{value:N,children:N},N))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Secondary"}),r.jsx("select",{className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-blue-500",children:j.contentSources.map(N=>r.jsx("option",{value:N,children:N},N))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Fallback"}),r.jsxs("select",{className:"w-full px-2 py-1 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"fallback",children:"Fallback URL"}),r.jsx("option",{value:"offline",children:"Offline Materials"})]})]})]})]},v):null})})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsxs("button",{type:"submit",className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700",children:[r.jsx(nv,{className:"w-4 h-4 mr-2"}),"Create Assignment"]})]})]})]})})});return r.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:flex sm:items-center",children:[r.jsxs("div",{className:"sm:flex-auto",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Concept Assignment"}),r.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Assign concepts to your classes or individual students with customized content preferences."})]}),r.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:r.jsxs("button",{onClick:()=>n(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:[r.jsx(Xn,{className:"w-4 h-4 mr-2"}),"New Assignment"]})})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Active Assignments"}),r.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concept"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Score"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(v=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Lt,{className:"h-8 w-8 text-blue-600 bg-blue-100 rounded-lg p-2 mr-3"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.concept}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Assigned ",v.assignedDate]})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.assignedTo}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${v.completed/v.total*100}%`}})}),r.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[v.completed,"/",v.total," completed"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(Fs,{className:"w-4 h-4 mr-1"}),v.dueDate]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v.averageScore>=85?"bg-green-100 text-green-800":v.averageScore>=75?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[v.averageScore,"%"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{className:"text-blue-600 hover:text-blue-900 text-sm",children:"View Details"}),r.jsx("button",{className:"text-green-600 hover:text-green-900 text-sm",children:"Push to AV"})]})})]},v.id))})]})})})]}),i&&r.jsx(x,{})]})},Lv=()=>{const[i,n]=w.useState(!1),[a,l]=w.useState(!1),[o,u]=w.useState(75),[h,m]=w.useState(0),[p,g]=w.useState(!1),x=[{id:"1",title:"Math Week 3 - Fractions",description:"Complete fraction operations unit",class:"Math 101 - Period 1",scheduledFor:"2024-01-15 10:30 AM",duration:45,itemCount:4,status:"scheduled"},{id:"2",title:"Algebra Basics Review",description:"Review session before test",class:"Algebra II - Period 5",scheduledFor:"2024-01-15 1:15 PM",duration:30,itemCount:3,status:"active"}],v=[{id:"1",title:"Introduction to Fractions",type:"video",duration:12,source:"Khan Academy",url:"https://youtube.com/watch?v=example1"},{id:"2",title:"Adding Fractions with Same Denominator",type:"interactive",duration:15,source:"IXL",url:"https://ixl.com/fractions-add"},{id:"3",title:"Practice Problems",type:"assessment",duration:10,source:"Custom",url:"/custom/fraction-practice"},{id:"4",title:"Fraction Games",type:"game",duration:8,source:"Desmos",url:"https://desmos.com/fraction-games"}],j=[{id:"1",name:"Math 101 - Period 1",room:"Room 204",students:28,status:"connected"},{id:"2",name:"Math 101 - Period 3",room:"Room 204",students:25,status:"disconnected"},{id:"3",name:"Algebra II - Period 5",room:"Room 206",students:24,status:"connected"}],N=()=>r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 shadow-lg rounded-lg bg-white max-h-[80vh] overflow-y-auto",children:r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Create AV Playlist"}),r.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("form",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Playlist Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Playlist Title"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Math Week 4 - Decimals"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Class"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select a class"}),r.jsx("option",{value:"1",children:"Math 101 - Period 1"}),r.jsx("option",{value:"2",children:"Math 101 - Period 3"}),r.jsx("option",{value:"3",children:"Algebra II - Period 5"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),r.jsx("textarea",{rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the playlist content"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled Date & Time"}),r.jsx("input",{type:"datetime-local",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Duration (min)"}),r.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"45"})]})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Playlist Content"}),r.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"+ Add Content Item"})]}),r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content Title"}),r.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Introduction Video"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[r.jsx("option",{value:"video",children:"Video"}),r.jsx("option",{value:"interactive",children:"Interactive"}),r.jsx("option",{value:"assessment",children:"Assessment"}),r.jsx("option",{value:"game",children:"Game/Activity"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (min)"}),r.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"12"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[r.jsx("option",{value:"youtube",children:"YouTube"}),r.jsx("option",{value:"khan",children:"Khan Academy"}),r.jsx("option",{value:"ixl",children:"IXL"}),r.jsx("option",{value:"desmos",children:"Desmos"}),r.jsx("option",{value:"custom",children:"Custom"})]})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content URL"}),r.jsx("input",{type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"https://youtube.com/watch?v=..."})]})]})})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700",children:"Create Playlist"})]})]})]})})});return r.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:flex sm:items-center",children:[r.jsxs("div",{className:"sm:flex-auto",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AV Streaming Control"}),r.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Manage and stream educational content to your classrooms in real-time."})]}),r.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:r.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:[r.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Create Playlist"]})})]}),r.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Now Playing"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Zy,{className:"w-5 h-5 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Room 204"})]})]}),r.jsx("div",{className:"bg-gray-100 rounded-lg aspect-video flex items-center justify-center mb-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ut,{className:"h-16 w-16 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-600 font-medium",children:v[h]?.title}),r.jsx("p",{className:"text-sm text-gray-500",children:v[h]?.source})]})}),r.jsxs("div",{className:"flex items-center justify-center space-x-6 mb-4",children:[r.jsx("button",{onClick:()=>m(Math.max(0,h-1)),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors",disabled:h===0,children:r.jsx(iv,{className:"w-6 h-6 text-gray-600"})}),r.jsx("button",{onClick:()=>n(!i),className:"p-4 rounded-full bg-blue-600 hover:bg-blue-700 transition-colors",children:i?r.jsx(ev,{className:"w-8 h-8 text-white"}):r.jsx(Ut,{className:"w-8 h-8 text-white"})}),r.jsx("button",{onClick:()=>m(Math.min(v.length-1,h+1)),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors",disabled:h===v.length-1,children:r.jsx(lv,{className:"w-6 h-6 text-gray-600"})})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>l(!a),children:a?r.jsx(fv,{className:"w-5 h-5 text-gray-400"}):r.jsx(hv,{className:"w-5 h-5 text-gray-400"})}),r.jsx("div",{className:"flex-1",children:r.jsx("input",{type:"range",min:"0",max:"100",value:a?0:o,onChange:_=>u(parseInt(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})}),r.jsx("span",{className:"text-sm text-gray-500 w-8",children:a?0:o})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Current Playlist"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Qy,{className:"w-5 h-5 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-600",children:[v.length," items"]})]})]}),r.jsx("div",{className:"space-y-2",children:v.map((_,k)=>r.jsxs("div",{className:`flex items-center p-3 rounded-lg cursor-pointer transition-colors ${k===h?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,onClick:()=>m(k),children:[r.jsx("div",{className:"flex-shrink-0 mr-3",children:r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${k===h?"bg-blue-600":"bg-gray-200"}`,children:r.jsx("span",{className:`text-sm font-medium ${k===h?"text-white":"text-gray-600"}`,children:k+1})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.title}),r.jsxs("div",{className:"text-xs text-gray-500",children:[_.source,"  ",_.duration," min  ",_.type]})]}),k===h&&i&&r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-pulse"})})]},_.id))})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Connected Classes"}),r.jsx("div",{className:"space-y-3",children:j.map(_=>r.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:[_.room,"  ",_.students," students"]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${_.status==="connected"?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:`text-xs font-medium ${_.status==="connected"?"text-green-700":"text-red-700"}`,children:_.status})]})]},_.id))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Scheduled Playlists"}),r.jsx("div",{className:"space-y-3",children:x.map(_=>r.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.title}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${_.status==="active"?"bg-green-100 text-green-800":_.status==="scheduled"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:_.status})]}),r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:_.class}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[r.jsx(Fs,{className:"w-3 h-3 mr-1"}),r.jsx("span",{className:"mr-3",children:_.scheduledFor}),r.jsx(dt,{className:"w-3 h-3 mr-1"}),r.jsxs("span",{children:[_.duration," min"]})]}),_.status==="scheduled"&&r.jsx("button",{className:"mt-2 w-full px-3 py-1 text-xs font-medium text-blue-700 bg-blue-50 rounded hover:bg-blue-100",children:"Start Now"})]},_.id))})]})]})]}),p&&r.jsx(N,{})]})},Iv=()=>{const[i,n]=w.useState("all"),[a,l]=w.useState(""),[o,u]=w.useState("all"),h=[{id:"1",name:"Math 101 - Period 1",students:28},{id:"2",name:"Math 101 - Period 3",students:25},{id:"3",name:"Algebra II - Period 5",students:24}],m=[{id:"1",name:"Integer Operations"},{id:"2",name:"Fraction Addition"},{id:"3",name:"Decimal Operations"},{id:"4",name:"Geometry Basics"}],p=[{id:"1",name:"Emma Wilson",class:"Math 101 - Period 1",avatar:"EW",totalConcepts:12,completedConcepts:10,averageScore:88,timeSpent:245,lastActivity:"2024-01-15 2:30 PM",strugglingConcepts:["Geometry Basics"],status:"on_track"},{id:"2",name:"James Rodriguez",class:"Math 101 - Period 1",avatar:"JR",totalConcepts:12,completedConcepts:12,averageScore:94,timeSpent:198,lastActivity:"2024-01-15 3:15 PM",strugglingConcepts:[],status:"ahead"},{id:"3",name:"Sophia Chen",class:"Math 101 - Period 1",avatar:"SC",totalConcepts:12,completedConcepts:8,averageScore:76,timeSpent:312,lastActivity:"2024-01-15 1:45 PM",strugglingConcepts:["Integer Operations","Fraction Addition"],status:"needs_attention"},{id:"4",name:"Michael Brown",class:"Math 101 - Period 3",avatar:"MB",totalConcepts:12,completedConcepts:9,averageScore:82,timeSpent:267,lastActivity:"2024-01-15 11:20 AM",strugglingConcepts:["Decimal Operations"],status:"on_track"}],g=[{concept:"Integer Operations",totalStudents:77,completed:65,inProgress:8,notStarted:4,averageScore:84,averageTime:28,strugglingStudents:6},{concept:"Fraction Addition",totalStudents:77,completed:58,inProgress:12,notStarted:7,averageScore:79,averageTime:32,strugglingStudents:9},{concept:"Decimal Operations",totalStudents:77,completed:45,inProgress:18,notStarted:14,averageScore:81,averageTime:35,strugglingStudents:8}],x=N=>{switch(N){case"ahead":return"bg-green-100 text-green-800";case"on_track":return"bg-blue-100 text-blue-800";case"needs_attention":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=N=>{switch(N){case"ahead":return r.jsx(qy,{className:"w-4 h-4 text-green-600"});case"on_track":return r.jsx(Lt,{className:"w-4 h-4 text-blue-600"});case"needs_attention":return r.jsx(By,{className:"w-4 h-4 text-red-600"});default:return r.jsx(Lt,{className:"w-4 h-4 text-gray-600"})}},j=p.filter(N=>{const _=N.name.toLowerCase().includes(a.toLowerCase()),k=i==="all"||N.class.includes(i);return _&&k});return r.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:flex sm:items-center",children:[r.jsxs("div",{className:"sm:flex-auto",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Progress"}),r.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Monitor individual student progress and identify students who need additional support."})]}),r.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:r.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500",children:[r.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Generate Report"]})})]}),r.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Cr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search students...",value:a,onChange:N=>l(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsxs("select",{value:i,onChange:N=>n(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[r.jsx("option",{value:"all",children:"All Classes"}),h.map(N=>r.jsx("option",{value:N.name,children:N.name},N.id))]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsxs("select",{value:o,onChange:N=>u(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[r.jsx("option",{value:"all",children:"All Concepts"}),m.map(N=>r.jsx("option",{value:N.name,children:N.name},N.id))]})]}),r.jsx("div",{className:"relative",children:r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"ahead",children:"Ahead"}),r.jsx("option",{value:"on_track",children:"On Track"}),r.jsx("option",{value:"needs_attention",children:"Needs Attention"})]})})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Concept Progress Overview"}),r.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concept"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Score"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Struggling"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((N,_)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.concept})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-1",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${N.completed/N.totalStudents*100}%`}})}),r.jsxs("div",{className:"text-xs text-gray-500",children:[N.completed,"/",N.totalStudents," completed (",N.inProgress," in progress)"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N.averageScore>=85?"bg-green-100 text-green-800":N.averageScore>=75?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[N.averageScore,"%"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(dt,{className:"w-4 h-4 mr-1 text-gray-400"}),N.averageTime," min"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N.strugglingStudents<=3?"bg-green-100 text-green-800":N.strugglingStudents<=6?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[N.strugglingStudents," students"]})})]},_))})]})})})]}),r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Individual Student Progress"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(N=>r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-600 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-white",children:N.avatar})}),r.jsxs("div",{className:"ml-3",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.name}),r.jsx("div",{className:"text-xs text-gray-500",children:N.class})]})]}),r.jsxs("div",{className:"flex items-center",children:[v(N.status),r.jsx("span",{className:`ml-1 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(N.status)}`,children:N.status.replace("_"," ")})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Progress"}),r.jsxs("span",{className:"font-medium",children:[N.completedConcepts,"/",N.totalConcepts]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${N.completedConcepts/N.totalConcepts*100}%`}})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Average Score"}),r.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[N.averageScore,"%"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Time Spent"}),r.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[N.timeSpent,"m"]})]})]}),N.strugglingConcepts.length>0&&r.jsxs("div",{children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Struggling With"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:N.strugglingConcepts.map((_,k)=>r.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-red-100 text-red-700 rounded",children:_},k))})]}),r.jsx("div",{className:"pt-3 border-t border-gray-200",children:r.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[r.jsx(dt,{className:"w-3 h-3 mr-1"}),"Last active: ",N.lastActivity]})}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{className:"flex-1 px-3 py-2 text-xs font-medium text-blue-700 bg-blue-50 rounded hover:bg-blue-100",children:"View Details"}),r.jsx("button",{className:"flex-1 px-3 py-2 text-xs font-medium text-green-700 bg-green-50 rounded hover:bg-green-100",children:"Push Content"})]})]})]},N.id))})]})]})},Ov=({user:i,onLogout:n})=>{const[a,l]=w.useState("overview");if(!i)return r.jsx("div",{children:"Please login to access this page."});const o=[{name:"Overview",icon:Rt,current:a==="overview",onClick:()=>l("overview")},{name:"Assign Concepts",icon:Ue,current:a==="assign",onClick:()=>l("assign")},{name:"AV Streaming",icon:Ut,current:a==="streaming",onClick:()=>l("streaming")},{name:"Student Progress",icon:Qe,current:a==="progress",onClick:()=>l("progress")}],u=()=>{switch(a){case"assign":return r.jsx(Rv,{});case"streaming":return r.jsx(Lv,{});case"progress":return r.jsx(Iv,{});default:return r.jsx($v,{onQuickNavigate:l})}};return r.jsx(_i,{user:i,navigation:o,onLogout:n,children:u()})},$v=({onQuickNavigate:i})=>{const[n,a]=w.useState([]),[l,o]=w.useState([]),[u,h]=w.useState([]);return w.useEffect(()=>{async function m(){const{data:{user:p},error:g}=await ne.auth.getUser();if(g||!p){console.error("User not authenticated or error fetching user:",g);return}const x=p.id,[v,j,N,_,k]=await Promise.all([ne.from("profiles").select("id",{count:"exact"}).eq("role","student"),ne.from("assignments").select("id",{count:"exact"}).eq("teacher_id",x).eq("status","assigned"),ne.from("assignments").select("id",{count:"exact"}).eq("teacher_id",x).eq("status","completed"),ne.from("activity_logs").select("action, timestamp, assignments!inner(student_id, student:student_id(name))").eq("assignments.teacher_id",x).order("timestamp",{ascending:!1}).limit(4),ne.from("av_sessions").select("*").eq("teacher_id",x).gte("started_at",new Date().toISOString().slice(0,10)).order("started_at",{ascending:!0}).limit(3)]);a([{name:"Total Students",value:v.count||0,icon:Qe,color:"bg-gradient-to-br from-blue-500 to-blue-600"},{name:"Assigned Concepts",value:j.count||0,icon:Ue,color:"bg-gradient-to-br from-green-500 to-green-600"},{name:"Completed Concepts",value:N.count||0,icon:Er,color:"bg-gradient-to-br from-purple-500 to-purple-600"},{name:"Today's Sessions",value:k.data?.length||0,icon:dt,color:"bg-gradient-to-br from-orange-500 to-orange-600"}]),o(_.data?.map(R=>({student:R.student.name,action:R.action,time:new Date(R.timestamp).toLocaleTimeString()}))||[]),h(k.data||[])}m()},[]),r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 px-4 sm:px-6 lg:px-8 scroll-smooth",children:[r.jsxs("div",{className:"mb-8 animate-slide-in-up",children:[r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent animate-fade-in-scale",children:"Teacher Dashboard"}),r.jsx("p",{className:"mt-2 text-gray-600 text-lg animate-slide-in-left delay-200",children:"Welcome! Here's a snapshot of your classroom activity for today."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:n.map((m,p)=>r.jsx("div",{className:`group bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover-lift hover-glow cursor-pointer animate-bounce-in delay-${(p+1)*100}`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex-shrink-0 p-4 rounded-xl ${m.color} shadow-lg group-hover:animate-pulse transition-all duration-300`,children:r.jsx(m.icon,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 group-hover:text-gray-700 transition-colors",children:m.name}),r.jsx("div",{className:"flex items-baseline",children:r.jsx("p",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:m.value})}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2 overflow-hidden",children:r.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-blue-500 h-2 rounded-full animate-shimmer transition-all duration-1000",style:{width:`${70+p*8}%`}})})]})]})},m.name))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden animate-slide-in-left",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 p-6 text-white",children:r.jsxs("h3",{className:"text-xl font-bold flex items-center",children:[r.jsx(dt,{className:"w-6 h-6 mr-3 animate-pulse"}),"Today's Sessions"]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[u.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(dt,{className:"w-12 h-12 text-gray-300 mx-auto mb-3 animate-pulse"}),r.jsx("p",{className:"text-gray-500 animate-fade-in",children:"No sessions scheduled for today."})]}),u.map((m,p)=>r.jsxs("div",{className:`group flex items-center justify-between p-5 rounded-xl bg-gradient-to-r from-gray-50 to-purple-50 hover:from-purple-50 hover:to-blue-50 transition-all duration-300 transform hover:translate-x-2 animate-slide-in-up delay-${(p+1)*100}`,children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-400 to-blue-500 flex items-center justify-center animate-pulse-glow mr-4",children:r.jsx(dt,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-bold text-gray-900 block",children:new Date(m.started_at).toLocaleTimeString()}),r.jsx("h4",{className:"text-sm font-medium text-gray-600 mt-1",children:m.topic||"Live Session"})]})]}),r.jsx("button",{onClick:()=>i("streaming"),className:"px-4 py-2 text-sm font-bold text-purple-700 bg-purple-100 rounded-full hover:bg-purple-200 hover:scale-105 transition-all duration-200 group-hover:animate-bounce",children:"Join"})]},p))]})]}),r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 animate-slide-in-right",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-600 p-6 text-white",children:r.jsxs("h3",{className:"text-xl font-bold flex items-center",children:[r.jsx(Gr,{className:"w-6 h-6 mr-3 animate-pulse"}),"Recent Student Activity"]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[l.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Gr,{className:"w-12 h-12 text-gray-300 mx-auto mb-3 animate-pulse"}),r.jsx("p",{className:"text-gray-500 animate-fade-in",children:"No recent activity to display."})]}),l.map((m,p)=>r.jsxs("div",{className:`flex items-start p-4 rounded-lg bg-gradient-to-r from-gray-50 to-blue-50 hover:from-blue-50 hover:to-green-50 transition-all duration-300 transform hover:translate-x-2 animate-slide-in-up delay-${(p+1)*100}`,children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-400 to-green-500 flex items-center justify-center animate-pulse-glow",children:r.jsx(Gr,{className:"h-5 w-5 text-white"})})}),r.jsxs("div",{className:"ml-4",children:[r.jsxs("p",{className:"text-sm font-medium hover:text-blue-600 transition-colors",children:[r.jsx("span",{className:"font-bold text-green-600",children:m.student})," ",m.action]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m.time})]})]},p))]})]})]}),r.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-xl border border-gray-100 animate-slide-in-up delay-300",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-500 to-purple-600 p-6 text-white rounded-t-2xl",children:r.jsx("h3",{className:"text-xl font-bold",children:"Quick Actions"})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[r.jsxs("button",{onClick:()=>i("assign"),className:"group relative overflow-hidden bg-gradient-to-br from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 p-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover-glow cursor-magic",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 animate-shimmer"}),r.jsx(Ue,{className:"h-8 w-8 text-green-700 mx-auto mb-2 group-hover:animate-bounce"}),r.jsx("p",{className:"text-sm font-bold text-green-900 group-hover:text-green-700",children:"Assign Concepts"})]}),r.jsxs("button",{onClick:()=>i("streaming"),className:"group relative overflow-hidden bg-gradient-to-br from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 p-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover-glow cursor-magic",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 animate-shimmer"}),r.jsx(Ut,{className:"h-8 w-8 text-blue-700 mx-auto mb-2 group-hover:animate-bounce"}),r.jsx("p",{className:"text-sm font-bold text-blue-900 group-hover:text-blue-700",children:"AV Streaming"})]}),r.jsxs("button",{onClick:()=>i("progress"),className:"group relative overflow-hidden bg-gradient-to-br from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 p-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover-glow cursor-magic",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 animate-shimmer"}),r.jsx(Qe,{className:"h-8 w-8 text-purple-700 mx-auto mb-2 group-hover:animate-bounce"}),r.jsx("p",{className:"text-sm font-bold text-purple-900 group-hover:text-purple-700",children:"Student Progress"})]}),r.jsxs("button",{className:"group relative overflow-hidden bg-gradient-to-br from-orange-50 to-orange-100 hover:from-orange-100 hover:to-orange-200 p-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover-glow cursor-magic",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 animate-shimmer"}),r.jsx(Rt,{className:"h-8 w-8 text-orange-700 mx-auto mb-2 group-hover:animate-bounce"}),r.jsx("p",{className:"text-sm font-bold text-orange-900 group-hover:text-orange-700",children:"Analytics"})]})]})})]})]})},Mv=()=>{const[i,n]=w.useState(""),[a,l]=w.useState("all"),[o,u]=w.useState("all"),[h,m]=w.useState(null),p=[{id:"1",title:"Decimal Operations",subject:"Mathematics",chapter:"Number Systems",description:"Learn to add, subtract, multiply, and divide decimal numbers",estimatedTime:25,difficulty:"Intermediate",dueDate:"2024-01-16",progress:0,status:"assigned",priority:"high",contentSources:[{type:"video",provider:"Khan Academy",url:"#",title:"Introduction to Decimals"},{type:"interactive",provider:"IXL",url:"#",title:"Decimal Practice"},{type:"video",provider:"YouTube",url:"#",title:"Decimal Examples"}],learningObjectives:["Understand decimal place values","Add and subtract decimals","Multiply decimals by whole numbers","Divide decimals by whole numbers"]},{id:"2",title:"Photosynthesis Process",subject:"Science",chapter:"Plant Biology",description:"Understand how plants convert sunlight into energy",estimatedTime:20,difficulty:"Beginner",dueDate:"2024-01-17",progress:45,status:"in_progress",priority:"medium",contentSources:[{type:"video",provider:"Khan Academy",url:"#",title:"What is Photosynthesis?"},{type:"interactive",provider:"Custom",url:"#",title:"Plant Cell Explorer"},{type:"assessment",provider:"Custom",url:"#",title:"Photosynthesis Quiz"}],learningObjectives:["Define photosynthesis","Identify the parts of a leaf","Explain the role of chlorophyll","Describe the inputs and outputs"]},{id:"3",title:"Integer Operations",subject:"Mathematics",chapter:"Number Systems",description:"Master addition, subtraction, multiplication, and division of integers",estimatedTime:30,difficulty:"Intermediate",dueDate:"2024-01-12",progress:100,status:"completed",priority:"low",score:92,completedAt:"2024-01-10",contentSources:[{type:"video",provider:"Khan Academy",url:"#",title:"Integer Basics"},{type:"interactive",provider:"IXL",url:"#",title:"Integer Practice"}],learningObjectives:["Understand positive and negative numbers","Add and subtract integers","Multiply and divide integers","Solve integer word problems"]}],g=k=>{switch(k){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"assigned":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},x=k=>{switch(k){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},v=k=>{switch(k){case"Beginner":return"bg-green-100 text-green-800";case"Intermediate":return"bg-yellow-100 text-yellow-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=k=>{switch(k.toLowerCase()){case"youtube":return r.jsx(Ho,{className:"w-4 h-4 text-red-600"});case"khan academy":return r.jsx(Ds,{className:"w-4 h-4 text-green-600"});case"ixl":return r.jsx(Ds,{className:"w-4 h-4 text-blue-600"});default:return r.jsx(Ds,{className:"w-4 h-4 text-gray-600"})}},N=p.filter(k=>{const R=k.title.toLowerCase().includes(i.toLowerCase())||k.subject.toLowerCase().includes(i.toLowerCase()),O=a==="all"||k.subject===a,H=o==="all"||k.status===o;return R&&O&&H}),_=({concept:k})=>r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:r.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-2/3 shadow-lg rounded-lg bg-white max-h-[80vh] overflow-y-auto",children:r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:k.title}),r.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Subject:"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:k.subject})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Chapter:"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:k.chapter})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Estimated Time:"}),r.jsxs("span",{className:"ml-2 text-sm font-medium text-gray-900",children:[k.estimatedTime," minutes"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Due Date:"}),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:k.dueDate})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${g(k.status)}`,children:k.status.replace("_"," ")}),r.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${v(k.difficulty)}`,children:k.difficulty}),r.jsxs("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${x(k.priority)}`,children:[k.priority," priority"]})]}),r.jsx("p",{className:"text-sm text-gray-700 mt-4",children:k.description})]}),k.progress>0&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),r.jsxs("span",{className:"text-sm text-gray-500",children:[k.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${k.progress}%`}})}),k.status==="completed"&&k.score&&r.jsxs("div",{className:"mt-2 flex items-center",children:[r.jsx(cv,{className:"w-4 h-4 text-yellow-500 mr-1"}),r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Final Score: ",k.score,"%"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Learning Objectives"}),r.jsx("ul",{className:"space-y-2",children:k.learningObjectives.map((R,O)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx(Lt,{className:"w-4 h-4 text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-700",children:R})]},O))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Learning Materials"}),r.jsx("div",{className:"space-y-3",children:k.contentSources.map((R,O)=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[j(R.provider),r.jsxs("div",{className:"ml-3",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.title}),r.jsxs("div",{className:"text-xs text-gray-500",children:[R.provider,"  ",R.type]})]})]}),r.jsxs("button",{className:"inline-flex items-center px-3 py-1 text-xs font-medium text-blue-700 bg-blue-50 rounded-full hover:bg-blue-100",children:[r.jsx(Ut,{className:"w-3 h-3 mr-1"}),"Start"]})]})},O))})]}),r.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{onClick:()=>m(null),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"}),k.status!=="completed"&&r.jsxs("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700",children:[r.jsx(Ut,{className:"w-4 h-4 mr-2"}),k.status==="assigned"?"Start Learning":"Continue"]})]})]})]})})});return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 px-4 sm:px-6 lg:px-8 scroll-smooth",children:[r.jsx("div",{className:"sm:flex sm:items-center animate-slide-in-up",children:r.jsxs("div",{className:"sm:flex-auto",children:[r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent animate-fade-in-scale",children:"My Concepts"}),r.jsx("p",{className:"mt-2 text-lg text-gray-600 animate-slide-in-left delay-200",children:"Access your assigned learning concepts and track your progress through each module."})]})}),r.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6 animate-slide-in-up delay-300",children:[r.jsxs("div",{className:"relative group",children:[r.jsx(Cr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors"}),r.jsx("input",{type:"text",placeholder:"Search concepts...",value:i,onChange:k=>n(k.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 hover:shadow-md bg-white"})]}),r.jsxs("div",{className:"relative group",children:[r.jsx(Yn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors"}),r.jsxs("select",{value:a,onChange:k=>l(k.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none transition-all duration-300 hover:shadow-md bg-white cursor-pointer",children:[r.jsx("option",{value:"all",children:"All Subjects"}),r.jsx("option",{value:"Mathematics",children:"Mathematics"}),r.jsx("option",{value:"Science",children:"Science"}),r.jsx("option",{value:"English",children:"English"})]})]}),r.jsxs("div",{className:"relative group",children:[r.jsx(Lt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-blue-500 transition-colors"}),r.jsxs("select",{value:o,onChange:k=>u(k.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none transition-all duration-300 hover:shadow-md bg-white cursor-pointer",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"assigned",children:"Assigned"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"completed",children:"Completed"})]})]})]}),r.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map((k,R)=>r.jsxs("div",{className:`group bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover-lift hover-glow cursor-pointer transition-all duration-300 animate-bounce-in delay-${(R+1)*100}`,onClick:()=>m(k.id),children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-green-600 transition-colors duration-300 mb-2",children:k.title}),r.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[r.jsx(Ue,{className:"w-4 h-4 mr-2 text-green-500"}),k.subject,"  ",k.chapter]}),r.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[r.jsx(dt,{className:"w-4 h-4 mr-2 animate-pulse"}),k.estimatedTime," minutes"]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full ${g(k.status)} animate-pulse`,children:k.status.replace("_"," ")}),r.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full ${v(k.difficulty)}`,children:k.difficulty})]})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2 group-hover:text-gray-700 transition-colors",children:k.description}),k.progress>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),r.jsxs("span",{className:"text-sm font-bold text-green-600",children:[k.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:r.jsx("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 h-3 rounded-full animate-shimmer transition-all duration-1000",style:{width:`${k.progress}%`}})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${x(k.priority)} animate-pulse`,children:[k.priority," priority"]})}),r.jsxs("button",{className:"group-hover:bg-gradient-to-r group-hover:from-green-500 group-hover:to-blue-500 bg-gray-100 text-gray-600 group-hover:text-white px-4 py-2 rounded-xl font-medium transition-all duration-300 transform group-hover:scale-105 flex items-center",children:[r.jsx(Ut,{className:"w-4 h-4 mr-2"}),k.status==="assigned"?"Start":"Continue"]})]})]},k.id))}),N.length===0&&r.jsxs("div",{className:"text-center py-12 animate-fade-in",children:[r.jsx(Ue,{className:"mx-auto h-16 w-16 text-gray-300 mb-4 animate-pulse"}),r.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No concepts found"}),r.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]}),h&&r.jsx(_,{concept:p.find(k=>k.id===h)})]})},Dv=async i=>{const{data:n,error:a}=await ne.from("achievements").select("*").not("user_achievements","inner.user_id","eq",i);if(a){console.error("Error fetching unearned achievements",a);return}for(const l of n){let o=!1;const u=l.criteria;switch(u.type){case"complete_concepts":const{count:h,error:m}=await ne.from("student_progress").select("id",{count:"exact"}).eq("student_id",i).eq("status","completed");if(m){console.error("Error checking concept completion",m);continue}h>=u.count&&(o=!0);break}o&&await ne.from("user_achievements").insert({user_id:i,achievement_id:l.id})}},Uv=()=>{const[i,n]=w.useState([]);useEffect(()=>{(async()=>{const{data:v,error:j}=await ne.from("user_achievements").select("*, achievement:achievement_id(name, description, icon))");j?console.error("Error fetching achievements",j):n(v||[])})()},[]);const[a,l]=w.useState("week"),o={totalConcepts:15,completedConcepts:8,averageScore:86,totalTimeSpent:420,currentStreak:7},u=[{subject:"Mathematics",totalConcepts:8,completed:5,inProgress:2,notStarted:1,averageScore:88,timeSpent:245,color:"bg-blue-500"},{subject:"Science",totalConcepts:4,completed:2,inProgress:1,notStarted:1,averageScore:82,timeSpent:125,color:"bg-green-500"},{subject:"English",totalConcepts:3,completed:1,inProgress:1,notStarted:1,averageScore:90,timeSpent:50,color:"bg-purple-500"}],h=[{concept:"Integer Operations",score:92,date:"2024-01-10",subject:"Mathematics"},{concept:"Fraction Addition",score:85,date:"2024-01-08",subject:"Mathematics"},{concept:"Plant Biology",score:88,date:"2024-01-05",subject:"Science"},{concept:"Reading Comprehension",score:90,date:"2024-01-03",subject:"English"},{concept:"Geometry Basics",score:78,date:"2024-01-01",subject:"Mathematics"}],m=[{day:"Mon",timeSpent:45,conceptsCompleted:1},{day:"Tue",timeSpent:60,conceptsCompleted:2},{day:"Wed",timeSpent:30,conceptsCompleted:0},{day:"Thu",timeSpent:75,conceptsCompleted:1},{day:"Fri",timeSpent:90,conceptsCompleted:2},{day:"Sat",timeSpent:40,conceptsCompleted:1},{day:"Sun",timeSpent:55,conceptsCompleted:1}],p=async()=>{const{data:{user:x}}=await ne.auth.getUser();x&&await Dv(x.id)},g=x=>x>=90?"text-green-600 bg-green-100":x>=80?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return r.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"sm:flex sm:items-center",children:[r.jsxs("div",{className:"sm:flex-auto",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Progress"}),r.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Track your learning journey and celebrate your achievements."})]}),r.jsxs("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:[r.jsx("button",{onClick:p,className:"bg-blue-500 text-white p-2 rounded",children:"Complete a concept"}),r.jsxs("select",{value:a,onChange:x=>l(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"}),r.jsx("option",{value:"semester",children:"This Semester"})]})]})]}),r.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-blue-500",children:r.jsx(Lt,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Concepts Completed"}),r.jsxs("div",{className:"flex items-baseline",children:[r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o.completedConcepts}),r.jsxs("p",{className:"ml-1 text-sm text-gray-500",children:["/ ",o.totalConcepts]})]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-green-500",children:r.jsx(bi,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),r.jsx("div",{className:"flex items-baseline",children:r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[o.averageScore,"%"]})})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-purple-500",children:r.jsx(dt,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Time Studied"}),r.jsxs("div",{className:"flex items-baseline",children:[r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:[Math.floor(o.totalTimeSpent/60),"h"]}),r.jsxs("p",{className:"ml-1 text-sm text-gray-500",children:[o.totalTimeSpent%60,"m"]})]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 p-3 rounded-lg bg-orange-500",children:r.jsx(Er,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Streak"}),r.jsxs("div",{className:"flex items-baseline",children:[r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:o.currentStreak}),r.jsx("p",{className:"ml-1 text-sm text-gray-500",children:"days"})]})]})]})})]}),r.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Progress by Subject"})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-6",children:u.map(x=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${x.color} mr-3`}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:x.subject})]}),r.jsxs("span",{className:"text-sm text-gray-500",children:[x.completed,"/",x.totalConcepts," completed"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:r.jsx("div",{className:`h-2 rounded-full ${x.color}`,style:{width:`${x.completed/x.totalConcepts*100}%`}})}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[r.jsxs("span",{children:["Avg Score: ",x.averageScore,"%"]}),r.jsxs("span",{children:["Time: ",Math.floor(x.timeSpent/60),"h ",x.timeSpent%60,"m"]})]})]},x.subject))})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Weekly Activity"})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:m.map(x=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-12 text-sm font-medium text-gray-600",children:x.day}),r.jsx("div",{className:"flex-1 mx-4",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(x.timeSpent/90*100,100)}%`}})})}),r.jsxs("div",{className:"text-sm text-gray-500 w-16 text-right",children:[x.timeSpent,"m"]}),r.jsx("div",{className:"ml-4 flex items-center",children:x.conceptsCompleted>0&&r.jsxs("div",{className:"flex items-center",children:[r.jsx(zs,{className:"w-4 h-4 text-green-600 mr-1"}),r.jsx("span",{className:"text-xs text-green-600",children:x.conceptsCompleted})]})})]},x.day))})})]})]}),r.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Scores"})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concept"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subject"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map((x,v)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ue,{className:"h-5 w-5 text-gray-400 mr-3"}),r.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.concept})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.subject}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g(x.score)}`,children:[x.score,"%"]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.date})]},v))})]})})]}),r.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Achievements"})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.map(x=>{const v=!!x.earned_at;return r.jsx("div",{className:`border rounded-lg p-4 ${v?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"text-2xl mr-3",children:x.achievement.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:x.achievement.name}),v&&r.jsx(zs,{className:"w-4 h-4 text-green-600"})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:x.achievement.description}),v?r.jsxs("p",{className:"text-xs text-green-600 mt-2",children:["Earned on ",new Date(x.earned_at).toLocaleDateString()]}):r.jsxs("div",{className:"mt-2",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:r.jsx("div",{className:"bg-blue-600 h-1 rounded-full",style:{width:"0%"}})}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"0% complete"})," // Placeholder for progress"]})]})]})},x.id)}),"          "]})})]})]})},Fv=({user:i,onLogout:n})=>{const[a,l]=w.useState("overview"),o=[{name:"My Dashboard",icon:Rt,current:a==="overview",onClick:()=>l("overview")},{name:"My Concepts",icon:Ue,current:a==="concepts",onClick:()=>l("concepts")},{name:"My Progress",icon:Er,current:a==="progress",onClick:()=>l("progress")}],u=()=>{switch(a){case"concepts":return r.jsx(Mv,{});case"progress":return r.jsx(Uv,{});default:return r.jsx(zv,{user:i})}};return r.jsx(_i,{user:i,navigation:o,onLogout:n,children:u()})},zv=({user:i})=>{const n=[{name:"Concepts Completed",value:"12",change:"+3 this week",icon:zs,color:"bg-gradient-to-br from-green-500 to-green-600"},{name:"Current Score",value:"88%",change:"+5% improvement",icon:bi,color:"bg-gradient-to-br from-purple-500 to-purple-600"},{name:"Time Studied",value:"245m",change:"This week",icon:dt,color:"bg-gradient-to-br from-blue-500 to-blue-600"},{name:"Streak Days",value:"7",change:"Keep it up!",icon:Er,color:"bg-gradient-to-br from-orange-500 to-orange-600"}],a=[{id:"1",concept:"Decimal Operations",subject:"Mathematics",dueDate:"Today",estimatedTime:25,progress:0,status:"not_started",priority:"high"},{id:"2",concept:"Photosynthesis Process",subject:"Science",dueDate:"Tomorrow",estimatedTime:20,progress:45,status:"in_progress",priority:"medium"},{id:"3",concept:"Reading Comprehension",subject:"English",dueDate:"Jan 20",estimatedTime:30,progress:0,status:"not_started",priority:"low"}],l=[{concept:"Integer Operations",action:"Completed",score:92,time:"2 hours ago"},{concept:"Fraction Addition",action:"Watched video",score:null,time:"1 day ago"},{concept:"Geometry Basics",action:"Started practice",score:null,time:"2 days ago"}],o=h=>{switch(h){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},u=h=>{switch(h){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"not_started":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 px-4 sm:px-6 lg:px-8 scroll-smooth",children:[r.jsxs("div",{className:"mb-8 animate-fade-in",children:[r.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:["Welcome back, ",i.name,"!"]}),r.jsx("p",{className:"mt-2 text-gray-600 text-lg",children:"Ready to continue learning? Here's what's on your schedule today."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:n.map((h,m)=>r.jsx("div",{className:"group bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300 transform hover:scale-105 animate-fade-in",style:{animationDelay:`${m*100}ms`,animationFillMode:"forwards"},children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:`flex-shrink-0 p-3 rounded-xl ${h.color} shadow-lg group-hover:scale-110 transition-transform duration-200`,children:r.jsx(h.icon,{className:"h-6 w-6 text-white"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 group-hover:text-gray-800 transition-colors",children:h.name}),r.jsx("div",{className:"flex items-baseline",children:r.jsx("p",{className:"text-2xl font-bold text-gray-900 group-hover:text-green-600 transition-colors",children:h.value})}),r.jsx("p",{className:"text-xs text-green-600 mt-1 font-medium",children:h.change})]})]})},h.name))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 animate-fade-in",style:{animationDelay:"400ms",animationFillMode:"forwards"},children:[r.jsx("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-green-50 to-blue-50 rounded-t-2xl",children:r.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[r.jsx(Lt,{className:"h-5 w-5 mr-2 text-green-600"}),"Today's Assignments"]})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:a.map((h,m)=>r.jsxs("div",{className:"group border border-gray-200 rounded-2xl p-4 hover:shadow-lg hover:border-green-200 transition-all duration-300 transform hover:scale-[1.02] animate-fade-in",style:{animationDelay:`${500+m*100}ms`,animationFillMode:"forwards"},children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-green-600 transition-colors",children:h.concept}),r.jsx("span",{className:`ml-2 inline-flex px-3 py-1 text-xs font-bold rounded-full shadow-sm ${o(h.priority)}`,children:h.priority})]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1 font-medium",children:h.subject}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-2",children:[r.jsxs("div",{className:"flex items-center mr-4 p-1 rounded-lg bg-gray-50",children:[r.jsx(dt,{className:"w-3 h-3 mr-1 text-blue-500"}),r.jsxs("span",{className:"font-medium",children:[h.estimatedTime," min"]})]}),r.jsxs("div",{className:"flex items-center p-1 rounded-lg bg-gray-50",children:[r.jsx(Lt,{className:"w-3 h-3 mr-1 text-orange-500"}),r.jsxs("span",{className:"font-medium",children:["Due ",h.dueDate]})]})]})]}),r.jsx("span",{className:`inline-flex px-3 py-1.5 text-xs font-bold rounded-full shadow-sm ${u(h.status)}`,children:h.status.replace("_"," ")})]}),h.progress>0&&r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${h.progress}%`}})}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[h.progress,"% complete"]})]}),r.jsxs("button",{className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[r.jsx(Xh,{className:"w-4 h-4 mr-2"}),h.status==="not_started"?"Start Learning":"Continue"]})]},h.id))})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:l.map((h,m)=>r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${h.action==="Completed"?"bg-green-100":"bg-blue-100"}`,children:h.action==="Completed"?r.jsx(zs,{className:"w-4 h-4 text-green-600"}):r.jsx(Xh,{className:"w-4 h-4 text-blue-600"})})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsxs("p",{className:"text-sm text-gray-900",children:[r.jsx("span",{className:"font-medium",children:h.action})," ",h.concept]}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:h.time}),h.score&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mx-2",children:""}),r.jsxs("span",{className:"text-green-600 font-medium",children:["Score: ",h.score,"%"]})]})]})]})]},m))})})]})]}),r.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Access"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("button",{className:"bg-blue-50 hover:bg-blue-100 p-4 rounded-lg text-center transition-colors",children:[r.jsx(Ue,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-blue-900",children:"All Concepts"})]}),r.jsxs("button",{className:"bg-green-50 hover:bg-green-100 p-4 rounded-lg text-center transition-colors",children:[r.jsx(Er,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-green-900",children:"My Progress"})]}),r.jsxs("button",{className:"bg-purple-50 hover:bg-purple-100 p-4 rounded-lg text-center transition-colors",children:[r.jsx(bi,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Achievements"})]}),r.jsxs("button",{className:"bg-orange-50 hover:bg-orange-100 p-4 rounded-lg text-center transition-colors",children:[r.jsx(dt,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Study Schedule"})]})]})]})]})},Bv=({user:i,onLogout:n})=>{const[a,l]=w.useState("overview"),o=[{name:"Overview",icon:Rt,current:a==="overview",onClick:()=>l("overview")},{name:"Children Progress",icon:Qe,current:a==="children",onClick:()=>l("children")}],u=()=>{switch(a){case"children":return r.jsx(qv,{});default:return r.jsx(Wv,{user:i})}};return r.jsx(_i,{user:i,navigation:o,onLogout:n,children:u()})},Wv=({user:i})=>{const n=[{id:"1",name:"Emma Wilson",grade:"5th Grade",class:"Math 101 - Period 1",teacher:"Ms. Johnson",avatar:"EW",totalConcepts:12,completedConcepts:8,averageScore:88,lastActivity:"2024-01-15 3:30 PM",weeklyTimeSpent:180,status:"on_track"},{id:"2",name:"Michael Wilson",grade:"3rd Grade",class:"Math 201 - Period 2",teacher:"Mr. Davis",avatar:"MW",totalConcepts:8,completedConcepts:6,averageScore:92,lastActivity:"2024-01-15 2:15 PM",weeklyTimeSpent:145,status:"ahead"}],a=[{child:"Emma Wilson",concept:"Decimal Operations",subject:"Mathematics",dueDate:"2024-01-16",status:"not_started"},{child:"Emma Wilson",concept:"Photosynthesis Process",subject:"Science",dueDate:"2024-01-17",status:"in_progress"},{child:"Michael Wilson",concept:"Addition with Regrouping",subject:"Mathematics",dueDate:"2024-01-18",status:"not_started"}],l=[{child:"Emma Wilson",action:"Completed Integer Operations",score:88,time:"2 hours ago"},{child:"Michael Wilson",action:"Started Multiplication Tables",score:null,time:"4 hours ago"},{child:"Emma Wilson",action:"Watched Fraction Addition video",score:null,time:"1 day ago"}],o=m=>{switch(m){case"ahead":return"bg-green-100 text-green-800";case"on_track":return"bg-blue-100 text-blue-800";case"needs_attention":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=m=>{switch(m){case"ahead":return r.jsx(zs,{className:"w-4 h-4 text-green-600"});case"on_track":return r.jsx(Lt,{className:"w-4 h-4 text-blue-600"});case"needs_attention":return r.jsx(zy,{className:"w-4 h-4 text-red-600"});default:return r.jsx(Lt,{className:"w-4 h-4 text-gray-600"})}},h=m=>{switch(m){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"not_started":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-50 via-white to-blue-50 px-4 sm:px-6 lg:px-8 scroll-smooth",children:[r.jsxs("div",{className:"mb-8 animate-fade-in",children:[r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-pink-600 to-blue-600 bg-clip-text text-transparent",children:"Parent Dashboard"}),r.jsxs("p",{className:"mt-2 text-gray-600 text-lg animate-slide-in-left delay-200",children:["Welcome back, ",i.name,"! Here's how your children are progressing."]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:n.map((m,p)=>r.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] animate-fade-in",style:{animationDelay:`${p*150}ms`,animationFillMode:"forwards"},children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-14 w-14 rounded-2xl bg-gradient-to-br from-pink-500 to-blue-500 flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-200",children:r.jsx("span",{className:"text-xl font-bold text-white",children:m.avatar})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-pink-600 transition-colors",children:m.name}),r.jsxs("p",{className:"text-sm font-medium text-gray-600",children:[m.grade,"  ",m.class]}),r.jsxs("p",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded-lg mt-1",children:["Teacher: ",m.teacher]})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-gray-50 rounded-xl mr-2 group-hover:bg-white group-hover:shadow-md transition-all duration-200",children:u(m.status)}),r.jsx("span",{className:`inline-flex px-3 py-1.5 text-xs font-bold rounded-full shadow-sm ${o(m.status)}`,children:m.status.replace("_"," ")})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:m.completedConcepts}),r.jsx("div",{className:"text-xs text-gray-500",children:"Completed"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[m.averageScore,"%"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Avg Score"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[Math.floor(m.weeklyTimeSpent/60),"h"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"This Week"})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[r.jsx("span",{className:"text-gray-600",children:"Progress"}),r.jsxs("span",{className:"font-medium",children:[m.completedConcepts,"/",m.totalConcepts]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${m.completedConcepts/m.totalConcepts*100}%`}})})]}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[r.jsx(dt,{className:"w-3 h-3 mr-1"}),"Last active: ",m.lastActivity]})]},m.id))}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Upcoming Assignments"})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:a.map((m,p)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.concept}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[m.child,"  ",m.subject]}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[r.jsx(Fs,{className:"w-3 h-3 mr-1"}),"Due ",m.dueDate]})]}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(m.status)}`,children:m.status.replace("_"," ")})]},p))})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Activity"})}),r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"space-y-4",children:l.map((m,p)=>r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${m.action.includes("Completed")?"bg-green-100":"bg-blue-100"}`,children:m.action.includes("Completed")?r.jsx(zs,{className:"w-4 h-4 text-green-600"}):r.jsx(Ue,{className:"w-4 h-4 text-blue-600"})})}),r.jsxs("div",{className:"ml-3 flex-1",children:[r.jsxs("p",{className:"text-sm text-gray-900",children:[r.jsx("span",{className:"font-medium",children:m.child})," ",m.action.toLowerCase()]}),r.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:m.time}),m.score&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"mx-2",children:""}),r.jsxs("span",{className:"text-green-600 font-medium",children:["Score: ",m.score,"%"]})]})]})]})]},p))})})]})]}),r.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("button",{className:"bg-blue-50 hover:bg-blue-100 p-4 rounded-lg text-center transition-colors",children:[r.jsx(Rt,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-blue-900",children:"View Reports"})]}),r.jsxs("button",{className:"bg-green-50 hover:bg-green-100 p-4 rounded-lg text-center transition-colors",children:[r.jsx(Fs,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-green-900",children:"Schedule"})]}),r.jsxs("button",{className:"bg-purple-50 hover:bg-purple-100 p-4 rounded-lg text-center transition-colors",children:[r.jsx(Qe,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Contact Teachers"})]}),r.jsxs("button",{className:"bg-orange-50 hover:bg-orange-100 p-4 rounded-lg text-center transition-colors",children:[r.jsx(bi,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Achievements"})]})]})]})]})},qv=()=>r.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Children Progress"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Detailed progress tracking for each of your children."})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[r.jsx(Qe,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Detailed Progress Reports"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"This feature will provide comprehensive progress reports, grade tracking, and detailed analytics for each child."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Coming soon in the full version of the LMS platform."})]})]});function Vv(){const[i,n]=w.useState(null),[a,l]=w.useState(!0);w.useEffect(()=>{(()=>{const m=localStorage.getItem("currentUser");m&&n(JSON.parse(m)),l(!1)})()},[]);const o=h=>{n(h),localStorage.setItem("currentUser",JSON.stringify(h))},u=()=>{n(null),localStorage.removeItem("currentUser")};if(a)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!i)return r.jsx(tf,{onLogin:o});switch(i.role){case"admin":return r.jsx(Tv,{user:i,onLogout:u});case"teacher":return r.jsx(Ov,{user:i,onLogout:u});case"student":return r.jsx(Fv,{user:i,onLogout:u});case"parent":return r.jsx(Bv,{user:i,onLogout:u});default:return r.jsx(tf,{onLogin:o})}}Zm.createRoot(document.getElementById("root")).render(r.jsx(Fn.StrictMode,{children:r.jsx(dx,{basename:"/lms",children:r.jsx(Vv,{})})}));
